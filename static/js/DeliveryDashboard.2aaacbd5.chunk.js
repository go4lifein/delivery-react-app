(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[13],{143:function(e,t,a){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv",a=document.createElement("a"),r=[];e.forEach((function(e){e=e.join(","),r.push(e)}));var n=r.join("\n");null!=n&&(n.match(/^data:text\/csv/i)||(n="data:text/csv;charset=utf-8,".concat(n)),a.setAttribute("href",encodeURI(n)),a.setAttribute("download",t),a.click())}},177:function(e,t,a){"use strict";var r=a(1),n=a(5),i=a(0),c=(a(10),a(29)),o=a(129),l=a(20),s=a(528),d=a(38),u=i.forwardRef((function(e,t){e.checked;var a=e.classes,l=e.className,u=e.control,p=e.disabled,b=(e.inputRef,e.label),h=e.labelPlacement,j=void 0===h?"end":h,v=(e.name,e.onChange,e.value,Object(n.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),m=Object(o.a)(),x=p;"undefined"===typeof x&&"undefined"!==typeof u.props.disabled&&(x=u.props.disabled),"undefined"===typeof x&&m&&(x=m.disabled);var f={disabled:x};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof u.props[t]&&"undefined"!==typeof e[t]&&(f[t]=e[t])})),i.createElement("label",Object(r.a)({className:Object(c.a)(a.root,l,"end"!==j&&a["labelPlacement".concat(Object(d.a)(j))],x&&a.disabled),ref:t},v),i.cloneElement(u,f),i.createElement(s.a,{component:"span",className:Object(c.a)(a.label,x&&a.disabled)},b))}));t.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(u)},196:function(e,t,a){"use strict";var r=a(1),n=a(5),i=a(0),c=(a(10),a(29)),o=a(20),l=a(23),s=a(38),d=a(124),u=i.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.color,u=void 0===l?"secondary":l,p=e.edge,b=void 0!==p&&p,h=e.size,j=void 0===h?"medium":h,v=Object(n.a)(e,["classes","className","color","edge","size"]),m=i.createElement("span",{className:a.thumb});return i.createElement("span",{className:Object(c.a)(a.root,o,{start:a.edgeStart,end:a.edgeEnd}[b],"small"===j&&a["size".concat(Object(s.a)(j))])},i.createElement(d.a,Object(r.a)({type:"checkbox",icon:m,checkedIcon:m,classes:{root:Object(c.a)(a.switchBase,a["color".concat(Object(s.a)(u))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},v)),i.createElement("span",{className:a.track}))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(u)},197:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return p}));var r=a(112),n=a(142),i=a.n(n);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),a="".concat(r.a,"/v2/order/getAllOrders?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.c)(a)}function o(){var e="".concat(r.a,"/v2/order/getDeliveryBoysData");return Object(r.c)(e)}function l(e){var t="".concat(r.a,"/v2/order/assignDrivers");return Object(r.e)(t,e)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),a="".concat(r.a,"/v2/order/getOrderedProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.c)(a)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),a="".concat(r.a,"/v2/order/getOrderProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.c)(a)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),a="".concat(r.a,"/v2/order/getOrderBoxData?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.c)(a)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),a="".concat(r.a,"/v2/order/getDeliveryReport?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.c)(a)}},198:function(e,t,a){"use strict";var r=a(5),n=a(1),i=a(0),c=(a(10),a(29)),o=a(20),l=[0,1,2,3,4,5,6,7,8,9,10],s=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var u=i.forwardRef((function(e,t){var a=e.alignContent,o=void 0===a?"stretch":a,l=e.alignItems,s=void 0===l?"stretch":l,d=e.classes,u=e.className,p=e.component,b=void 0===p?"div":p,h=e.container,j=void 0!==h&&h,v=e.direction,m=void 0===v?"row":v,x=e.item,f=void 0!==x&&x,g=e.justify,O=void 0===g?"flex-start":g,y=e.lg,D=void 0!==y&&y,w=e.md,k=void 0!==w&&w,C=e.sm,Y=void 0!==C&&C,S=e.spacing,M=void 0===S?0:S,E=e.wrap,B=void 0===E?"wrap":E,W=e.xl,N=void 0!==W&&W,I=e.xs,P=void 0!==I&&I,R=e.zeroMinWidth,A=void 0!==R&&R,$=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),_=Object(c.a)(d.root,u,j&&[d.container,0!==M&&d["spacing-xs-".concat(String(M))]],f&&d.item,A&&d.zeroMinWidth,"row"!==m&&d["direction-xs-".concat(String(m))],"wrap"!==B&&d["wrap-xs-".concat(String(B))],"stretch"!==s&&d["align-items-xs-".concat(String(s))],"stretch"!==o&&d["align-content-xs-".concat(String(o))],"flex-start"!==O&&d["justify-xs-".concat(String(O))],!1!==P&&d["grid-xs-".concat(String(P))],!1!==Y&&d["grid-sm-".concat(String(Y))],!1!==k&&d["grid-md-".concat(String(k))],!1!==D&&d["grid-lg-".concat(String(D))],!1!==N&&d["grid-xl-".concat(String(N))]);return i.createElement(b,Object(n.a)({className:_,ref:t},$))})),p=Object(o.a)((function(e){return Object(n.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return l.forEach((function(r){var n=e.spacing(r);0!==n&&(a["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(d(n,2)),width:"calc(100% + ".concat(d(n),")"),"& > $item":{padding:d(n,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var r={};s.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var n="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:n,flexGrow:0,maxWidth:n}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(n.a)(e,r):e[t.breakpoints.up(a)]=r}(t,e,a),t}),{}))}),{name:"MuiGrid"})(u);t.a=p},247:function(e,t,a){"use strict";var r=a(97),n=a(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),c=(0,r(a(100)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=c},248:function(e,t,a){"use strict";var r=a(97),n=a(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),c=(0,r(a(100)).default)(i.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.default=c},452:function(e,t,a){"use strict";var r=a(1),n=a(5),i=a(16),c=a(0),o=(a(10),a(29)),l=a(20),s=a(38),d=a(570),u=a(533),p=a(534),b=a(42),h=a(526),j={enter:b.b.enteringScreen,exit:b.b.leavingScreen},v=c.forwardRef((function(e,t){var a=e.BackdropProps,i=e.children,l=e.classes,b=e.className,v=e.disableBackdropClick,m=void 0!==v&&v,x=e.disableEscapeKeyDown,f=void 0!==x&&x,g=e.fullScreen,O=void 0!==g&&g,y=e.fullWidth,D=void 0!==y&&y,w=e.maxWidth,k=void 0===w?"sm":w,C=e.onBackdropClick,Y=e.onClose,S=e.onEnter,M=e.onEntered,E=e.onEntering,B=e.onEscapeKeyDown,W=e.onExit,N=e.onExited,I=e.onExiting,P=e.open,R=e.PaperComponent,A=void 0===R?h.a:R,$=e.PaperProps,_=void 0===$?{}:$,L=e.scroll,z=void 0===L?"paper":L,H=e.TransitionComponent,T=void 0===H?p.a:H,U=e.transitionDuration,F=void 0===U?j:U,G=e.TransitionProps,K=e["aria-describedby"],X=e["aria-labelledby"],J=Object(n.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),V=c.useRef();return c.createElement(d.a,Object(r.a)({className:Object(o.a)(l.root,b),BackdropComponent:u.a,BackdropProps:Object(r.a)({transitionDuration:F},a),closeAfterTransition:!0,disableBackdropClick:m,disableEscapeKeyDown:f,onEscapeKeyDown:B,onClose:Y,open:P,ref:t},J),c.createElement(T,Object(r.a)({appear:!0,in:P,timeout:F,onEnter:S,onEntering:E,onEntered:M,onExit:W,onExiting:I,onExited:N,role:"none presentation"},G),c.createElement("div",{className:Object(o.a)(l.container,l["scroll".concat(Object(s.a)(z))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===V.current&&(V.current=null,C&&C(e),!m&&Y&&Y(e,"backdropClick"))},onMouseDown:function(e){V.current=e.target}},c.createElement(A,Object(r.a)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":X},_,{className:Object(o.a)(l.paper,l["paperScroll".concat(Object(s.a)(z))],l["paperWidth".concat(Object(s.a)(String(k)))],_.className,O&&l.paperFullScreen,D&&l.paperFullWidth)}),i))))}));t.a=Object(l.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(v)},574:function(e,t,a){"use strict";a.r(t);var r=a(43),n=a(130),i=a.n(n),c=a(131),o=a(105),l=a(106),s=a(107),d=a(108),u=a(4),p=a(2),b=a(0),h=a.n(b),j=a(39),v=a(561),m=a(584),x=a(246),f=a(543),g=a(544),O=a(581),y=a(143),D=a(563),w=a(177),k=a(196),C=a(142),Y=a.n(C),S=a(178),M=a.n(S),E=a(248),B=a.n(E),W=a(40),N=a(194),I=a.n(N),P=a(195),R=a.n(P),A=Object(p.jsx)(R.a,{});function $(e){var t=e.data,a=e.onRowSelect,r=e.deliveryBoys,n=e.orderBoxData,i=[{name:"Order Id",selector:"orderId",sortable:!0,width:"130px"},{name:"Order Date",selector:"orderDate",sortable:!0,width:"120px",cell:function(e){var t=e.orderDate;return Y()(t).format("DD-MM-YYYY")}},{name:"Crate Id",selector:"orderId",sortable:!0,width:"120px",cell:function(e){var t=e.orderId,a=n.get(parseInt(t));return null===a||void 0===a?void 0:a.crateId}},{name:"Name",selector:"name",sortable:!0,width:"200px"},{name:"Phone",selector:"phone",sortable:!0,width:"140px"},{name:"Hub",sortable:!0,selector:"region",width:"100px"},{name:"Area",sortable:!0,selector:"area",width:"140px"},{name:"Locality",sortable:!0,selector:"subarea",width:"200px"},{name:"Delivered on",selector:"delivery_date",sortable:!0,width:"130px",cell:function(e){var t=e.delivery_date;return t?Y()(t).format("DD-MM-YYYY"):Object(p.jsx)("span",{style:{color:"red"},children:"Not delivered"})}},{name:"Driver",selector:"_driver",cell:function(e,t){var a=e.driverId;if(a){var n=r.get(a);return n?n.name:""}return""}}];return Object(p.jsx)("div",{children:Object(p.jsx)(I.a,{striped:!0,noHeader:!0,dense:!0,sortIcon:A,data:t,columns:i,highlightOnHover:!0,pointerOnHover:!0,pagination:!0,paginationPerPage:10,onRowClicked:function(e,t){a(e)}})})}var _=h.a.memo($),L=a(530),z=a(528),H=a(247),T=a.n(H),U=a(452),F=a(531),G=a(527),K=a(525),X=a(538),J=a(529),V=a(198);var Z=h.a.forwardRef((function(e,t){return Object(p.jsx)(F.a,Object(u.a)({direction:"up",ref:t},e))})),q=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).Review=function(){var e=r.props,t=e.customer,a=e.deliveryBoys;console.log(t);var n=t.driver_id,i=t.delivery_date,c=t.delivery_type,o=t.proof_img,l=t.complete_delivery,s=t.small_boxes,d=t.large_boxes,u=t.gable_tops,b=t.milk_packets,h=a.get(n);return Object(p.jsx)("div",{className:"pv-10",children:t.driver_id?Object(p.jsx)(X.a,{variant:"outlined",children:Object(p.jsxs)(V.a,{container:!0,children:[Object(p.jsxs)(V.a,{item:!0,md:12,lg:6,children:[Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Delivered By"}),Object(p.jsxs)(z.a,{variant:"h6",children:[h.name," on ",Y()(i).format("DD-MMM-YYYY")]})]}),Object(p.jsx)(J.a,{}),Object(p.jsx)(J.a,{}),Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"}),Object(p.jsx)(z.a,{variant:"h6",children:function(e){switch(e){case"yes":return"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e";case"no":return"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948";default:return Object(p.jsx)("span",{style:{color:"red"},children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"})}}(l)})]}),Object(p.jsx)(J.a,{}),Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"}),Object(p.jsx)(z.a,{variant:"h6",children:function(e){switch(e){case"in_hand":return"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940";case"doorstep":return"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e";case"society_guard":return"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"tower_guard":return"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"order_cancelled":return"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932";default:return Object(p.jsx)("span",{style:{color:"red"},children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"})}}(c)})]}),Object(p.jsx)(J.a,{}),Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Small Boxes - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(p.jsx)(z.a,{variant:"h6",children:s})]}),Object(p.jsx)(J.a,{}),Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Large Boxes - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(p.jsx)(z.a,{variant:"h6",children:d})]}),Object(p.jsx)(J.a,{}),Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Gable Top - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(p.jsx)(z.a,{variant:"h6",children:u})]}),Object(p.jsx)(J.a,{}),Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Milk Packets - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u092a\u0948\u0915\u0947\u091f \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(p.jsx)(z.a,{variant:"h6",children:b})]})]}),Object(p.jsx)(V.a,{item:!0,md:12,lg:6,children:Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsx)(z.a,{variant:"body1",children:"Delivery Photo"}),o?Object(p.jsx)("div",{children:Object(p.jsx)("img",{alt:"order",src:o,height:500})}):Object(p.jsx)(z.a,{variant:"h6",children:Object(p.jsx)("span",{style:{color:"red"},children:"No Picture taken"})})]})})]})}):Object(p.jsx)(z.a,{variant:"h3",style:{color:"red"},children:"Not Delivered yet"})})},r.state=Object(u.a)({},e),r}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.customer;return Object(p.jsx)("div",{children:t&&Object(p.jsxs)(U.a,{fullScreen:!0,open:!0,TransitionComponent:Z,children:[Object(p.jsx)(K.a,{position:"fixed",color:"default",children:Object(p.jsxs)(G.a,{children:[Object(p.jsx)(L.a,{edge:"start",color:"inherit",onClick:function(){e.props.setSelectedCustomer(!1)},"aria-label":"close",children:Object(p.jsx)(T.a,{})}),Object(p.jsx)(z.a,{variant:"h6",children:t.name})]})}),Object(p.jsxs)("div",{style:{margin:"60px 10px 20px 10px",padding:"30px 10px"},children:[Object(p.jsx)(z.a,{variant:"h4",children:"Delivery Information"}),Object(p.jsx)(J.a,{}),Object(p.jsx)(this.Review,{})]})]})})}}]),a}(h.a.Component),Q=Object(j.b)((function(e){var t=e.setAdmin;return Object(u.a)({},t)}))(q),ee=a(140),te=a(197);var ae=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).update=Object(c.a)(i.a.mark((function e(){var t,a,r,c,o,l,s,d,u,p,b,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),t=n.state,a=t.startDate,r=t.endDate,a=Y()(a).format("YYYY-MM-DD"),r=Y()(r).format("YYYY-MM-DD"),c=n.props,o=c.onUpdateDeliveryReport,l=c.onUpdateAdminData,e.next=8,Object(te.c)().then((function(e){return e.data}));case 8:return s=e.sent,d=new Map,s.forEach((function(e){d.set(e.id,e)})),l({deliveryBoys:d}),e.next=14,Object(te.f)(a,r).then((function(e){return e.data}));case 14:return u=e.sent,n.props.onAddOrderProducts(u),e.next=18,Object(te.g)(a,r).then((function(e){return e.data}));case 18:return p=e.sent,n.props.onAddProducts(p),e.next=22,Object(te.e)(a,r).then((function(e){return e.data}));case 22:return b=e.sent,n.props.onAddOrderBox(b),e.next=26,Object(te.d)(a,r).then((function(e){return e.data}));case 26:h=e.sent,o(h),n.setState({loading:!1,lastUpdated:new Date}),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0),n.setState({error:e.t0.message});case 35:case"end":return e.stop()}}),e,null,[[0,31]])}))),n.exportData=function(){for(var e=n.state,t=(e.startDate,e.endDate,n.props.deliveryBoys),a=[["Order Id","Customer ID","Name","Phone","Region","Area","Locality","House","Driver","Delivered","Delivery Type","Complete Delivery","Delivery Photo","Small Box","Large Box","Gable Top","Milk Packets"]],r=n.filterData(),i=0;i<r.length;i++){var c=r[i],o=c.orderId,l=c.driverId,s=c.customerID,d=c.name,u=c.phone,p=c.region,b=c.area,h=c.subarea,j=c.address,v=c.large_boxes,m=c.gable_tops,x=c.milk_packets,f=c.small_boxes,g=c.delivery_type,O=c.proof_img,D=c.delivery_date,w=c.complete_delivery,k="";l&&(k=t.get(l).name),a.push([o,s,d,u,'"'.concat(p,'"'),'"'.concat(b,'"'),'"'.concat(h,'"'),'"'.concat(j.replace(/[^0-9a-zA-Z:/ ]/g,""),'"'),'"'.concat(k,'"'),'"'.concat(D?"Yes":"No",'"'),'"'.concat(g||"",'"'),'"'.concat(w||"",'"'),'"'.concat(O||"",'"'),f,v,m,x])}Object(y.a)(a,"Delivery Report - ".concat((new Date).toDateString(),".csv"))},n.onDateChange=function(e){var t=Y()(e.target.value).format("YYYY-MM-DD");n.setState(Object(r.a)({},e.target.name,t),(function(){return n.update()}))},n.onOrderSelect=function(e){n.setState({selectedOrder:e})},n.state={loading:!0,phone:"",startDate:Y()().format("YYYY-MM-DD"),endDate:Y()().format("YYYY-MM-DD"),selectedArea:[],selectedSubarea:[],selectedHub:[],selectedDriver:"all",showWithoutDairy:!1,hiddenAddress:!1,selectedRow:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.update()}},{key:"filterData",value:function(){var e=this.state,t=e.selectedSubarea,a=e.selectedArea,r=e.selectedHub,n=e.selectedDriver,i=e.phone,c=e.onlyDelivered,o=this.props.orders,l=[];return o&&(l=o.filter((function(e){if(c)return!!e.delivery_date;if(r.length&&e.region!==r)return!1;if(a.length&&!a.includes(e.area))return!1;if(t.length&&!t.includes(e.subarea))return!1;if("all"!==n)if("none"===n){if(null!==e.driverId)return!1}else if(e.driverId!==n)return!1;return!i||(-1!==e.phone.indexOf(i)||(-1!==e.name.toLowerCase().indexOf(i.toLowerCase())||-1!==e.orderId.toString().indexOf(i.toLowerCase())))}))),l}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedArea,n=t.selectedHub,i=t.selectedDriver,c=t.phone,o=t.onlyDelivered,l=t.startDate,s=t.endDate,d=t.selectedOrder,b=t.loading,h=void 0===b||b,j=t.lastUpdated,y=this.props,C=y.locations,Y=y.hubs,S=y.deliveryBoys,E=y.orderBoxData,N=S?Array.from(S.values()):[];N=N.sort((function(e,t){return e.name.localeCompare(t.name)}));var I=[],P=[];C&&C.forEach((function(e,t){e.forEach((function(e,r){t!==n&&0!==n.length||I.push(r),(a.includes(r)||0===a.length)&&(P=P.concat(e))}))})),I=I.sort((function(e,t){return e.localeCompare(t)}));var R=this.filterData();return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex middle space-bw",style:{padding:10},children:[Object(p.jsxs)("div",{className:"flex middle",children:[Object(p.jsx)("div",{style:{marginRight:20,width:220},children:Object(p.jsx)(O.a,{type:"date",value:l,fullWidth:!0,label:"Start Date",name:"startDate",onChange:this.onDateChange})}),Object(p.jsx)("div",{style:{marginRight:20,width:220},children:Object(p.jsx)(O.a,{type:"date",value:s,fullWidth:!0,label:"End Date",name:"endDate",onChange:this.onDateChange})})]}),Object(p.jsxs)("div",{className:"flex middle",children:[Object(p.jsx)("div",{children:Object(p.jsx)(L.a,{onClick:this.update,children:Object(p.jsx)(B.a,{})})}),Object(p.jsx)("div",{children:j&&Object(p.jsxs)("div",{children:["Last Updated: ",Object(p.jsx)("br",{}),j.toTimeString().substr(0,5)]})}),Object(p.jsx)("div",{className:"p-10",children:Object(p.jsx)(g.a,{startIcon:Object(p.jsx)(M.a,{}),color:"secondary",variant:"outlined",onClick:this.exportData,children:"Download Excel"})})]})]}),h?Object(p.jsx)(W.a,{}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(p.jsx)("div",{style:{marginRight:20,width:220},children:Object(p.jsx)(O.a,{value:c,fullWidth:!0,label:"Phone, Name, Crate, Order Id",onChange:function(t){return e.setState({phone:t.target.value})}})}),Object(p.jsx)("div",{style:{marginRight:20,width:120},children:Object(p.jsxs)(f.a,{children:[Object(p.jsx)(m.a,{id:"hub-filter",children:"Hub"}),Object(p.jsx)(v.a,{labelId:"hub-filter",style:{width:100},value:n,onChange:function(t){var a=t.target.value;e.setState({selectedHub:a,selectedArea:[],selectedSubarea:[]})},children:Y.map((function(e){return Object(p.jsx)(x.a,{value:e,children:e},e)}))})]})}),Object(p.jsx)("div",{style:{marginRight:20,width:200},children:Object(p.jsx)(f.a,{style:{width:"100%"},children:Object(p.jsx)(D.a,{options:I,multiple:!0,renderInput:function(e){return Object(p.jsx)(O.a,Object(u.a)(Object(u.a)({},e),{},{label:"Area"}))},onChange:function(t,a){e.setState({selectedArea:a,selectedSubarea:[]})}})})}),Object(p.jsx)("div",{style:{marginRight:20,width:300},children:Object(p.jsx)(f.a,{style:{width:"100%"},children:Object(p.jsx)(D.a,{options:P,multiple:!0,renderInput:function(e){return Object(p.jsx)(O.a,Object(u.a)(Object(u.a)({},e),{},{label:"Locality"}))},onChange:function(t,a){e.setState({selectedSubarea:a})}})})}),Object(p.jsx)("div",{style:{marginRight:20},children:Object(p.jsxs)(f.a,{children:[Object(p.jsx)(m.a,{id:"driver-filter",children:"Assigned Driver"}),Object(p.jsxs)(v.a,{labelId:"driver-filter",style:{width:200},value:i||"all",onChange:function(t,a){var r=t.target.value;e.setState({selectedDriver:r})},children:[Object(p.jsx)(x.a,{value:"all",children:"All"}),Object(p.jsx)(x.a,{value:"none",children:"None"}),N.map((function(e){return Object(p.jsx)(x.a,{value:e.id,children:e.name},"driver-".concat(e.id))}))]})]})}),Object(p.jsx)("div",{children:Object(p.jsx)(w.a,{control:Object(p.jsx)(k.a,{checked:o,onChange:function(t){return e.setState(Object(r.a)({},t.target.name,t.target.checked))},name:"onlyDelivered",color:"primary"}),label:"Delivered"})}),Object(p.jsx)("div",{style:{marginRight:20},children:Object(p.jsx)(g.a,{color:"default",variant:"outlined",onClick:function(){window.location.reload()},children:"Remove Filters"})})]}),Object(p.jsx)(Q,{customer:d,setSelectedCustomer:this.onOrderSelect}),Object(p.jsx)(_,{data:R,onRowSelect:this.onOrderSelect,orderBoxData:E,deliveryBoys:S})]})]})}}]),a}(b.Component);t.default=Object(j.b)((function(e){var t=e.setAdmin;return Object(u.a)({},t)}),(function(e){return{onUpdateDeliveryReport:function(t){return e(Object(ee.f)(t))},onUpdateAdminData:function(t){return e(Object(ee.e)(t))},onAddProducts:function(t){return e(Object(ee.c)(t))},onAddOrderProducts:function(t){return e(Object(ee.b)(t))},onAddOrderBox:function(t){return e(Object(ee.a)(t))}}}))(ae)}}]);
//# sourceMappingURL=DeliveryDashboard.2aaacbd5.chunk.js.map