(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[12],{166:function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"b",(function(){return s})),r.d(t,"i",(function(){return j})),r.d(t,"h",(function(){return b})),r.d(t,"g",(function(){return u})),r.d(t,"f",(function(){return h})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return x}));var a=r(133),n=r(165),c=r.n(n),i=r(157),o=r.n(i);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getAllOrders?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.c)(r)}function d(){var e="".concat(a.a,"/v2/order/getDeliveryBoysData");return Object(a.c)(e)}function s(e){var t="".concat(a.a,"/v2/order/assignDrivers");return Object(a.e)(t,e)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getOrderedProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.c)(r)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getOrderProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.c)(r)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getOrderBoxData?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.c)(r)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getDeliveryReport?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.c)(r)}function p(e){var t="".concat(a.a,"/delivery/addDeliveryPerson");return o.a.put(t,e,{headers:{"Content-Type":"application/json"}})}function x(){var e="".concat(a.a,"/farmers/getAllFarmers");return Object(a.c)(e)}},180:function(e,t,r){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv",r=document.createElement("a"),a=[];e.forEach((function(e){e=e.join(","),a.push(e)}));var n=a.join("\n");null!=n&&(n.match(/^data:text\/csv/i)||(n="data:text/csv;charset=utf-8,".concat(n)),r.setAttribute("href",encodeURI(n)),r.setAttribute("download",t),r.click())}},219:function(e,t,r){"use strict";var a=r(1),n=r(3),c=r(0),i=(r(8),r(10)),o=r(152),l=r(17),d=r(942),s=r(23),j=c.forwardRef((function(e,t){e.checked;var r=e.classes,l=e.className,j=e.control,b=e.disabled,u=(e.inputRef,e.label),h=e.labelPlacement,p=void 0===h?"end":h,x=(e.name,e.onChange,e.value,Object(n.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),v=Object(o.a)(),m=b;"undefined"===typeof m&&"undefined"!==typeof j.props.disabled&&(m=j.props.disabled),"undefined"===typeof m&&v&&(m=v.disabled);var f={disabled:m};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof j.props[t]&&"undefined"!==typeof e[t]&&(f[t]=e[t])})),c.createElement("label",Object(a.a)({className:Object(i.a)(r.root,l,"end"!==p&&r["labelPlacement".concat(Object(s.a)(p))],m&&r.disabled),ref:t},x),c.cloneElement(j,f),c.createElement(d.a,{component:"span",className:Object(i.a)(r.label,m&&r.disabled)},u))}));t.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(j)},220:function(e,t,r){"use strict";var a=r(3),n=r(1),c=r(0),i=(r(8),r(10)),o=r(17),l=[0,1,2,3,4,5,6,7,8,9,10],d=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=parseFloat(e);return"".concat(r/t).concat(String(e).replace(String(r),"")||"px")}var j=c.forwardRef((function(e,t){var r=e.alignContent,o=void 0===r?"stretch":r,l=e.alignItems,d=void 0===l?"stretch":l,s=e.classes,j=e.className,b=e.component,u=void 0===b?"div":b,h=e.container,p=void 0!==h&&h,x=e.direction,v=void 0===x?"row":x,m=e.item,f=void 0!==m&&m,O=e.justify,g=void 0===O?"flex-start":O,y=e.lg,_=void 0!==y&&y,D=e.md,w=void 0!==D&&D,k=e.sm,C=void 0!==k&&k,S=e.spacing,Y=void 0===S?0:S,M=e.wrap,B=void 0===M?"wrap":M,E=e.xl,P=void 0!==E&&E,I=e.xs,N=void 0!==I&&I,W=e.zeroMinWidth,A=void 0!==W&&W,R=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),$=Object(i.a)(s.root,j,p&&[s.container,0!==Y&&s["spacing-xs-".concat(String(Y))]],f&&s.item,A&&s.zeroMinWidth,"row"!==v&&s["direction-xs-".concat(String(v))],"wrap"!==B&&s["wrap-xs-".concat(String(B))],"stretch"!==d&&s["align-items-xs-".concat(String(d))],"stretch"!==o&&s["align-content-xs-".concat(String(o))],"flex-start"!==g&&s["justify-xs-".concat(String(g))],!1!==N&&s["grid-xs-".concat(String(N))],!1!==C&&s["grid-sm-".concat(String(C))],!1!==w&&s["grid-md-".concat(String(w))],!1!==_&&s["grid-lg-".concat(String(_))],!1!==P&&s["grid-xl-".concat(String(P))]);return c.createElement(u,Object(n.a)({className:$,ref:t},R))})),b=Object(o.a)((function(e){return Object(n.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var r={};return l.forEach((function(a){var n=e.spacing(a);0!==n&&(r["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(s(n,2)),width:"calc(100% + ".concat(s(n),")"),"& > $item":{padding:s(n,2)}})})),r}(e,"xs"),e.breakpoints.keys.reduce((function(t,r){return function(e,t,r){var a={};d.forEach((function(e){var t="grid-".concat(r,"-").concat(e);if(!0!==e)if("auto"!==e){var n="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:n,flexGrow:0,maxWidth:n}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===r?Object(n.a)(e,a):e[t.breakpoints.up(r)]=a}(t,e,r),t}),{}))}),{name:"MuiGrid"})(j);t.a=b},221:function(e,t,r){"use strict";var a=r(118),n=r(120);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),i=(0,a(r(121)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=i},243:function(e,t,r){"use strict";var a=r(1),n=r(3),c=r(0),i=(r(8),r(10)),o=r(17),l=r(30),d=r(23),s=r(147),j=c.forwardRef((function(e,t){var r=e.classes,o=e.className,l=e.color,j=void 0===l?"secondary":l,b=e.edge,u=void 0!==b&&b,h=e.size,p=void 0===h?"medium":h,x=Object(n.a)(e,["classes","className","color","edge","size"]),v=c.createElement("span",{className:r.thumb});return c.createElement("span",{className:Object(i.a)(r.root,o,{start:r.edgeStart,end:r.edgeEnd}[u],"small"===p&&r["size".concat(Object(d.a)(p))])},c.createElement(s.a,Object(a.a)({type:"checkbox",icon:v,checkedIcon:v,classes:{root:Object(i.a)(r.switchBase,r["color".concat(Object(d.a)(j))]),input:r.input,checked:r.checked,disabled:r.disabled},ref:t},x)),c.createElement("span",{className:r.track}))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(j)},300:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a=[1,2,3,23],n=[4,811,877]},301:function(e,t,r){"use strict";var a=r(118),n=r(120);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),i=(0,a(r(121)).default)(c.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.default=i},570:function(e,t,r){"use strict";var a=r(1),n=r(3),c=r(22),i=r(0),o=(r(8),r(10)),l=r(17),d=r(23),s=r(981),j=r(487),b=r(488),u=r(18),h=r(940),p={enter:u.b.enteringScreen,exit:u.b.leavingScreen},x=i.forwardRef((function(e,t){var r=e.BackdropProps,c=e.children,l=e.classes,u=e.className,x=e.disableBackdropClick,v=void 0!==x&&x,m=e.disableEscapeKeyDown,f=void 0!==m&&m,O=e.fullScreen,g=void 0!==O&&O,y=e.fullWidth,_=void 0!==y&&y,D=e.maxWidth,w=void 0===D?"sm":D,k=e.onBackdropClick,C=e.onClose,S=e.onEnter,Y=e.onEntered,M=e.onEntering,B=e.onEscapeKeyDown,E=e.onExit,P=e.onExited,I=e.onExiting,N=e.open,W=e.PaperComponent,A=void 0===W?h.a:W,R=e.PaperProps,$=void 0===R?{}:R,T=e.scroll,L=void 0===T?"paper":T,z=e.TransitionComponent,H=void 0===z?b.a:z,F=e.transitionDuration,G=void 0===F?p:F,U=e.TransitionProps,K=e["aria-describedby"],Q=e["aria-labelledby"],X=Object(n.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),J=i.useRef();return i.createElement(s.a,Object(a.a)({className:Object(o.a)(l.root,u),BackdropComponent:j.a,BackdropProps:Object(a.a)({transitionDuration:G},r),closeAfterTransition:!0,disableBackdropClick:v,disableEscapeKeyDown:f,onEscapeKeyDown:B,onClose:C,open:N,ref:t},X),i.createElement(H,Object(a.a)({appear:!0,in:N,timeout:G,onEnter:S,onEntering:M,onEntered:Y,onExit:E,onExiting:I,onExited:P,role:"none presentation"},U),i.createElement("div",{className:Object(o.a)(l.container,l["scroll".concat(Object(d.a)(L))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===J.current&&(J.current=null,k&&k(e),!v&&C&&C(e,"backdropClick"))},onMouseDown:function(e){J.current=e.target}},i.createElement(A,Object(a.a)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":Q},$,{className:Object(o.a)(l.paper,l["paperScroll".concat(Object(d.a)(L))],l["paperWidth".concat(Object(d.a)(String(w)))],$.className,g&&l.paperFullScreen,_&&l.paperFullWidth)}),c))))}));t.a=Object(l.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(x)},571:function(e,t,r){},978:function(e,t,r){"use strict";r.r(t);var a=r(52),n=r(145),c=r.n(n),i=r(146),o=r(124),l=r(125),d=r(127),s=r(128),j=r(5),b=r(2),u=r(0),h=r.n(u),p=r(48),x=r(971),v=r(996),m=r(299),f=r(954),O=r(955),g=r(993),y=r(180),_=r(972),D=r(219),w=r(243),k=r(165),C=r.n(k),S=r(181),Y=r.n(S),M=r(301),B=r.n(M),E=r(49),P=r(197),I=r.n(P),N=r(173),W=r.n(N),A=Object(b.jsx)(W.a,{});function R(e){var t=e.data,r=e.onRowSelect,a=e.deliveryBoys,n=e.orderBoxData,c=[{name:"Order Id",selector:"orderId",sortable:!0,width:"130px"},{name:"Order Date",selector:"orderDate",sortable:!0,width:"120px",cell:function(e){var t=e.orderDate;return C()(t).format("DD-MM-YYYY")}},{name:"Crate Id",selector:"orderId",sortable:!0,width:"120px",cell:function(e){var t=e.orderId,r=n.get(parseInt(t));return null===r||void 0===r?void 0:r.crateId}},{name:"Name",selector:"name",sortable:!0,width:"200px"},{name:"Phone",selector:"phone",sortable:!0,width:"140px"},{name:"Hub",sortable:!0,selector:"region",width:"100px"},{name:"Area",sortable:!0,selector:"area",width:"140px"},{name:"Locality",sortable:!0,selector:"subarea",width:"200px"},{name:"Delivered on",selector:"delivery_date",sortable:!0,width:"130px",cell:function(e){var t=e.delivery_date;return t?C()(t).format("DD-MM-YYYY"):Object(b.jsx)("span",{style:{color:"red"},children:"Not delivered"})}},{name:"Driver",selector:"_driver",cell:function(e,t){var r=e.driverId;if(r){var n=a.get(r);return n?n.name:""}return""}}];return Object(b.jsx)("div",{children:Object(b.jsx)(I.a,{striped:!0,noHeader:!0,dense:!0,sortIcon:A,data:t,columns:c,highlightOnHover:!0,pointerOnHover:!0,pagination:!0,paginationPerPage:10,onRowClicked:function(e,t){r(e)}})})}var $=h.a.memo(R),T=r(944),L=r(942),z=r(221),H=r.n(z),F=r(570),G=r(107),U=r(941),K=r(939),Q=r(949),X=r(943),J=r(220);var V=h.a.forwardRef((function(e,t){return Object(b.jsx)(G.a,Object(j.a)({direction:"up",ref:t},e))})),q=function(e){Object(d.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).Review=function(){var e=a.props,t=e.customer,r=e.deliveryBoys;console.log(t);var n=t.driver_id,c=t.delivery_date,i=t.delivery_type,o=t.proof_img,l=t.complete_delivery,d=t.small_boxes,s=t.large_boxes,j=t.gable_tops,u=t.milk_packets,h=r.get(n);return Object(b.jsx)("div",{className:"pv-10",children:t.driver_id?Object(b.jsx)(Q.a,{variant:"outlined",children:Object(b.jsxs)(J.a,{container:!0,children:[Object(b.jsxs)(J.a,{item:!0,md:12,lg:6,children:[Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Delivered By"}),Object(b.jsxs)(L.a,{variant:"h6",children:[h.name," on ",C()(c).format("DD-MMM-YYYY")]})]}),Object(b.jsx)(X.a,{}),Object(b.jsx)(X.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"}),Object(b.jsx)(L.a,{variant:"h6",children:function(e){switch(e){case"yes":return"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e";case"no":return"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948";default:return Object(b.jsx)("span",{style:{color:"red"},children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"})}}(l)})]}),Object(b.jsx)(X.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"}),Object(b.jsx)(L.a,{variant:"h6",children:function(e){switch(e){case"in_hand":return"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940";case"doorstep":return"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e";case"society_guard":return"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"tower_guard":return"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"order_cancelled":return"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932";default:return Object(b.jsx)("span",{style:{color:"red"},children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"})}}(i)})]}),Object(b.jsx)(X.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Small Boxes - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(L.a,{variant:"h6",children:d})]}),Object(b.jsx)(X.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Large Boxes - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(L.a,{variant:"h6",children:s})]}),Object(b.jsx)(X.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Gable Top - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(L.a,{variant:"h6",children:j})]}),Object(b.jsx)(X.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Milk Packets - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u092a\u0948\u0915\u0947\u091f \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(L.a,{variant:"h6",children:u})]})]}),Object(b.jsx)(J.a,{item:!0,md:12,lg:6,children:Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(L.a,{variant:"body1",children:"Delivery Photo"}),o?Object(b.jsx)("div",{children:Object(b.jsx)("img",{alt:"order",src:o,height:500})}):Object(b.jsx)(L.a,{variant:"h6",children:Object(b.jsx)("span",{style:{color:"red"},children:"No Picture taken"})})]})})]})}):Object(b.jsx)(L.a,{variant:"h3",style:{color:"red"},children:"Not Delivered yet"})})},a.state=Object(j.a)({},e),a}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.props.customer;return Object(b.jsx)("div",{children:t&&Object(b.jsxs)(F.a,{fullScreen:!0,open:!0,TransitionComponent:V,children:[Object(b.jsx)(K.a,{position:"fixed",color:"default",children:Object(b.jsxs)(U.a,{children:[Object(b.jsx)(T.a,{edge:"start",color:"inherit",onClick:function(){e.props.setSelectedCustomer(!1)},"aria-label":"close",children:Object(b.jsx)(H.a,{})}),Object(b.jsx)(L.a,{variant:"h6",children:t.name})]})}),Object(b.jsxs)("div",{style:{margin:"60px 10px 20px 10px",padding:"30px 10px"},children:[Object(b.jsx)(L.a,{variant:"h4",children:"Delivery Information"}),Object(b.jsx)(X.a,{}),Object(b.jsx)(this.Review,{})]})]})})}}]),r}(h.a.Component),Z=Object(p.b)((function(e){var t=e.setAdmin;return Object(j.a)({},t)}))(q),ee=r(11),te=r.n(ee),re=r(40),ae=r(300),ne=(r(571),function(e){Object(d.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).groupData=function(){for(var t=e.props,r=t.deliveryBoys,a=t.orderBoxData,n=t.orderProducts,c=t.orders,i=new Map,o=0;o<c.length;o++){var l,d=c[o],s=d.driverId,b=null===(l=r.get(s))||void 0===l?void 0:l.name,u=d.orderId,h=a.get(parseInt(u)),p=n.get(parseInt(u));d.crateId=null===h||void 0===h?void 0:h.crateId,d.driverName=b;var x=0,v=0;p?p.forEach((function(e){var t=e.productId,r=e.qty;ae.b.includes(t)?x+=r:ae.a.includes(t)&&(v+=r)})):alert("Something wrong with data uploaded for order",u);var m=h||{},f=m.largeBox,O=m.mediumBox,g=m.packet;d=Object(j.a)(Object(j.a)({},d),{},{pouchMilkQty:x,gableTopQty:v,mediumBox:O,largeBox:f,packet:g}),i.get(s)?i.get(s).push(d):i.set(s,[d])}return i},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=(e.orders,e.deliveryBoys),r=(e.orderBoxData,Array.from(this.groupData().entries()));return Object(b.jsx)("div",{id:"delivery-sheet",children:r.map((function(e,r){var a=Object(re.a)(e,2),n=a[0],c=a[1],i=t.get(n);c=c.sort((function(e,t){return e.location_id-t.location_id}));var o=0,l=0,d=0,s=0,j=0;return c.forEach((function(e){var t=e.pouchMilkQty,r=e.gableTopQty,a=e.mediumBox,n=e.largeBox,c=e.packet;o+=t,l+=r,d+=a,s+=n,j+=c})),Object(b.jsxs)("div",{style:{pageBreakBefore:"always"},children:[Object(b.jsxs)("div",{className:"flex space-bw",children:[Object(b.jsxs)("div",{style:{flex:"1"},children:[Object(b.jsx)("div",{style:{fontSize:30},children:null===i||void 0===i?void 0:i.name}),Object(b.jsxs)("div",{style:{fontSize:24},children:["Total Orders: ",c.length]}),Object(b.jsx)("div",{style:{fontSize:17},children:Object(b.jsx)("table",{style:{width:200},children:Object(b.jsxs)("tbody",{children:[o>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pouch Milk"}),Object(b.jsx)("td",{children:o})]}),l>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Gable Top Milk"}),Object(b.jsx)("td",{children:l})]}),d>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Medium Box"}),Object(b.jsx)("td",{children:d})]}),s>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Large Boxes"}),Object(b.jsx)("td",{children:s})]}),j>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Packets"}),Object(b.jsx)("td",{children:j})]})]})})})]}),Object(b.jsx)("table",{className:"signature-table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Inventory Sign"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Dairy Sign"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Guard Sign"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Crates Taken"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Crates Returned"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Entry Time"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Exit Time"}),Object(b.jsx)("td",{children:"__________________"})]})]})}),Object(b.jsx)("div",{})]}),Object(b.jsx)("div",{children:Object(b.jsx)("table",{className:"delivery-order-table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Phone"}),Object(b.jsx)("th",{children:"Location"}),Object(b.jsx)("th",{children:"Address"}),Object(b.jsx)("th",{children:"Product"}),Object(b.jsx)("th",{children:"Box Code"}),Object(b.jsx)("th",{children:"Check Box"})]}),c.map((function(e){var t=e.region,r=e.area,a=e.subarea,n=e.name,c=e.phone,i=e.address,o=e.orderId,l=e.pouchMilkQty,d=e.gableTopQty,s=e.mediumBox,j=e.largeBox,u=e.packet,h=e.crateId;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:n}),Object(b.jsx)("td",{children:c}),Object(b.jsxs)("td",{className:"location",children:[a,", ",r,", ",t]}),Object(b.jsx)("td",{className:"home-address",children:i}),Object(b.jsx)("td",{children:Object(b.jsx)("table",{className:"delivery-sheet-product-type",children:Object(b.jsxs)("tbody",{children:[l>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Milk Pouch"}),Object(b.jsx)("td",{children:l})]}),d>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Gable Top"}),Object(b.jsx)("td",{children:d})]}),s>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Medium Box"}),Object(b.jsx)("td",{children:s})]}),j>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Large Boxes"}),Object(b.jsx)("td",{children:j})]}),u>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Packets"}),Object(b.jsx)("td",{children:u})]})]})})}),Object(b.jsx)("td",{children:h}),Object(b.jsx)("td",{})]},o)}))]})})})]},r.toString())}))})}}]),r}(u.Component)),ce=r(179),ie=r(166);var oe=function(e){Object(d.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).update=Object(i.a)(c.a.mark((function e(){var t,r,a,i,o,l,d,s,j,b,u,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),t=n.state,r=t.startDate,a=t.endDate,r=C()(r).format("YYYY-MM-DD"),a=C()(a).format("YYYY-MM-DD"),i=n.props,o=i.onUpdateDeliveryReport,l=i.onUpdateAdminData,e.next=8,Object(ie.e)().then((function(e){return e.data}));case 8:return d=e.sent,s=new Map,d.forEach((function(e){s.set(e.id,e)})),l({deliveryBoys:s}),e.next=14,Object(ie.h)(r,a).then((function(e){return e.data}));case 14:return j=e.sent,n.props.onAddOrderProducts(j),e.next=18,Object(ie.i)(r,a).then((function(e){return e.data}));case 18:return b=e.sent,n.props.onAddProducts(b),e.next=22,Object(ie.g)(r,a).then((function(e){return e.data}));case 22:return u=e.sent,n.props.onAddOrderBox(u),e.next=26,Object(ie.f)(r,a).then((function(e){return e.data}));case 26:h=e.sent,o(h),n.setState({loading:!1,lastUpdated:new Date}),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0),n.setState({error:e.t0.message});case 35:case"end":return e.stop()}}),e,null,[[0,31]])}))),n.exportData=function(){for(var e=n.props.deliveryBoys,t=[["Order Id","Customer ID","Name","Phone","Region","Area","Locality","House","Driver","Delivered","Delivery Type","Complete Delivery","Delivery Photo","Small Box","Large Box","Gable Top","Milk Packets"]],r=n.filterData(),a=0;a<r.length;a++){var c=r[a],i=c.orderId,o=c.driverId,l=c.customerID,d=c.name,s=c.phone,j=c.region,b=c.area,u=c.subarea,h=c.address,p=c.large_boxes,x=c.gable_tops,v=c.milk_packets,m=c.small_boxes,f=c.delivery_type,O=c.proof_img,g=c.delivery_date,_=c.complete_delivery,D="";o&&(D=e.get(o).name),t.push([i,l,d,s,'"'.concat(j,'"'),'"'.concat(b,'"'),'"'.concat(u,'"'),'"'.concat(h.replace(/[^0-9a-zA-Z:/ ]/g,""),'"'),'"'.concat(D,'"'),'"'.concat(g?"Yes":"No",'"'),'"'.concat(f||"",'"'),'"'.concat(_||"",'"'),'"'.concat(O||"",'"'),m,p,x,v])}Object(y.a)(t,"Delivery Report - ".concat((new Date).toDateString(),".csv"))},n.onDateChange=function(e){var t=C()(e.target.value).format("YYYY-MM-DD");n.setState(Object(a.a)({},e.target.name,t),(function(){return n.update()}))},n.onOrderSelect=function(e){n.setState({selectedOrder:e})},n.onPrintDeliverySheets=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.print();case 1:case"end":return e.stop()}}),e)}))),n.state={loading:!0,phone:"",startDate:C()().format("YYYY-MM-DD"),endDate:C()().format("YYYY-MM-DD"),selectedArea:[],selectedSubarea:[],selectedHub:[],selectedDriver:"all",showWithoutDairy:!1,hiddenAddress:!1,selectedRow:[]},n}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,r,a,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update();case 2:t=this.props,r=t.deliveryBoys,a=t.orders,n=t.orderBoxData,i=t.orderProducts,te.a.render(Object(b.jsx)(ne,{deliveryBoys:r,orders:a,orderBoxData:n,orderProducts:i}),document.getElementById("printable"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterData",value:function(){var e=this.state,t=e.selectedSubarea,r=e.selectedArea,a=e.selectedHub,n=e.selectedDriver,c=e.phone,i=e.onlyDelivered,o=this.props.orders,l=[];return o&&(l=o.filter((function(e){if(i)return!!e.delivery_date;if(a.length&&e.region!==a)return!1;if(r.length&&!r.includes(e.area))return!1;if(t.length&&!t.includes(e.subarea))return!1;if("all"!==n)if("none"===n){if(null!==e.driverId)return!1}else if(e.driverId!==n)return!1;return!c||(-1!==e.phone.indexOf(c)||(-1!==e.name.toLowerCase().indexOf(c.toLowerCase())||-1!==e.orderId.toString().indexOf(c.toLowerCase())))}))),l}},{key:"render",value:function(){var e=this,t=this.state,r=t.selectedArea,n=t.selectedHub,c=t.selectedDriver,i=t.phone,o=t.onlyDelivered,l=t.startDate,d=t.endDate,s=t.selectedOrder,u=t.loading,h=void 0===u||u,p=t.lastUpdated,y=this.props,k=y.locations,C=y.hubs,S=y.deliveryBoys,M=y.orderBoxData,P=S?Array.from(S.values()):[];P=P.sort((function(e,t){return e.name.localeCompare(t.name)}));var I=[],N=[];k&&k.forEach((function(e,t){e.forEach((function(e,a){t!==n&&0!==n.length||I.push(a),(r.includes(a)||0===r.length)&&(N=N.concat(e))}))})),I=I.sort((function(e,t){return e.localeCompare(t)}));var W=this.filterData();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex middle space-bw",style:{padding:10},children:[Object(b.jsxs)("div",{className:"flex middle",children:[Object(b.jsx)("div",{style:{marginRight:20,width:220},children:Object(b.jsx)(g.a,{type:"date",value:l,fullWidth:!0,label:"Start Date",name:"startDate",onChange:this.onDateChange})}),Object(b.jsx)("div",{style:{marginRight:20,width:220},children:Object(b.jsx)(g.a,{type:"date",value:d,fullWidth:!0,label:"End Date",name:"endDate",onChange:this.onDateChange})})]}),Object(b.jsxs)("div",{className:"flex middle",children:[Object(b.jsx)("div",{children:Object(b.jsx)(T.a,{onClick:this.update,children:Object(b.jsx)(B.a,{})})}),Object(b.jsx)("div",{children:p&&Object(b.jsxs)("div",{children:["Last Updated: ",Object(b.jsx)("br",{}),p.toTimeString().substr(0,5)]})}),Object(b.jsx)("div",{className:"p-10",children:Object(b.jsx)(O.a,{startIcon:Object(b.jsx)(Y.a,{}),color:"secondary",variant:"outlined",disabled:h,onClick:this.exportData,children:"Download Excel"})}),Object(b.jsx)("div",{className:"p-10",children:Object(b.jsx)(O.a,{startIcon:Object(b.jsx)(Y.a,{}),color:"secondary",variant:"outlined",disabled:h,onClick:this.onPrintDeliverySheets,children:"Print Delivery Sheets"})})]})]}),h?Object(b.jsx)(E.a,{}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(b.jsx)("div",{style:{marginRight:20,width:220},children:Object(b.jsx)(g.a,{value:i,fullWidth:!0,label:"Phone, Name, Crate, Order Id",onChange:function(t){return e.setState({phone:t.target.value})}})}),Object(b.jsx)("div",{style:{marginRight:20,width:120},children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(v.a,{id:"hub-filter",children:"Hub"}),Object(b.jsx)(x.a,{labelId:"hub-filter",style:{width:100},value:n,onChange:function(t){var r=t.target.value;e.setState({selectedHub:r,selectedArea:[],selectedSubarea:[]})},children:C.map((function(e){return Object(b.jsx)(m.a,{value:e,children:e},e)}))})]})}),Object(b.jsx)("div",{style:{marginRight:20,width:200},children:Object(b.jsx)(f.a,{style:{width:"100%"},children:Object(b.jsx)(_.a,{options:I,multiple:!0,renderInput:function(e){return Object(b.jsx)(g.a,Object(j.a)(Object(j.a)({},e),{},{label:"Area"}))},onChange:function(t,r){e.setState({selectedArea:r,selectedSubarea:[]})}})})}),Object(b.jsx)("div",{style:{marginRight:20,width:300},children:Object(b.jsx)(f.a,{style:{width:"100%"},children:Object(b.jsx)(_.a,{options:N,multiple:!0,renderInput:function(e){return Object(b.jsx)(g.a,Object(j.a)(Object(j.a)({},e),{},{label:"Locality"}))},onChange:function(t,r){e.setState({selectedSubarea:r})}})})}),Object(b.jsx)("div",{style:{marginRight:20},children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(v.a,{id:"driver-filter",children:"Assigned Driver"}),Object(b.jsxs)(x.a,{labelId:"driver-filter",style:{width:200},value:c||"all",onChange:function(t,r){var a=t.target.value;e.setState({selectedDriver:a})},children:[Object(b.jsx)(m.a,{value:"all",children:"All"}),Object(b.jsx)(m.a,{value:"none",children:"None"}),P.map((function(e){return Object(b.jsx)(m.a,{value:e.id,children:e.name},"driver-".concat(e.id))}))]})]})}),Object(b.jsx)("div",{children:Object(b.jsx)(D.a,{control:Object(b.jsx)(w.a,{checked:o,onChange:function(t){return e.setState(Object(a.a)({},t.target.name,t.target.checked))},name:"onlyDelivered",color:"primary"}),label:"Delivered"})}),Object(b.jsx)("div",{style:{marginRight:20},children:Object(b.jsx)(O.a,{color:"default",variant:"outlined",onClick:function(){window.location.reload()},children:"Remove Filters"})})]}),Object(b.jsx)(Z,{customer:s,setSelectedCustomer:this.onOrderSelect}),Object(b.jsx)($,{data:W,onRowSelect:this.onOrderSelect,orderBoxData:M,deliveryBoys:S})]})]})}}]),r}(u.Component);t.default=Object(p.b)((function(e){var t=e.setAdmin;return Object(j.a)({},t)}),(function(e){return{onUpdateDeliveryReport:function(t){return e(Object(ce.f)(t))},onUpdateAdminData:function(t){return e(Object(ce.e)(t))},onAddProducts:function(t){return e(Object(ce.c)(t))},onAddOrderProducts:function(t){return e(Object(ce.b)(t))},onAddOrderBox:function(t){return e(Object(ce.a)(t))}}}))(oe)}}]);