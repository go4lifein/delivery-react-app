(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[21],{14:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"f",(function(){return s}));var a="UPDATE_DRIVER",n="UPDATE_ORDERS",c="UPDATE_ADMIN",i="UPDATE_ORDERS_DATA",o="UPDATE_ADMIN_DATA",s="UPDATE_ORDER_CRATE_DATA"},40:function(e,t,r){"use strict";var a=r(2),n=r(69);r(0);t.a=function(){return Object(a.jsx)("div",{className:"flex center middle p-10",children:Object(a.jsx)(n.a,{})})}},61:function(e,t,r){},62:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(0),c=r.n(n),i=r(21),o=r.n(i),s=(r(61),r(41)),d=r(3),l=r(53),u=r(85),p=r(86),b=(r(62),r(40)),v=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(3),r.e(5),r.e(27),r.e(8)]).then(r.bind(null,571))})),f=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(3),r.e(11)]).then(r.bind(null,572))})),h=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(2),r.e(6),r.e(23),r.e(17)]).then(r.bind(null,575))})),j=Object(n.lazy)((function(){return r.e(18).then(r.bind(null,544))})),_=Object(n.lazy)((function(){return r.e(20).then(r.bind(null,545))})),O=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(2),r.e(6),r.e(34),r.e(19)]).then(r.bind(null,576))}));var y=function(){var e=Object(l.a)({palette:{secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},background:{default:"#fff",paper:"#fff"}}});return Object(a.jsx)("div",{id:"app",children:Object(a.jsxs)(u.a,{theme:e,children:[Object(a.jsx)(p.a,{}),Object(a.jsx)(s.a,{base:"delivery-react-app",children:Object(a.jsx)("main",{children:Object(a.jsx)(n.Suspense,{fallback:Object(a.jsx)(b.a,{}),children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/trace/produce",exact:!0,component:j}),Object(a.jsx)(d.a,{path:"/trace",exact:!0,component:h}),Object(a.jsx)(d.a,{path:"/visual",component:_}),Object(a.jsx)(d.a,{path:"/trace-milk",exact:!0,component:O}),Object(a.jsx)(d.a,{path:"/admin",component:v}),Object(a.jsx)(d.a,{path:"/",component:f})]})})})})]})})},m=r(39),g=r(18),x=r(10),D=r(14),w=window.localStorage.getItem("admin"),A={admin:w=w?JSON.parse(w):void 0,loadingOrderData:!0},E=r(44),k=r(25),S=window.localStorage.getItem("driver"),T={driver:S=S?JSON.parse(S):void 0};function P(e){return"Dairy"in e&&1===Object.entries(e).length}function M(e){return!("Dairy"in e)}var R=Object(g.c)(Object(g.b)({setDriver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case D.c:var r=t.payload;return window.localStorage.setItem("driver",JSON.stringify(r)),Object(x.a)(Object(x.a)({},e),{},{driver:r});case D.d:var a=t.payload,n=new Map,c=new Map;a.forEach((function(e){var t=e.subarea,r=e.area,a=e.hub;if(c.has(a)){var n=c.get(a);if(n.has(r)){var i=n.get(r);i.includes(t)||i.push(t),n.set(r,i),c.set(a,n)}else{var o=[t];n.set(r,o),c.set(a,n)}}else{var s=new Map;s.set(r,[t]),c.set(a,s)}}));var i=[],o=[],s=[],d=[],l={};a.forEach((function(e){var t=e.order_id,r=e.crate_id,a=e.customer_id,c=e.customer_name,u=e.phone_number,p=e.address_id,b=e.house_number,v=e.subarea,f=e.area,h=e.hub,j=e.category,_=e.product,O=e.quantity,y=e.package_size,m=e.package_type,g=e.product_package_id,x=e.product_id,D=e.region_id,w=e.location_id,A=e.delivery_person_id,E={product:_,product_id:x,product_package_id:g,package_size:y,quantity:O,total:y*O,unit:m},S={driver_id:e.driver_id,deliver_date:e.deliver_date,delivery_type:e.delivery_type,proof_img:e.proof_img,complete_delivery:e.complete_delivery,order_cancel_reason:e.order_cancel_reason,boxes:e.boxes,milk_packets:e.milk_packets};if(!1===i.includes(j)&&i.push(j),x in l||(l[x]=_),n.has(a)){var T=n.get(a),P=T.products;j in P?P[j].push(E):P[j]=[E],T.products=P,T.delivery=S,T.delivered=S.deliver_date}else{!1===s.includes(f)&&s.push(f),!1===d.includes(v)&&d.push(v),!1===o.includes(h)&&o.push(h);var M={name:c,phone:u,order_id:t,crate_id:r,address:{address_id:p,house_number:b,subarea:v,area:f,hub:h,region_id:D,location_id:w},products:Object(k.a)({},j,[E]),delivery_person_id:A,delivery:S,delivered:S.deliver_date};n.set(a,M)}}));var u,p=Object(E.a)(n);try{for(p.s();!(u=p.n()).done;){var b=u.value,v=b[1].products;P(v)?b[1].onlyDairy=!0:b[1].onlyDairy=!1,M(v)?b[1].hasNoDairy=!0:b[1].onlyDairy=!1}}catch(f){p.e(f)}finally{p.f()}return Object(x.a)(Object(x.a)({},e),{},{customers:n,locations:c,areas:s,subareas:d,hubs:o,orders:a});default:return e}},setAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case D.a:var r=t.payload;return window.localStorage.setItem("admin",JSON.stringify(r)),Object(x.a)(Object(x.a)({},e),{},{admin:r});case D.b:return Object(x.a)(Object(x.a)({},e),t.payload);case D.e:var a=t.payload,n=(new Map,new Map);a.forEach((function(e){var t=e.subarea,r=e.area,a=e.region;if(n.has(a)){var c=n.get(a);if(c.has(r)){var i=c.get(r);i.includes(t)||i.push(t),c.set(r,i),n.set(a,c)}else{var o=[t];c.set(r,o),n.set(a,c)}}else{var s=new Map;s.set(r,[t]),n.set(a,s)}}));var c=[];return console.log("Total Orders",a.length),a.forEach((function(e){})),console.log(n),Object(x.a)(Object(x.a)({},e),{},{orders:a,locations:n,hubs:c});default:return e}}}));o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(m.a,{store:R,children:Object(a.jsx)(y,{})})}),document.getElementById("root"))}},[[68,22,25]]]);
//# sourceMappingURL=main.26e24aa3.chunk.js.map