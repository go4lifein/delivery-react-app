{"version":3,"sources":["components/WebCam.js","components/OrderDeliveryReview.js","components/OrderDeliveryForm.js","helpers/math.js","components/LeftRightSwitch.js"],"names":["videoConstraints","facingMode","WebcamCapture","onCapture","image","React","useState","takingPhoto","setTakingPhoto","webcamRef","useRef","capture","useCallback","imageSrc","current","getScreenshot","style","background","position","audio","width","height","ref","screenshotFormat","bottom","display","justifyContent","Button","onClick","variant","borderRadius","fullWidth","color","startIcon","src","alt","Review","state","props","order","delivery_type","delivery_img","complete_delivery","milk_packets","small_boxes","large_boxes","gable_tops","history","match","driver","params","order_id","parseInt","orderId","loading","setLoading","disabled","className","Card","Typography","mapDeliveryType","Divider","mapCompleteDelivery","phone","photoBlob","dataURItoBlob","formData","FormData","append","id","submitOrderDelivery","then","res","push","catch","err","alert","message","CircularProgress","size","tutorialSteps","label","Transition","forwardRef","Slide","direction","OrderDeliveryForm","handleNext","setState","activeStep","handleBack","DeliveryType","FormControl","component","RadioGroup","aria-label","name","value","onChange","event","target","FormControlLabel","control","Radio","DeliveryPhoto","WebCam","CompleteDelivery","BoxNumbers","Grid","container","item","xs","Box","LeftRightSwitch","flexGrow","center","leftIcon","rightIcon","onRight","onLeft","max","crates","this","orders","window","location","find","Number","maxSteps","length","Dialog","fullScreen","open","TransitionComponent","AppBar","Toolbar","IconButton","edge","goBack","margin","padding","MobileStepper","borderTop","steps","nextButton","backButton","Component","withRouter","connect","setDriver","a","b","left","right","disabledLeft","disabledRight","border","paddingRight","paddingLeft"],"mappings":"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","file":"static/js/45.28cfbe05.chunk.js","sourcesContent":["import React from \"react\";\nimport Webcam from \"react-webcam\";\nimport Button from \"@material-ui/core/Button\";\nimport CameraIcon from '@material-ui/icons/Camera';\nimport ReplayIcon from '@material-ui/icons/Replay';\n\nconst videoConstraints = {\n  // width: 1280,\n  // height: 720,\n  // facingMode: \"user\",\n  facingMode: \"environment\"\n};\n \nconst WebcamCapture = ({onCapture, image}) => {\n  const [takingPhoto, setTakingPhoto] = React.useState(image ? false : true);\n  const webcamRef = React.useRef(null);\n \n  const capture = React.useCallback(\n    () => {\n      const imageSrc = webcamRef.current.getScreenshot();\n      onCapture(imageSrc);\n      setTakingPhoto(false);\n    },\n    [webcamRef, onCapture]\n  );\n \n  return (\n    <div style={{background: '#000'}}>\n      {takingPhoto ?\n        <div style={{position: 'relative'}}>\n          <Webcam\n            audio={false}\n            width={224}\n            height={400}\n            ref={webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            videoConstraints={videoConstraints}\n          />\n          <div style={{\n            position: 'absolute', \n            bottom: 0,\n            display: 'flex',\n            justifyContent: 'center',\n            width: '100%'\n          }}>\n            <Button \n              onClick={capture} \n              variant=\"contained\"\n              style={{\n                borderRadius: 0\n              }}\n              fullWidth \n              color=\"primary\"\n              startIcon={<CameraIcon style={{color: 'white'}} />}\n            >\n              Capture\n            </Button>\n          </div>\n        </div>:\n        <div style={{\n          position: 'relative'\n        }}>\n          <img \n            src={image} \n            alt=\"order_photo\"\n            width={282}\n          />\n          <div style={{\n            position: 'absolute', \n            bottom: 0,\n            display: 'flex',\n            justifyContent: 'center',\n            width: '100%'\n          }}>\n            <Button \n              color=\"primary\"\n              style={{\n                borderRadius: 0\n              }}\n              variant=\"contained\"\n              onClick={() => setTakingPhoto(true)} \n              fullWidth \n              startIcon={<ReplayIcon style={{color: 'white'}} /> }\n            >\n              Retake\n            </Button>\n          </div>\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default WebcamCapture;","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\n\nimport {submitOrderDelivery} from '../api/v2/driver';\nimport {dataURItoBlob} from '../helpers/utils';\n\nfunction Review ({state, props, order}) {\n  const {delivery_type, delivery_img, complete_delivery, milk_packets, small_boxes, large_boxes, gable_tops} = state;\n\n  const {history, match, driver} = props;\n  const {params} = match;\n  let order_id = parseInt(params.orderId);\n\n  const [loading, setLoading] = useState(false);\n\n  let disabled = true;\n  if(delivery_type && delivery_img && complete_delivery && (milk_packets || small_boxes || large_boxes || gable_tops)) {\n    disabled = false;\n  }\n\n  const onSubmit = () => {\n    setLoading(true);\n    const {phone} = order;\n    const photoBlob = dataURItoBlob(delivery_img);\n    const formData = new FormData();\n    formData.append(\"delivery_img\", photoBlob);\n    formData.append(\"order_id\", order_id);\n    formData.append(\"driver_id\", driver.id);\n    formData.append(\"delivery_type\", delivery_type);\n    formData.append(\"complete_delivery\", complete_delivery);\n    formData.append(\"small_boxes\", small_boxes);\n    formData.append(\"large_boxes\", large_boxes);\n    formData.append(\"gable_tops\", gable_tops);\n    formData.append(\"milk_packets\", milk_packets);\n    formData.append(\"phone\", phone);\n    submitOrderDelivery(formData)\n    .then(res => {\n      history.push('/');\n      setLoading(false);\n    })\n    .catch(err => {\n      setLoading(false);\n      alert(err.message);\n    });\n  }\n\n  function mapDeliveryType(delivery_type) {\n    switch (delivery_type) {\n      \n      case \"in_hand\":\n        return \"In Hand Delivery - कस्टमर के हाथ में डिलीवरी की\"\n      case \"doorstep\":\n        return \"Doorstep Delivery - घर के गेट के बहार आर्डर रखा\"\n      case \"society_guard\":\n        return \"Handed over to society guard - सोसाइटी गार्ड के पास आर्डर छोड़ा\"\n      case \"tower_guard\":\n        return \"Handed over to tower guard - टावर गार्ड के पास आर्डर छोड़ा\"\n      case \"order_cancelled\":\n        return \"Order Cancelled - आर्डर कैंसिल\"\n      default:\n        return <span style={{color: 'red'}}>Select Delivery Type - डिलीवरी कहाँ करी</span>;\n    }\n  }\n  function mapCompleteDelivery(complete_delivery) {\n    switch (complete_delivery) {\n      \n      case \"yes\":\n        return \"Yes - हाँ, मैंने पूरा आर्डर डिलीवर किया\"\n      case \"no\":\n        return \"No - नहीं,  पूरा आर्डर डिलीवर नहीं हुआ है\"\n      default:\n        return <span style={{color: 'red'}}>Complete Order Delivered? - क्या आपने पूरा आर्डर डिलीवर किया?</span>;\n    }\n  }\n  return (\n    <div className=\"pv-10\">\n      <Card variant=\"outlined\">\n        \n        <div className=\"p-10\">\n            <Typography variant=\"body\">Select Delivery Type - डिलीवरी कहाँ करी</Typography>\n            <Typography variant=\"h6\">\n              {mapDeliveryType(delivery_type)}\n            </Typography>\n        </div>\n        <Divider />\n        <div className=\"p-10\">\n          <Typography variant=\"body\">Take Photo - आर्डर की फोटो लीजिये</Typography>\n          {\n            delivery_img ?\n            <div>\n              <img alt=\"order\" src={delivery_img} width={300} /> \n            </div> :\n            <Typography variant=\"h6\"><span style={{color: 'red'}}>Please take picture</span></Typography>\n          }\n        </div>\n        <Divider />\n        <div className=\"p-10\">\n        <Typography variant=\"body\">Complete Order Delivered? - क्या आपने पूरा आर्डर डिलीवर किया?</Typography>\n          <Typography variant=\"h6\">\n            {mapCompleteDelivery(complete_delivery)}\n          </Typography>\n        </div>\n        <Divider />\n        <div className=\"p-10\">\n        <Typography variant=\"body\">Small Boxes - कितने छोटे डब्बे डिलीवर करे</Typography>\n          <Typography variant=\"h6\">{small_boxes}</Typography>\n        </div>\n        <Divider />\n        <div className=\"p-10\">\n        <Typography variant=\"body\">Large Boxes - कितने बड़े डब्बे डिलीवर करे</Typography>\n          <Typography variant=\"h6\">{large_boxes}</Typography>\n        </div>\n        <Divider />\n        <div className=\"p-10\">\n        <Typography variant=\"body\">Gable Top - कितने दूध के डब्बे डिलीवर करे</Typography>\n          <Typography variant=\"h6\">{gable_tops}</Typography>\n        </div>\n        <Divider />\n        <div className=\"p-10\">\n        <Typography variant=\"body\">Milk Packets - कितने दूध के पैकेट डिलीवर करे</Typography>\n          <Typography variant=\"h6\">{milk_packets}</Typography>\n        </div>\n      </Card>\n      <div className=\"pv-10\">\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={onSubmit}\n          disabled={loading || disabled}\n          startIcon={loading ? <CircularProgress size={12} /> : null}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default Review;","import React from 'react';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport LeftRightSwitch from './LeftRightSwitch';\nimport PlusOne from '@material-ui/icons/Add';\nimport RemoveCircle from '@material-ui/icons/Remove';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport WebCam from \"./WebCam\";\nimport {Grid } from '@material-ui/core';\nimport {max} from '../helpers/math';\nimport Review from './OrderDeliveryReview';\n\nfunction mapStateToProps(state) {\n  let {setDriver} = state;\n  return {\n    ...setDriver\n  };\n}\n\nconst tutorialSteps = [\n  {\n    label: 'Select Delivery Type - डिलीवरी कहाँ करी'\n  },\n  {\n    label: 'Take Photo - आर्डर की फोटो लीजिये',\n  },\n  {\n    label: 'Complete Order Delivered? - क्या आपने पूरा आर्डर डिलीवर किया?',\n  },\n  {\n    label: 'Boxes, Milk - कितने डब्बे डिलीवर करे',\n  },\n  {\n    label: 'Review - कृपया जांचें'\n  },\n];\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nclass OrderDeliveryForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeStep: 0,\n      delivery_type: null,\n      delivery_img: null,\n      complete_delivery: null,\n      milk_packets: 0,\n      small_boxes: 0,\n      large_boxes: 0,\n      gable_tops: 0,\n      crates: 0\n    }\n  }\n  handleNext = () => {\n    this.setState((state) => ({\n      activeStep: state.activeStep + 1\n    }));\n  };\n  handleBack = () => {\n    this.setState((state) => ({\n      activeStep: state.activeStep - 1\n    }));\n  };\n  DeliveryType = () => {\n    const onChange = (event) => {\n      this.setState({\n        delivery_type: event.target.value\n      });\n    }\n    return (\n      <div>\n        <Typography variant=\"h4\" ></Typography>\n        <FormControl component=\"fieldset\">\n          <RadioGroup aria-label=\"delivery type\" name=\"delivery_type\" value={this.state.delivery_type} onChange={onChange}>\n            <FormControlLabel value=\"in_hand\" control={<Radio />} label=\"In Hand Delivery - कस्टमर के हाथ में डिलीवरी की\" />\n            <FormControlLabel value=\"doorstep\" control={<Radio />} label=\"Doorstep Delivery - घर के गेट के बहार आर्डर रखा\" />\n            <FormControlLabel value=\"society_guard\" control={<Radio />} label=\"Handed over to society guard - सोसाइटी गार्ड के पास आर्डर छोड़ा\" />\n            <FormControlLabel value=\"tower_guard\" control={<Radio />} label=\"Handed over to tower guard - टावर गार्ड के पास आर्डर छोड़ा\" />\n            <FormControlLabel value=\"order_cancelled\" control={<Radio />} label=\"Order Cancelled - आर्डर कैंसिल\" />\n          </RadioGroup>\n        </FormControl>\n      </div>\n    );\n  }\n  DeliveryPhoto = () => {\n    const onCapture = (image) => {\n      // console.log(image)\n      this.setState({\n        delivery_img: image\n      });\n    }\n    return (\n      <div>\n        <Typography variant=\"h4\" ></Typography>\n        <div className=\"flex center\" >\n          <WebCam \n            onCapture={onCapture} \n            image={this.state.delivery_img}\n          />\n        </div>\n      </div>\n    )\n  }\n  CompleteDelivery = () => {\n    \n    const onChange = (event) => {\n      this.setState({\n        complete_delivery: event.target.value\n      })\n    }\n    return (\n      <div className=\"pv-10\">\n        <FormControl component=\"fieldset\">\n          <RadioGroup aria-label=\"complete delivery\" name=\"complete_delivery\" value={this.state.complete_delivery} onChange={onChange}>\n            <FormControlLabel value=\"yes\" control={<Radio />} label=\"Yes - हाँ, मैंने पूरा आर्डर डिलीवर किया\" />\n            <FormControlLabel value=\"no\" control={<Radio />} label=\"No - नहीं,  पूरा आर्डर डिलीवर नहीं हुआ है\" />\n          </RadioGroup>\n        </FormControl>\n      </div>\n    )\n  }\n  BoxNumbers = () => {\n    const {small_boxes, large_boxes, gable_tops, milk_packets} = this.state;\n\n    return (\n      <div className=\"pv-10\">\n        \n        <Grid container>\n\n          <Grid item xs={12}>\n            <Box className=\"flex middle space-bw\">\n            <Typography variant=\"h6\">Small Boxes</Typography>\n            <LeftRightSwitch\n              size=\"small\" \n              style={{flexGrow: 0.2}}\n              center={\n                <Typography variant=\"h6\">\n                  {small_boxes}\n                </Typography>\n              } \n              leftIcon={<RemoveCircle />} \n              rightIcon={<PlusOne />} \n              onRight={() => {\n                this.setState({\n                  small_boxes: small_boxes+1\n                })\n              }} \n              onLeft={() => {\n                this.setState({\n                  small_boxes: max(0, small_boxes-1)\n                })\n              }} \n            />\n            </Box>\n          </Grid>\n          \n          <Grid item xs={12}>\n            <Box className=\"flex middle space-bw\">\n            <Typography variant=\"h6\">Large Boxes</Typography>\n            <LeftRightSwitch\n              size=\"small\" \n              style={{flexGrow: 0.2}}\n              center={\n                <Typography variant=\"h6\">\n                  {large_boxes}\n                </Typography>\n              } \n              leftIcon={<RemoveCircle />} \n              rightIcon={<PlusOne />} \n              onRight={() => {\n                this.setState({\n                  large_boxes: large_boxes+1\n                })\n              }} \n              onLeft={() => {\n                this.setState({\n                  large_boxes: max(0, large_boxes-1)\n                })\n              }} \n            />\n            </Box>\n          </Grid>\n          \n          \n          <Grid item xs={12}>\n            <Box className=\"flex middle space-bw\">\n            <Typography variant=\"h6\">Gable Top</Typography>\n            <LeftRightSwitch\n              size=\"small\" \n              style={{flexGrow: 0.2}}\n              center={\n                <Typography variant=\"h6\">\n                  {gable_tops}\n                </Typography>\n              } \n              leftIcon={<RemoveCircle />} \n              rightIcon={<PlusOne />} \n              onRight={() => {\n                this.setState({\n                  gable_tops: gable_tops+1\n                })\n              }} \n              onLeft={() => {\n                this.setState({\n                  gable_tops: max(0, gable_tops-1)\n                })\n              }} \n            />\n            </Box>\n          </Grid>\n\n          <Grid item xs={12}>\n            <Box className=\"flex middle space-bw\">\n            <Typography variant=\"h6\">Milk Packets</Typography>\n            <LeftRightSwitch\n              size=\"small\" \n              style={{flexGrow: 0.2}}\n              center={\n                <Typography variant=\"h6\">\n                  {milk_packets}\n                </Typography>\n              } \n              leftIcon={<RemoveCircle />} \n              rightIcon={<PlusOne />} \n              onRight={() => {\n                this.setState({\n                  milk_packets: milk_packets+1\n                })\n              }} \n              onLeft={() => {\n                this.setState({\n                  milk_packets: max(0, milk_packets-1)\n                })\n              }} \n            />\n            </Box>\n          </Grid>\n        \n        </Grid>\n\n        {/* <LeftRightSwitch\n          center={}\n          leftIcon={<RemoveCircle />} \n          rightIcon={<PlusOne />} \n        /> */}\n        {/* <Slider\n          valueLabelDisplay=\"auto\"\n          step={1}\n          marks\n          min={0}\n          max={12}\n          value={this.state.boxes}\n          onChangeCommitted={onChange}\n        /> */}\n      </div>\n    )\n  }\n  render() {\n    \n    const {history, match, orders} = this.props;\n    const {params} = match;\n    let order_id = parseInt(params.orderId);\n    if(!orders) {\n      window.location = '/';\n    }\n    let order = orders.find((item) => {\n      return Number(item.orderId) === order_id\n    });\n    // console.log(order)\n\n    if(!order) {\n      return <Typography variant=\"h4\">No such order</Typography>\n    }\n    let {\n      name,\n      // address, area, phone, orderId, region, subarea, region_id, customerID, driverId, location_id, orderDate \n    } = order;\n\n    const {activeStep} = this.state;\n    const maxSteps = tutorialSteps.length;\n    // console.log(this.state);\n    return (\n      <div >\n        <Dialog \n          fullScreen \n          open\n          TransitionComponent={Transition}\n        >\n        <AppBar\n          position=\"fixed\"\n          color=\"default\"\n        >\n          <Toolbar>\n            <IconButton \n              edge=\"start\" \n              color=\"inherit\" \n              onClick={() => {\n                history.goBack();\n              }} \n              aria-label=\"close\"\n            >\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" >\n              {name}\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <div style={{margin: '60px 10px 20px 10px', padding: '10px 10px'}}>\n          <Typography variant=\"h4\" >\n            {tutorialSteps[activeStep].label}\n          </Typography>\n          <Divider />\n          {\n            activeStep === 0 &&\n            <this.DeliveryType />\n          }\n          \n          {\n            activeStep === 1 &&\n            <this.DeliveryPhoto />\n          }\n          {\n            activeStep === 2 &&\n            <this.CompleteDelivery />\n          }\n          {\n            activeStep === 3 &&\n            <this.BoxNumbers />\n          }\n          {\n            activeStep === 4 &&\n            <Review\n              order={order}\n              state={this.state}\n              props={this.props}\n            />\n          }\n        </div>\n        <MobileStepper\n          style={{\n            borderTop: '1px solid grey'\n          }}\n          steps={maxSteps}\n          position=\"bottom\"\n          variant=\"progress\"\n          activeStep={activeStep}\n          color=\"default\"\n          nextButton={\n            <Button size=\"small\" color=\"primary\" variant=\"outlined\" onClick={this.handleNext} disabled={activeStep === maxSteps - 1}>\n              Next\n              <KeyboardArrowRight />\n            </Button>\n          }\n          backButton={\n            <Button size=\"small\" color=\"primary\" variant=\"outlined\" onClick={this.handleBack} disabled={activeStep === 0}>\n              <KeyboardArrowLeft />\n              Previous\n            </Button>\n          }\n        />\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(connect(\n  mapStateToProps\n)(OrderDeliveryForm));\n","export function min(a, b) {\n  return a < b ? a : b;\n}\n\nexport function max(a, b) {\n  return a < b ? b : a;\n}\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowRight from '@material-ui/icons/ArrowRight';\nimport ArrowLeft from '@material-ui/icons/ArrowLeft';\n\nfunction LeftRightSwitch(props) {\n  const {\n    left, onLeft, right, onRight, center, \n    leftIcon, rightIcon, \n    disabledLeft = false, disabledRight = false, \n    style={}, className = \"\",\n    size=\"large\"\n  } = props;\n  return (\n    <div \n      className={`flex p-10 middle ${className}`}\n      style={{\n        justifyContent: 'space-around',\n        ...style\n      }}\n    >\n      <div>\n        {\n          left ?\n          left :\n          <IconButton \n            size={size}\n            onClick={onLeft}\n            disabled={disabledLeft}\n            style={{border: '1px solid rgba(0, 0, 0, 0.23)'}}\n          >\n            {leftIcon ? leftIcon : <ArrowLeft />}\n          </IconButton>\n        }\n\n      </div>\n      <div className=\"flex center middle\" style={{flexGrow: 0.5, paddingRight: 10, paddingLeft: 10}}>\n        {center}\n      </div>\n      <div>\n        {\n          right ?\n          right :\n          <IconButton \n            size={size}\n            onClick={onRight}\n            disabled={disabledRight}\n            style={{border: '1px solid rgba(0, 0, 0, 0.23)'}} \n          >\n            {rightIcon ? rightIcon : <ArrowRight />}\n          </IconButton>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default LeftRightSwitch;"],"sourceRoot":""}