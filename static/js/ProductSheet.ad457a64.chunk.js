(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[9],{156:function(t,e,c){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv",c=document.createElement("a"),a=[];t.forEach((function(t){t=t.join(","),a.push(t)}));var r=a.join("\n");null!=r&&(r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),c.setAttribute("href",encodeURI(r)),c.setAttribute("download",e),c.click())}},443:function(t,e,c){"use strict";c.r(e);var a=c(127),r=c(128),n=c(130),o=c(129),s=c(7),i=c(3),l=c(0),d=c(43),u=c(196),h=c.n(u),j=c(162),b=c.n(j),x=c(441),m=c(156),f=c(45),v=c(461),O=c(198),p=c(240);var w=function(t){Object(n.a)(c,t);var e=Object(o.a)(c);function c(t){var r;return Object(a.a)(this,c),(r=e.call(this,t)).columns=[{name:"Product Id",selector:"product_id",sortable:!0,width:"120px"},{name:"Product",selector:"product",sortable:!0},{name:"Crates",sortable:!1,cell:function(t,e){var c=t.crates,a=t.unit,r=t.product,n=0,o=0;return Object(i.jsxs)("table",{style:{width:"100%",textAlign:"left"},id:"customer-sheet-table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Crate"}),Object(i.jsx)("th",{children:"Total"}),Object(i.jsx)("th",{children:"Qty"})]})}),Object(i.jsxs)("tbody",{children:[c.map((function(t){var e=t.total,c=t.quantity,s=t.crate_id;return n+=c,o+=e,Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"fixed-width-column",children:s}),Object(i.jsxs)("td",{className:"fixed-width-column",children:[e," ",a]}),Object(i.jsx)("td",{className:"fixed-width-column",children:c})]},r+Math.random().toString())})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"fixed-width-column",children:"Total"}),Object(i.jsxs)("th",{className:"fixed-width-column",children:[o," ",a]}),Object(i.jsx)("th",{className:"fixed-width-column",children:n})]},r+"total")]})]})}}],r.exportData=function(){var t=r.props.productsCollection,e=Array.from(t.values()),c=[["Product Id","Product","Category","Crate","Total","Qty"]];e.forEach((function(t){var e=t.crates,a=t.unit,r=t.product,n=t.product_id,o=t.category,s=0,i=0;e.forEach((function(t,e){var l=t.crateId,d=t.total,u=t.quantity;s+=u,i+=d;var h=["","",'"'.concat(o,'"'),l,"".concat(d," ").concat(a),u];0===e&&(h=[n,'"'.concat(r,'"'),'"'.concat(o,'"'),l,"".concat(d," ").concat(a),u]),c.push(h)})),c.push(["","Total","","".concat(i," ").concat(a),s])})),Object(m.a)(c,"Product Sheet - ".concat((new Date).toLocaleDateString(),".csv"))},r.state={loading:!0},r}return Object(r.a)(c,[{key:"render",value:function(){var t=this,e=!0,c=this.props,a=c.customers,r=c.productsCollection,n=this.state,o=n.search,s=n.removeSelectedDairy,l=[];return a&&(e=!1,l=(l=Array.from(r.values())).filter((function(t){var e=t.product;return o?!!e.toLowerCase().includes(o.toLowerCase()):!s||!e.toLowerCase().includes("Milk".toLowerCase())&&!e.toLowerCase().includes("Paneer".toLowerCase())}))),Object(i.jsx)("div",{children:e?Object(i.jsx)(f.a,{}):Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{data:l,columns:this.columns,actions:Object(i.jsxs)("div",{className:"flex middle",children:[Object(i.jsx)(v.a,{label:"Search Product",style:{marginRight:10},onChange:function(e){t.setState({search:e.target.value})}}),Object(i.jsx)(O.a,{control:Object(i.jsx)(p.a,{checked:s,onChange:function(e,c){return t.setState({removeSelectedDairy:c})},color:"primary"}),label:"Remove Milk and Paneer"}),Object(i.jsx)(x.a,{onClick:this.exportData,startIcon:Object(i.jsx)(b.a,{}),color:"secondary",variant:"outlined",children:"Download Excel"})]})})})})}}]),c}(l.Component);e.default=Object(d.b)((function(t){var e=t.setAdmin;return Object(s.a)({},e)}))(w)}}]);
//# sourceMappingURL=ProductSheet.ad457a64.chunk.js.map