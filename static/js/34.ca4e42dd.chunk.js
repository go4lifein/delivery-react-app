(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[34],{172:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n(32),a=n(176),i=n.n(a),o=n(28),c=n.n(o);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),n="".concat(r.a,"/v2/order/getAllOrders?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.d)(n)}function d(){var e="".concat(r.a,"/v2/order/getDeliveryBoysData");return Object(r.d)(e)}function l(e){var t="".concat(r.a,"/v2/order/assignDrivers");return Object(r.f)(t,e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),n="".concat(r.a,"/v2/order/getOrderedProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.d)(n)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),n="".concat(r.a,"/v2/order/getOrderProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.d)(n)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),n="".concat(r.a,"/v2/order/getOrderBoxData?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.d)(n)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().format("YYYY-MM-DD"),n="".concat(r.a,"/v2/order/getDeliveryReport?fromDate=").concat(e,"&endDate=").concat(t);return Object(r.d)(n)}function m(e){var t="".concat(r.a,"/delivery/addDeliveryPerson");return c.a.put(t,e,{headers:{"Content-Type":"application/json"}})}function g(){var e="".concat(r.a,"/farmers/getAllFarmers");return Object(r.d)(e)}},180:function(e,t,n){"use strict";var r=n(147),a=n(148);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),o=(0,r(n(149)).default)(i.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.default=o},203:function(e,t,n){"use strict";var r=n(147),a=n(148);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),o=(0,r(n(149)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},224:function(e,t,n){"use strict";var r=n(3),a=n(1),i=n(0),o=(n(8),n(10)),c=n(18),s=[0,1,2,3,4,5,6,7,8,9,10],d=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=i.forwardRef((function(e,t){var n=e.alignContent,c=void 0===n?"stretch":n,s=e.alignItems,d=void 0===s?"stretch":s,l=e.classes,u=e.className,f=e.component,v=void 0===f?"div":f,h=e.container,m=void 0!==h&&h,g=e.direction,x=void 0===g?"row":g,j=e.item,b=void 0!==j&&j,p=e.justify,O=void 0===p?"flex-start":p,D=e.lg,y=void 0!==D&&D,Y=e.md,w=void 0!==Y&&Y,M=e.sm,S=void 0!==M&&M,C=e.spacing,k=void 0===C?0:C,N=e.wrap,W=void 0===N?"wrap":N,z=e.xl,P=void 0!==z&&z,F=e.xs,I=void 0!==F&&F,A=e.zeroMinWidth,B=void 0!==A&&A,E=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),q=Object(o.a)(l.root,u,m&&[l.container,0!==k&&l["spacing-xs-".concat(String(k))]],b&&l.item,B&&l.zeroMinWidth,"row"!==x&&l["direction-xs-".concat(String(x))],"wrap"!==W&&l["wrap-xs-".concat(String(W))],"stretch"!==d&&l["align-items-xs-".concat(String(d))],"stretch"!==c&&l["align-content-xs-".concat(String(c))],"flex-start"!==O&&l["justify-xs-".concat(String(O))],!1!==I&&l["grid-xs-".concat(String(I))],!1!==S&&l["grid-sm-".concat(String(S))],!1!==w&&l["grid-md-".concat(String(w))],!1!==y&&l["grid-lg-".concat(String(y))],!1!==P&&l["grid-xl-".concat(String(P))]);return i.createElement(v,Object(a.a)({className:q,ref:t},E))})),f=Object(c.a)((function(e){return Object(a.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(r){var a=e.spacing(r);0!==a&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(a,2)),width:"calc(100% + ".concat(l(a),")"),"& > $item":{padding:l(a,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};d.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var a="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:a,flexGrow:0,maxWidth:a}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(a.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.a=f},588:function(e,t,n){"use strict";n.r(t);var r=n(165),a=n.n(r),i=n(166),o=n(151),c=n(152),s=n(154),d=n(155),l=n(2),u=n(0),f=n.n(u),v=n(596),h=n(557),m=n(551),g=n(53),x=n(56),j=n(224),b=n(546),p=n(203),O=n.n(p),D=n(172),y=n(59),Y=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).onChange=function(e){r.setState(Object(x.a)({},e.target.name,e.target.value))},r.onSubmit=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(D.a)({name:r.state.name,phone:r.state.phone}).then((function(e){r.props.enqueueSnackbar("Driver Added",{anchorOrigin:{vertical:"bottom",horizontal:"left"},variant:"success"}),r.setState({name:"",phone:""})})).catch((function(e){r.props.enqueueSnackbar("Driver could not be added",{anchorOrigin:{vertical:"bottom",horizontal:"left"},variant:"error"})}));case 3:r.props.refreshData();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={name:"",phone:""},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.phone,r=this.props.toggleDriverForm;return Object(l.jsx)("div",{children:Object(l.jsx)("form",{id:"driver-form",onSubmit:this.onSubmit,className:"p-10",children:Object(l.jsx)(j.a,{container:!0,justify:"center",spacing:2,children:Object(l.jsx)(j.a,{item:!0,xs:12,children:Object(l.jsxs)("div",{className:"flex middle",children:[Object(l.jsx)("div",{className:"mh-10",children:Object(l.jsx)(v.a,{label:"Driver Name",name:"name",variant:"outlined",required:!0,value:t,onChange:this.onChange})}),Object(l.jsx)("div",{children:Object(l.jsx)(v.a,{required:!0,label:"Phone No:",name:"phone",variant:"outlined",value:n,onChange:this.onChange})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",style:{margin:10},children:"Submit"}),Object(l.jsx)(b.a,{style:{marginLeft:10},onClick:r,children:Object(l.jsx)(O.a,{})})]})]})})})})})}}]),n}(u.Component),w=Object(y.b)(Y),M=n(191),S=n.n(M),C=n(180),k=n.n(C),N=Object(l.jsx)(k.a,{});function W(e){var t=e.data;return Object(l.jsx)("div",{children:Object(l.jsx)(S.a,{striped:!0,noHeader:!0,selectableRows:!1,dense:!0,sortIcon:N,data:t,columns:[{name:"Driver Name",selector:"name",sortable:!0,width:"300px"},{name:"Phone No.",selector:"phone",sortable:!0,width:"300px"}],highlightOnHover:!0,pointerOnHover:!0,pagination:!0,paginationPerPage:20})})}var z=f.a.memo(W),P=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).refreshData=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)();case 2:t=e.sent,r.setState({deliveryboys:t.data});case 4:case"end":return e.stop()}}),e)}))),r.filterData=function(){var e=r.state.search,t=[];return r.state.deliveryboys&&(t=r.state.deliveryboys.filter((function(t){return!(!t.name.includes(e)&&!t.phone.includes(e))}))),t},r.onSearch=function(e){r.setState({search:e.target.value}),r.filterData()},r.toggleDriverForm=function(){r.setState((function(e){return{addingDriver:!e.addingDriver}}))},r.state={loading:!0,addingDriver:!1,name:"",phone:"",deliveryboys:[],search:""},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1}),this.refreshData()}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.addingDriver,r=(e.name,e.phone,this.filterData());return t?Object(l.jsx)(g.a,{}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{}),Object(l.jsxs)("div",{className:"flex space-bw m-10 middle",children:[Object(l.jsx)("div",{children:Object(l.jsx)(v.a,{label:"Search by Name or Phone",value:this.state.search,onChange:this.onSearch})}),Object(l.jsx)("div",{children:Object(l.jsx)(h.a,{variant:"contained",color:"primary",onClick:this.toggleDriverForm,children:"Add Driver"})})]}),n&&Object(l.jsx)(m.a,{className:"m-10 p-10",children:Object(l.jsx)(w,{toggleDriverForm:this.toggleDriverForm,refreshData:this.refreshData})}),Object(l.jsx)(z,{data:r})]})}}]),n}(u.Component);t.default=P}}]);