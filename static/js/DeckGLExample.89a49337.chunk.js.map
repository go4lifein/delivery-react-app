{"version":3,"sources":["components/DeckGLExample.js"],"names":["COLOR_SCALE","DeckGLExample","getTooltip","object","properties","valuePerSqm","Math","round","growth","this","geojsonLayer","GeoJsonLayer","data","opacity","stroked","filled","extruded","wireframe","fp64","latitude","longitude","getElevation","f","sqrt","getFillColor","x","i","length","colorScale","getLineColor","pickable","width","height","mapStyle","zoom","maxZoom","pitch","Component","connect","state"],"mappings":"4MAUA,IAAMA,EAAc,CAElB,CAAC,GAAI,IAAK,KACV,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KAGX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,GAAI,IACV,CAAC,IAAK,GAAI,IACV,CAAC,IAAK,EAAG,IACT,CAAC,IAAK,EAAG,K,IAYLC,E,4MAoBJC,WAAa,YAAe,IAAbC,EAAY,EAAZA,OACb,OAAOA,GAAM,gDAETA,EAAOC,WAAWC,YAFT,iCAITC,KAAKC,MAAiC,IAA3BJ,EAAOC,WAAWI,QAJpB,W,kEAnBbC,KAAKC,aAAe,IAAIC,IAAa,CACnCC,KAAM,2GACNC,QAAS,GACTC,SAAS,EACTC,QAAQ,EACRC,UAAU,EACVC,WAAW,EACXC,MAAM,EACNC,SAAU,OACVC,WAAY,OAEZC,aAAc,SAAAC,GAAC,OAA0C,GAAtChB,KAAKiB,KAAKD,EAAElB,WAAWC,cAC1CmB,aAAc,SAAAF,GAAC,OAvBrB,SAAoBG,GAElB,IAAMC,EAAIpB,KAAKC,MAAU,EAAJkB,GAAS,EAC9B,OAAIA,EAAI,EACCzB,EAAY0B,IAAM1B,EAAY,GAEhCA,EAAY0B,IAAM1B,EAAYA,EAAY2B,OAAS,GAiBnCC,CAAWN,EAAElB,WAAWI,SAC3CqB,aAAc,SAAAP,GAAC,MAAI,CAAC,IAAK,IAAK,MAE9BQ,UAAU,M,+BAYZ,OACE,8BAEE,cAAC,IAAD,CACEC,MAAM,OACNC,OAAO,OACPC,SAAU,gEACVd,SAAU,OACVC,WAAY,OACZc,KAAM,GACNC,QAAS,GACTC,MAAO,EAGPlC,WAAYO,KAAKP,mB,GA3CCmC,aAkDbC,uBApFf,SAAyBC,GACvB,MAAO,KAmFMD,CAEbrC,I","file":"static/js/DeckGLExample.89a49337.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {DeckGL, GeoJsonLayer} from 'deck.gl';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\r\n  };\r\n}\r\n\r\nconst COLOR_SCALE = [\r\n  // negative\r\n  [65, 182, 196],\r\n  [127, 205, 187],\r\n  [199, 233, 180],\r\n  [237, 248, 177],\r\n\r\n  // positive\r\n  [255, 255, 204],\r\n  [255, 237, 160],\r\n  [254, 217, 118],\r\n  [254, 178, 76],\r\n  [253, 141, 60],\r\n  [252, 78, 42],\r\n  [227, 26, 28],\r\n  [189, 0, 38],\r\n  [128, 0, 38]\r\n];\r\n\r\nfunction colorScale(x) {\r\n  \r\n  const i = Math.round(x * 7) + 4;\r\n  if (x < 0) {\r\n    return COLOR_SCALE[i] || COLOR_SCALE[0];\r\n  }\r\n  return COLOR_SCALE[i] || COLOR_SCALE[COLOR_SCALE.length - 1];\r\n}\r\n\r\nclass DeckGLExample extends Component {\r\n  componentDidMount() {\r\n    this.geojsonLayer = new GeoJsonLayer({\r\n      data: 'https://raw.githubusercontent.com/uber-common/deck.gl-data/master/examples/geojson/vancouver-blocks.json',\r\n      opacity: 0.8,\r\n      stroked: false,\r\n      filled: true,\r\n      extruded: true,\r\n      wireframe: true,\r\n      fp64: true,\r\n      latitude: 49.254,\r\n      longitude: -123.13,\r\n    \r\n      getElevation: f => Math.sqrt(f.properties.valuePerSqm) * 10,\r\n      getFillColor: f => colorScale(f.properties.growth),\r\n      getLineColor: f => [255, 255, 255],\r\n    \r\n      pickable: true\r\n    });\r\n  }\r\n  getTooltip = ({object}) => {\r\n    return object && `\r\n      Average Property Value\r\n      ${object.properties.valuePerSqm}\r\n      Growth\r\n      ${Math.round(object.properties.growth * 100)}\r\n    `;\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        \r\n        <DeckGL\r\n          width=\"100%\" \r\n          height=\"100%\"\r\n          mapStyle={'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json'}\r\n          latitude={49.254}\r\n          longitude={-123.13}\r\n          zoom={11}\r\n          maxZoom={16}\r\n          pitch={4}\r\n          // controller={true}\r\n          // layers={[this.geojsonLayer]}\r\n          getTooltip={this.getTooltip}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n)(DeckGLExample);"],"sourceRoot":""}