{"version":3,"sources":["constants/index.js","helpers/utils.js","components/Loading.js","App.js","reducers/admin.reducers.js","reducers/driver.reducers.js","index.js"],"names":["UPDATE_DRIVER","UPDATE_ORDERS","UPDATE_ADMIN","UPDATE_ORDERS_DATA","UPDATE_ADMIN_DATA","UPDATE_ORDER_CRATE_DATA","API_URL","getCookies","cookies","document","cookie","split","data","forEach","values","setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","initRequestAuthHeader","accessToken","userAccessToken","console","log","axios","defaults","headers","common","request","config","hasOnlyDairyProducts","products","Object","entries","length","hasNoDairy","Loading","className","Admin","lazy","Driver","Trace","App","theme","createMuiTheme","palette","secondary","light","main","dark","contrastText","background","default","paper","id","ThemeProvider","CssBaseline","base","fallback","path","exact","component","admin","window","localStorage","getItem","initialState","JSON","parse","undefined","loadingOrderData","updateOrderCrateData","state","action","customers","payload","customer","order_id","driver","store","createStore","combineReducers","setDriver","type","setItem","stringify","orders","Map","locations","order","subarea","area","hub","has","hubAreas","get","subareas","includes","push","set","areaData","categories","hubs","areas","crate_id","customer_id","customer_name","phone_number","address_id","house_number","category","product","quantity","package_size","package_type","product_package_id","product_id","region_id","location_id","delivery_person_id","productData","total","unit","deliveryData","driver_id","deliver_date","delivery_type","proof_img","complete_delivery","order_cancel_reason","boxes","milk_packets","delivery","delivered","phone","address","onlyDairy","setAdmin","productsCollection","alreadyCreatedCratedToday","order_staus","order_type","TIMESTAMP","last_update_on","crates","remark","small_boxes","large_boxes","fnvProducts","crateId","crateData","productValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ee46f88.chunk.js","sourcesContent":["// constants for driver\r\nexport const UPDATE_DRIVER = 'UPDATE_DRIVER';\r\nexport const UPDATE_ORDERS = 'UPDATE_ORDERS';\r\n\r\n// admin constants\r\nexport const UPDATE_ADMIN = 'UPDATE_ADMIN';\r\nexport const UPDATE_ORDERS_DATA = 'UPDATE_ORDERS_DATA';\r\nexport const UPDATE_ADMIN_DATA = 'UPDATE_ADMIN_DATA';\r\nexport const UPDATE_ORDER_CRATE_DATA = 'UPDATE_ORDER_CRATE_DATA';\r\n","import axios from \"axios\";\r\n\r\nexport const API_URL = 'https://api.deliver.go4life.in/api';\r\n// export const API_URL = 'https://go4life-deliver.herokuapp.com/api';\r\n// export const API_URL = 'http://localhost:5000/api';\r\n// export const API_URL = 'http://192.168.40.14:5000/api';\r\n// export const API_URL = 'http://192.168.0.103:5000/api';\r\n\r\n// export const API_URL = '/api';\r\n\r\nexport function getCookies() {\r\n  var x = document.cookie;\r\n  let cookies = x.split(\";\");\r\n  let data = {};\r\n  cookies.forEach((cookie) => {\r\n    let values = cookie.split(\"=\");\r\n    data[values[0]] = values[1];\r\n  });\r\n  return data;\r\n}\r\n\r\nexport function setCookie(name, value, days) {\r\n  var expires = \"\";\r\n  if (days) {\r\n      var date = new Date();\r\n      date.setTime(date.getTime() + (days*24*60*60*1000));\r\n      expires = \"; expires=\" + date.toUTCString();\r\n  }\r\n  document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\";\r\n}\r\n\r\nfunction setRequestAuthHeader(accessToken) {\r\n  axios.defaults.headers.common[\"x-admin-token\"] = accessToken;\r\n}\r\n\r\nexport const userAccessToken = getCookies()[\"x-admin-token\"];\r\n\r\nexport function initRequestAuthHeader() {\r\n  let userAccessToken = getCookies()[\"x-admin-token\"];\r\n  console.log(userAccessToken)\r\n  if(userAccessToken) setRequestAuthHeader(userAccessToken);\r\n}\r\ninitRequestAuthHeader();\r\n\r\nexport function request(config) {\r\n  return axios.request(config);\r\n}\r\n\r\nexport function onlyMilkAndPaneer(products) {\r\n  const categories = Object.entries(products);\r\n  categories.forEach(([category, value]) => {\r\n    value.forEach(product => {\r\n      const name = product.product;\r\n      if(name.toLowerCase().includes(\"milk\") === false) return false;\r\n      if(name.toLowerCase().includes(\"paneer\") ===false) return false;\r\n    });\r\n  });\r\n  return true;\r\n}\r\n\r\n\r\nexport function hasOnlyDairyProducts(products) {\r\n  if('Dairy' in products && Object.entries(products).length === 1) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function hasNoDairy(products) {\r\n  if(!('Dairy' in products)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}","import { CircularProgress } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"flex center middle p-10\">\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;","import React, { Suspense, lazy } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\n// import useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport \"./css/style.css\";\r\n\r\nimport Loading from \"./components/Loading\";\r\nconst Admin = lazy(() => import(\"./containers/Admin.jsx\"));\r\nconst Driver = lazy(() => import(\"./containers/Driver.jsx\"));\r\nconst Trace = lazy(() => import(\"./trace/Trace.js\"));\r\n// const Trace = lazy(() => import(\"./components/Traceability.js\"));\r\n\r\nfunction App() {\r\n  // const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      // type: 'light',\r\n      // primary: colors.green[400],\r\n      secondary: {\r\n        light: \"#ff4081\",\r\n        main: \"#f50057\",\r\n        dark: \"#c51162\",\r\n        contrastText: \"#fff\",\r\n      },\r\n      background: {\r\n        default: \"#fff\",\r\n        paper: \"#fff\",\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div id=\"app\">\r\n      <ThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <Router base={\"delivery-react-app\"}>\r\n          <main>\r\n            <Suspense fallback={<Loading />}>\r\n              <Switch>\r\n                <Route path=\"/trace\" exact component={Trace} />\r\n                <Route path=\"/admin\" component={Admin} />\r\n                <Route path=\"/\" component={Driver} />\r\n              </Switch>\r\n            </Suspense>\r\n          </main>\r\n        </Router>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import {UPDATE_ADMIN, UPDATE_ORDERS_DATA, UPDATE_ADMIN_DATA, UPDATE_ORDER_CRATE_DATA} from '../constants/index';\r\n\r\nimport {hasOnlyDairyProducts, hasNoDairy} from '../helpers/utils';\r\n\r\nlet admin = window.localStorage.getItem('admin');\r\nif(admin) {\r\n  admin = JSON.parse(admin);\r\n} else {\r\n  admin = undefined;\r\n}\r\n// console.log(admin);\r\nconst initialState = {\r\n  admin,\r\n  loadingOrderData: true\r\n}\r\n\r\nfunction updateOrderCrateData(state, action) {\r\n  const {customers} = state;\r\n  let {payload} = action;\r\n  const {id} = payload;\r\n  if(customers) {\r\n    for(const customer of customers) {\r\n      let data = customer[1];\r\n      if(data.order_id === id) {\r\n        data = {\r\n          ...data,\r\n          ...payload\r\n        }\r\n        customer[1] = data;\r\n        console.log(customer[1]);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return state;\r\n}\r\n\r\nexport const setAdmin = (state = initialState, action = {}) => {\r\n  switch(action.type) {\r\n    case UPDATE_ADMIN:\r\n      let admin = action.payload;\r\n      window.localStorage.setItem('admin', JSON.stringify(admin));\r\n      return { ...state, admin}\r\n\r\n    case UPDATE_ADMIN_DATA:\r\n      // let {customers, areas, subareas, categories, hubs, orders} = action.payload;\r\n      return { \r\n        ...state,\r\n        ...action.payload\r\n      }\r\n\r\n    case UPDATE_ORDER_CRATE_DATA:\r\n      // let {customers, areas, subareas, categories, hubs, orders} = action.payload;\r\n      return updateOrderCrateData(state, action);\r\n\r\n    case UPDATE_ORDERS_DATA:\r\n\r\n      let orders = action.payload;\r\n      let customers = new Map();\r\n      let productsCollection = new Map();\r\n      let locations = new Map();\r\n      let alreadyCreatedCratedToday = false;\r\n      /* \r\n      locations = {\r\n        \"Gurgaon\": {\r\n          \"Sector 69\": [\r\n            \"Tulip White\"\r\n          ]\r\n        },\r\n        \"South Delhi\": {\r\n\r\n        }\r\n      }\r\n      */\r\n\r\n      // prepare location data\r\n      orders.forEach(order => {\r\n        let { subarea, area, hub, crate_id } = order;\r\n        \r\n        if(crate_id) {\r\n          alreadyCreatedCratedToday = true;\r\n        }\r\n        if(locations.has(hub)) {\r\n          let hubAreas = locations.get(hub);\r\n          if(hubAreas.has(area)) {\r\n            let subareas = hubAreas.get(area);\r\n            if(!subareas.includes(subarea)) {\r\n              subareas.push(subarea);\r\n            }\r\n            hubAreas.set(area, subareas);\r\n            locations.set(hub, hubAreas);\r\n          } else {\r\n            let areaData = [subarea];\r\n            hubAreas.set(area, areaData);\r\n            locations.set(hub, hubAreas);\r\n          }\r\n        } else {\r\n          let hubAreas = new Map();\r\n          hubAreas.set(area, [subarea]);\r\n          locations.set(hub, hubAreas)\r\n        }\r\n      });\r\n\r\n      // console.log(locations);\r\n\r\n      let categories = [];\r\n      let hubs = [];\r\n      let areas = [];\r\n      let subareas = [];\r\n      let products = {};\r\n\r\n      // accumulate customer data\r\n      orders.forEach(order => {\r\n        let { \r\n          order_id, crate_id,\r\n          order_staus, order_type, TIMESTAMP, last_update_on,\r\n          crates, remark, small_boxes, large_boxes,\r\n          customer_id, customer_name, phone_number, \r\n          address_id, house_number, subarea, area, hub,\r\n          category, product, quantity,\r\n          package_size, package_type, product_package_id, product_id, \r\n          region_id, location_id, delivery_person_id,\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        } = order;\r\n\r\n        // if(order_id === 129779) {\r\n        //   console.log(order);\r\n        // }\r\n\r\n        // filter orders created after crate id is generated\r\n        if(alreadyCreatedCratedToday) {\r\n          if(!crate_id) {\r\n            return;\r\n          }\r\n        }\r\n\r\n        let productData = {\r\n          product,\r\n          product_id,\r\n          product_package_id,\r\n          package_size,\r\n          quantity,\r\n          category,\r\n          total: package_size * quantity,\r\n          unit: package_type\r\n        }\r\n        \r\n        let deliveryData = {\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        }\r\n        \r\n        if(categories.includes(category) === false) {\r\n          categories.push(category);\r\n        }\r\n        if(!(product_id in products)) {\r\n          products[product_id] = product;\r\n        }\r\n\r\n        if(customers.has(customer_id)) {\r\n          \r\n          let customer = customers.get(customer_id);\r\n          let {products} = customer;\r\n          \r\n          if(category in products) {\r\n            products[category].push(productData);\r\n          } else {\r\n            products[category] = [\r\n              productData\r\n            ]\r\n          }\r\n          \r\n          customer.products = products;\r\n          customer.delivery = deliveryData;\r\n          customer.delivered = deliveryData.deliver_date;\r\n        } else {\r\n          \r\n          // if(order_id === 129779) {\r\n          //   console.log(order);\r\n          // }\r\n          \r\n          if(areas.includes(area) === false) {\r\n            areas.push(area);\r\n          }\r\n          if(subareas.includes(subarea) === false) {\r\n            subareas.push(subarea);\r\n          }\r\n          if(hubs.includes(hub) === false) {\r\n            hubs.push(hub);\r\n          }\r\n\r\n          let customer = {\r\n            name: customer_name,\r\n            phone: phone_number,\r\n            order_id,\r\n            crate_id,\r\n            order_staus, order_type, TIMESTAMP,  last_update_on,\r\n            crates, remark, small_boxes, large_boxes, delivery_person_id,\r\n            address: {\r\n              address_id,\r\n              house_number, subarea,\r\n              area, hub,\r\n              region_id, location_id\r\n            },\r\n            products: {\r\n              [category]: [productData]\r\n            },\r\n            fnvProducts: [],\r\n            delivery: deliveryData,\r\n            delivered: deliveryData.deliver_date\r\n          }\r\n          customers.set(customer_id, customer);\r\n        }\r\n      });\r\n\r\n      // create crate id for orders except onlyDairyProducts\r\n      let crateId = 1;\r\n      for(const customer of customers) {\r\n        const {products} = customer[1];\r\n        if(hasOnlyDairyProducts(products)) {\r\n          customer[1].onlyDairy = true;\r\n        } else {\r\n          customer[1].onlyDairy = false;\r\n          customer[1].crateId = crateId;\r\n          crateId++;\r\n        }\r\n        \r\n        if(hasNoDairy(products)) {\r\n          customer[1].hasNoDairy = true;\r\n        } else {\r\n          customer[1].hasNoDairy = false;\r\n        }  \r\n      }\r\n      \r\n      // create crate id for orders that has onlyDairyProducts\r\n      for(const customer of customers) {\r\n        const {products} = customer[1];\r\n        if(hasOnlyDairyProducts(products)) {\r\n          customer[1].crateId = crateId;\r\n          crateId++;\r\n        }\r\n      }\r\n\r\n      // create productsCollection\r\n      orders.forEach(order => {\r\n        let { \r\n          customer_id, \r\n          category, product, quantity,\r\n          package_size, package_type, product_id,\r\n          crate_id\r\n        } = order;\r\n\r\n        if(alreadyCreatedCratedToday && !crate_id) {\r\n          return;\r\n        }\r\n\r\n          \r\n        let crateData = {\r\n          quantity,\r\n          total: package_size * quantity,\r\n          crateId: customers.get(customer_id).crateId,\r\n          crate_id: customers.get(customer_id).crate_id\r\n        }\r\n        if(productsCollection.has(product_id)) {\r\n          let productValue = productsCollection.get(product_id);\r\n          let {crates} = productValue;\r\n          crates.push(crateData);\r\n\r\n          productValue.crates = crates;\r\n        } else {\r\n          let productData = {\r\n            package_size,\r\n            product_id,\r\n            product,\r\n            category,\r\n            unit: package_type,\r\n            crates: [crateData]\r\n          }\r\n          productsCollection.set(product_id, productData);\r\n        }\r\n      })\r\n      \r\n      return {\r\n        ...state, \r\n        alreadyCreatedCratedToday, \r\n        loadingOrderData: false, \r\n        customers, \r\n        locations, \r\n        productsCollection, \r\n        products, \r\n        areas, \r\n        subareas, \r\n        categories, \r\n        hubs, \r\n        orders\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import {UPDATE_DRIVER, UPDATE_ORDERS} from '../constants/index';\r\n\r\nlet driver = window.localStorage.getItem('driver');\r\nif(driver) {\r\n  driver = JSON.parse(driver);\r\n} else {\r\n  driver = undefined;\r\n}\r\nconst initialState = {\r\n  driver\r\n}\r\n\r\nfunction hasOnlyDairyProducts(products) {\r\n  if('Dairy' in products && Object.entries(products).length === 1) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction hasNoDairy(products) {\r\n  if(!('Dairy' in products)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const setDriver = (state = initialState, action = {}) => {\r\n  switch(action.type) {\r\n    case UPDATE_DRIVER:\r\n      let driver = action.payload;\r\n      window.localStorage.setItem('driver', JSON.stringify(driver));\r\n      return { ...state, driver}\r\n\r\n    case UPDATE_ORDERS:\r\n\r\n      let orders = action.payload;\r\n      let customers = new Map();\r\n      // let productsCollection = new Map();\r\n      let locations = new Map();\r\n      /* \r\n      locations = {\r\n        \"Gurgaon\": {\r\n          \"Sector 69\": [\r\n            \"Tulip White\"\r\n          ]\r\n        },\r\n        \"South Delhi\": {\r\n\r\n        }\r\n      }\r\n      */\r\n      orders.forEach(order => {\r\n        let { subarea, area, hub } = order;\r\n        if(locations.has(hub)) {\r\n          let hubAreas = locations.get(hub);\r\n          if(hubAreas.has(area)) {\r\n            let subareas = hubAreas.get(area);\r\n            if(!subareas.includes(subarea)) {\r\n              subareas.push(subarea);\r\n            }\r\n            hubAreas.set(area, subareas);\r\n            locations.set(hub, hubAreas);\r\n          } else {\r\n            let areaData = [subarea];\r\n            hubAreas.set(area, areaData);\r\n            locations.set(hub, hubAreas);\r\n          }\r\n        } else {\r\n          let hubAreas = new Map();\r\n          hubAreas.set(area, [subarea]);\r\n          locations.set(hub, hubAreas)\r\n        }\r\n      });\r\n\r\n      // console.log(locations);\r\n\r\n      let categories = [];\r\n      let hubs = [];\r\n      let areas = [];\r\n      let subareas = [];\r\n      let products = {};\r\n\r\n      orders.forEach(order => {\r\n        let { \r\n          order_id, crate_id,\r\n          customer_id, customer_name, phone_number, \r\n          address_id, house_number, subarea, area, hub,\r\n          category, product, quantity,\r\n          package_size, package_type, product_package_id, product_id, \r\n          region_id, location_id, delivery_person_id,\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        } = order;\r\n\r\n        if(delivery_person_id) {\r\n          // console.log(order);\r\n        }\r\n        let productData = {\r\n          product,\r\n          product_id,\r\n          product_package_id,\r\n          package_size,\r\n          quantity,\r\n          total: package_size * quantity,\r\n          unit: package_type\r\n        }\r\n        let deliveryData = {\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        }\r\n        \r\n        if(categories.includes(category) === false) {\r\n          categories.push(category);\r\n        }\r\n        if(!(product_id in products)) {\r\n          products[product_id] = product;\r\n        }\r\n\r\n        if(customers.has(customer_id)) {\r\n          let customer = customers.get(customer_id);\r\n          let {products} = customer;\r\n          \r\n          if(category in products) {\r\n            products[category].push(productData);\r\n          } else {\r\n            products[category] = [\r\n              productData\r\n            ]\r\n          }\r\n\r\n          customer.products = products;\r\n          customer.delivery = deliveryData;\r\n          customer.delivered = deliveryData.deliver_date;\r\n        } else {\r\n          \r\n          if(areas.includes(area) === false) {\r\n            areas.push(area);\r\n          }\r\n          if(subareas.includes(subarea) === false) {\r\n            subareas.push(subarea);\r\n          }\r\n          if(hubs.includes(hub) === false) {\r\n            hubs.push(hub);\r\n          }\r\n\r\n          let customer = {\r\n            name: customer_name,\r\n            phone: phone_number,\r\n            order_id,\r\n            crate_id,\r\n            address: {\r\n              address_id,\r\n              house_number, subarea,\r\n              area, hub,\r\n              region_id, location_id\r\n            },\r\n            products: {\r\n              [category]: [productData]\r\n            },\r\n            delivery_person_id,\r\n            delivery: deliveryData,\r\n            delivered: deliveryData.deliver_date\r\n          }\r\n          customers.set(customer_id, customer);\r\n        }\r\n      });\r\n\r\n      for(const customer of customers) {\r\n        const {products} = customer[1];\r\n        if(hasOnlyDairyProducts(products)) {\r\n          customer[1].onlyDairy = true;\r\n        } else {\r\n          customer[1].onlyDairy = false;\r\n        }\r\n        \r\n        if(hasNoDairy(products)) {\r\n          customer[1].hasNoDairy = true;\r\n        } else {\r\n          customer[1].onlyDairy = false;\r\n        }\r\n      }\r\n      \r\n      return {...state, customers, locations,  areas, subareas, hubs, orders};\r\n    default:\r\n      return state;\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n//import reportWebVitals from './reportWebVitals';\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, combineReducers } from \"redux\";\r\n\r\nimport { setAdmin } from \"./reducers/admin.reducers\";\r\nimport { setDriver } from \"./reducers/driver.reducers\";\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    setDriver,\r\n    setAdmin,\r\n  })\r\n);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}