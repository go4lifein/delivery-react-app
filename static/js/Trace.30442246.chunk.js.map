{"version":3,"sources":["trace/getDate.js","trace/Trace.js","api/misc.js","trace/icons/boards.svg","trace/Journey.js","trace/fonts/g4l.svg","trace/header.js","trace/icons/milkbox.svg","trace/Facts.js","trace/Main.js"],"names":["GetDate","startDate","className","selected","dateFormat","Trace","location","useState","Date","setStartDate","isA2","setIsA2","data","setData","loading","setLoading","load","setLoad","useEffect","document","title","search","reportDate","URLSearchParams","get","date","type","a","getReport","response","console","log","getData","Loading","Main","Journey","Facts","report_date","moment","format","url","API_URL","request","method","headers","result","getBatchMilkReport","batchNo","getRequest","getOrderDetails","orderId","parseInt","btoa","getMyOrderItemDetails","journey","setJourney","startTime","bmc_receive","endTime","whs_dispatch","duration","diff","hours","asHours","minutes","asMinutes","container","useRef","lottie","loadAnimation","current","renderer","loop","autoplay","speed","animationData","require","ref","Header","src","logo","alt","milkbox","onClick","window","open","pdf_url","ph","fat","snf","mbrt","bmcLocation","utc","plant_receive","plant_dispatch","whs_receive","board","onLoad"],"mappings":"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","file":"static/js/Trace.30442246.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport DatePicker , {subDays} from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./getdate.scss\";\n\nexport default function GetDate( {startDate}) {\n  \n  return (\n    <div className=\"datepicker\">\n      <DatePicker\n        className=\"box\"\n        selected={startDate}\n        dateFormat=\"MMMM d, yyyy\"\n      \n       \n      />\n\n    </div>\n  );\n}\n","\nimport React , {useState , useEffect} from \"react\";\nimport \"./trace.scss\";\nimport Header from \"./header.js\";\nimport Main from \"./Main.js\";\nimport Journey from \"./Journey.js\";\nimport Facts from \"./Facts.js\";\nimport GetDate from \"./getDate.js\";\nimport {getReport} from \"../api/misc.js\";\nimport Loading from \"../components/Loading.js\";\n\nexport default function Trace({ location }) {\n  const [startDate, setStartDate] = useState(new Date());\n  const [isA2, setIsA2] = useState(true);\n  const [data ,setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [load ,setLoad] = useState(false);\n\n  \n  useEffect(() => {\n    document.title = \"Go4Life - Trace Your Milk\"\n    let {search} = location;\n    search = new URLSearchParams(search);\n    const reportDate = search.get('report_date');\n    if(!reportDate)\n    return\n    const date = new Date(reportDate);\n    \n    const type = search.get('milk_type');  \n    setStartDate(date);\n    setIsA2(type === \"a2\" ? true : false);\n  }, [location]);\n\n  useEffect(() => {\n  \n    async function getData() {\n      try {\n        setLoading(true);\n        const response = await getReport(\"a2\", startDate);\n        setData(response.data);\n        setLoading(false);\n      }\n      catch (err) {\n        console.log(err);\n        setData(null);\n        setLoading(false);\n      }\n    }\n    getData();\n    \n  }, [startDate, isA2]);\n\n  return (\n    <div className=\"trace\">\n      <Header />\n      <GetDate startDate = {startDate} setStartDate ={setStartDate} isA2 = {isA2} setIsA2 = {setIsA2}/>\n      {loading && <Loading />}\n      {!data && !loading && !load && <p className = \"not-found\">Record Not Found</p>}\n      <Main data= {data} load = {load} setLoad = {setLoad} />\n      {data && load &&\n        <>\n          \n          <Journey data = {data} />\n          <Facts data= {data}  />\n        </>\n      }\n    </div>\n  );\n}\n","import {API_URL , request, getRequest} from '../helpers/utils';\nimport moment from 'moment';\n\nexport async function getReport(type = 'a2', report_date = moment().format('YYYY-MM-DD')) {\n\n  let date = moment(report_date).format('YYYY-MM-DD');\n    \n  let url = `${API_URL}/misc/getReport?report_date=${date}&milk_type=${type}`;\n  let result =  await request({\n\n    url: url,\n    method: 'get',\n    headers: {\n      'Content-Type': 'application/json',\n    }\n\n  });\n\n  return result ;\n}\n\nexport async function getBatchMilkReport(batchNo) {\n  let url = `${API_URL}/misc/getBatchMilkReport?batchNo=${batchNo}`;\n  return getRequest(url);\n}\n\nexport function getOrderDetails(orderId = '') {\n  orderId = parseInt(orderId)\n  orderId = btoa(orderId);\n  let url = `${API_URL}/order/getMyOrderDetails?orderId=${orderId}`;\n  return getRequest(url);\n}\n\nexport function getMyOrderItemDetails(orderId = '') {\n  orderId = parseInt(orderId)\n  orderId = btoa(orderId);\n  let url = `${API_URL}/order/getMyOrderItemDetails?orderId=${orderId}`;\n  return getRequest(url);\n}","export default __webpack_public_path__ + \"static/media/boards.e347cb1d.svg\";","import React, { useEffect, useRef , useState } from \"react\";\nimport lottie from \"lottie-web\";\nimport moment from \"moment\";\nimport \"./journey.scss\";\n\nexport default function Journey({data}) {\n  const [ journey ,setJourney ] =useState(\"\");\nuseEffect(() => {\n\n    if(!data)\n    return\n    let startTime = moment(data.bmc_receive);\n  let endTime = moment(data.whs_dispatch);\n  let duration = moment.duration(endTime.diff(startTime));\n\n  let hours = parseInt(duration.asHours());\n  let minutes = parseInt(duration.asMinutes()) % 60;\n  setJourney(hours + \" hours \" +  minutes + \" minutes \");\n\n} ,[data])\n  const container = useRef(null);\n\n  useEffect(() => {\n    lottie.loadAnimation({\n      container: container.current,\n      renderer: \"svg\",\n      loop: true,\n      autoplay: true,\n      speed: \"2.5x\",\n      animationData: require(\"./icons/truck.json\"),\n    });\n  }, []);\n  return (\n    <div className=\"journey\">\n      <div className=\"truck\" ref={container}></div>\n      <p className=\"time\">Total  journey  time : {journey}</p>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/g4l.5ca1a4fc.svg\";","import \"./header.scss\";\nimport logo from \"./fonts/g4l.svg\";\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <img src={logo} alt=\"logo\" className=\"logo\" />\n\n      <h1 className=\"heading\">Trace your milk's journey.</h1>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/milkbox.dbf4b746.svg\";","import  React , { useEffect } from \"react\";\nimport \"./facts.scss\";\n\nimport milkbox from \"./icons/milkbox.svg\";\n\nexport default function Facts( {data} ) {\n\n   \n   \n  return (\n    <div className=\"facts\">\n      <img src={milkbox} className=\"Milk\" alt=\"milkboxs\" />\n    {data &&<button className=\"download-btn\" onClick = {() => window.open(data.pdf_url)}> Download Test Report</button>}\n    { data&& \n      <div className=\"cards\">\n        <div className=\"section1\">\n          <div className=\"f1\">\n    \n            <h1>pH</h1>\n            \n            <p>{data.ph}</p>\n          </div>\n          <div className=\"f2\">\n            <h1>Fat </h1>\n            <p>{data.fat} %</p>\n          </div>\n        </div>\n        <div className=\"section2\">\n          <div className=\"f3\">\n            <h1>SNF</h1>\n            <p>{data.snf} %</p>\n          </div>\n          <div className=\"f4\">\n            <h1>MBRT</h1>\n            <p>{data.mbrt} mins</p>\n          </div>\n        </div>\n        \n      </div>\n}\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./main.scss\";\nimport board from \"./icons/boards.svg\";\nimport moment from \"moment\";\n//{moment(data.plant_receive).format('DD MM YYYY')}\n//{moment(data.plant_receive).format('hh:mm A')}\n\nexport default function Main({ data, setLoad, load, bmcLocation = 'Tijara' }) {\n  return (\n    <div className=\"hero\">\n      <div className=\"board\">\n        {data && load && (\n          <>\n            <div className=\"section1\">\n              <div className=\"BMC\">\n                <h1>\n                  Received at<br></br> BMC ({bmcLocation})\n                </h1>\n                <p>{moment.utc(data.bmc_receive).format(\"hh:mm A\")}</p>\n              </div>\n            </div>\n            <div className=\"section2\">\n              <div className=\"plant-receive\">\n                <h1>\n                  {\" \"}\n                  Milk Pasteurized<br></br>at 85<span>&#176;</span>C (Sonipat)\n                </h1>\n                <p>{moment.utc(data.plant_receive).format(\"hh:mm A\")}</p>\n              </div>\n              <div className=\"plant-dispatch\">\n                <h1>\n                  Packed in a Triple-Layered<br></br>Tamper-Proof<br></br> Packaging\n                </h1>\n                <p>{moment.utc(data.plant_dispatch).format(\"hh:mm A\")}</p>\n              </div>\n            </div>\n            <div className=\"section3\">\n              <div className=\"whs-receive\">\n                <h1>\n                  Arrived at <br></br> Warehouse\n                </h1>\n                <p>{moment.utc(data.whs_receive).format(\"hh:mm A\")}</p>\n              </div>\n              <div className=\"whs-dispatch\">\n                <h1>\n                  Dispatched for <br></br>Delivery\n                </h1>\n                <p>{moment.utc(data.whs_dispatch).format(\"hh:mm A\")}</p>\n              </div>\n            </div>\n          </>\n        )}{\" \"}\n        {data && (\n          <img\n            src={board}\n            onLoad={() => setLoad(true)}\n            className=\"timeline\"\n            alt=\"timeline\"\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}