(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[24],{458:function(e,a,t){"use strict";t.r(a);var r=t(127),l=t(128),c=t(130),n=t(129),s=t(7),i=t(3),d=t(0),o=t.n(d),u=t(43),j=t(446),h=t(463),b=t(200),f=t(439),v=t(198),O=t(240),x=t(204),p=t(460),m=t(440),y=t(45),g=t(183),A=t(182),C=t(2),S=t(379),w=t.n(S),k=t(434),D=t(435),W=t(436),N=t(425),E=t(390);var H=o.a.memo(Object(C.f)((function(e){var a=e.data,t=e.history;return Object(i.jsx)("div",{id:"order cards",children:a.map((function(e){var a=e.order_id,r=e.crate_id,l=e.name,c=e.phone,n=e.address,s=n.hub,d=n.area,o=n.subarea,u=n.house_number;return Object(i.jsxs)(k.a,{style:{margin:10},children:[Object(i.jsx)(D.a,{onClick:function(){e.delivered?alert("Already delivered"):t.push("/".concat(a,"/deliver"))},title:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"flex middle",children:[Object(i.jsx)(E.a,{style:{background:"red"},children:r}),Object(i.jsx)("div",{style:{marginLeft:10},children:l})]})})}),Object(i.jsx)(N.a,{}),Object(i.jsxs)(W.a,{children:[Object(i.jsx)("div",{style:{paddingTop:10,paddingBottom:10},children:Object(i.jsxs)("a",{href:"tel:+91".concat(c),className:"flex middle",children:[Object(i.jsx)(w.a,{})," ",c]})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{style:{fontWeight:"bold"},children:"Address"})," ",u,", ",o,", ",d,", ",s]})]})]})}))})})));var _=function(e){Object(c.a)(t,e);var a=Object(n.a)(t);function t(){var e;Object(r.a)(this,t);for(var l=arguments.length,c=new Array(l),n=0;n<l;n++)c[n]=arguments[n];return(e=a.call.apply(a,[this].concat(c))).state={phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all",showDelivered:!1},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.onUpdateOrdersData,t=e.driver;Object(g.a)(t.id).then((function(e){a(e.data)}))}},{key:"render",value:function(){var e=this,a=!0,t=[],r=this.state,l=r.selectedArea,c=r.selectedHub,n=r.selectedSubarea,s=r.phone,d=r.showDelivered,o=this.props,u=o.customers,g=o.locations,A=o.areas,C=o.subareas,S=o.hubs;if("all"!==c){var w=g.get(c);A=(A=Array.from(w.keys())).sort((function(e,a){return e.localeCompare(a)}));var k="all"!==l?[w.get(l)]:Array.from(w.values());C=[],k.forEach((function(e){e.forEach((function(e){return C.push(e)}))})),C=C.sort((function(e,a){return e.localeCompare(a)}))}if("all"!==l){var D=new Map;Array.from(g.keys()).forEach((function(e){g.get(e).has(l)&&(D=g.get(e))}));var W=[D.get(l)];C=[],W.forEach((function(e){e.forEach((function(e){return C.push(e)}))})),C=C.sort((function(e,a){return e.localeCompare(a)}))}return u&&(a=!1,t=(t=(t=Array.from(u.values())).filter((function(e){return("all"===c||e.address.hub===c)&&(("all"===l||e.address.area===l)&&(("all"===n||e.address.subarea===n)&&(!s||(-1!==e.phone.indexOf(s)||-1!==e.name.toLowerCase().indexOf(s.toLowerCase())))))}))).filter((function(e){return d?!!e.delivery.deliver_date:!e.delivery.deliver_date}))),Object(i.jsx)("div",{children:a?Object(i.jsx)(y.a,{}):Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"flex middle",style:{padding:10},children:Object(i.jsxs)(x.a,{container:!0,spacing:2,children:[Object(i.jsx)(x.a,{item:!0,xs:6,children:Object(i.jsx)(p.a,{fullWidth:!0,value:s,label:"Phone or Name",onChange:function(a){return e.setState({phone:a.target.value})}})}),Object(i.jsx)(x.a,{item:!0,xs:6,children:Object(i.jsxs)(f.a,{fullWidth:!0,children:[Object(i.jsx)(h.a,{id:"hub-filter",children:"Hub"}),Object(i.jsxs)(j.a,{fullWidth:!0,labelId:"hub-filter",value:c,onChange:function(a){var t=a.target.value;e.setState({selectedHub:t,selectedArea:"all",selectedSubarea:"all"})},children:[Object(i.jsx)(b.a,{value:"all",children:"All"}),S.map((function(e){return Object(i.jsx)(b.a,{value:e,children:e},e)}))]})]})})]})}),Object(i.jsx)("div",{className:"flex middle",style:{padding:10},children:Object(i.jsxs)(x.a,{container:!0,spacing:2,children:[Object(i.jsx)(x.a,{item:!0,xs:6,children:Object(i.jsxs)(f.a,{fullWidth:!0,children:[Object(i.jsx)(h.a,{id:"area-filter",children:"Area"}),Object(i.jsxs)(j.a,{labelId:"area-filter",fullWidth:!0,value:l,onChange:function(a){var t=a.target.value;e.setState({selectedArea:t,selectedSubarea:"all"})},children:[Object(i.jsx)(b.a,{value:"all",children:"All"}),A.map((function(e){return Object(i.jsx)(b.a,{value:e,children:e},e)}))]})]})}),Object(i.jsx)(x.a,{item:!0,xs:6,children:Object(i.jsxs)(f.a,{fullWidth:!0,children:[Object(i.jsx)(h.a,{id:"subarea-filter",children:"Subareas"}),Object(i.jsxs)(j.a,{labelId:"subarea-filter",fullWidth:!0,value:n,onChange:function(a,t){var r=a.target.value;e.setState({selectedSubarea:r})},children:[Object(i.jsx)(b.a,{value:"all",children:"All"}),C.map((function(e){return Object(i.jsx)(b.a,{value:e,children:e},e)}))]})]})})]})}),Object(i.jsxs)("div",{className:"flex space-bw",style:{padding:10},children:[Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{control:Object(i.jsx)(O.a,{checked:d,onChange:function(a,t){return e.setState({showDelivered:t})},color:"primary"}),label:"Delivered"})}),Object(i.jsx)("div",{children:Object(i.jsx)(m.a,{color:"primary",onClick:function(){e.setState({phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all",selectedDriver:"all",showWithoutDairy:!1})},children:"Clear All Filters"})})]}),Object(i.jsx)(H,{data:t})]})})}}]),t}(d.Component);a.default=Object(u.b)((function(e){var a=e.setDriver;return Object(s.a)({},a)}),(function(e){return{onUpdateOrdersData:function(a){return e(Object(A.b)(a))}}}))(_)}}]);
//# sourceMappingURL=24.b52093ab.chunk.js.map