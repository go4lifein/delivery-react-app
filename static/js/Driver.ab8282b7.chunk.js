(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[14],{112:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return b}));n(32);var r=n(151),a=n.n(r),c="https://api.deliver.go4life.in/api";function i(){var t=document.cookie.split(";"),e={};return t.forEach((function(t){var n=t.split("=");e[n[0]]=n[1]})),e}function o(t,e,n){var r="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toUTCString()}document.cookie=t+"="+(e||"")+r+"; path=/"}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-admin-token",e=arguments.length>1?arguments[1]:void 0;a.a.defaults.headers.common[t]=e}i()["x-admin-token"];function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-admin-token",e=i()[t];e&&u(t,e)}function l(t){return a.a.request(t)}function d(t,e){return a.a.request({url:t,method:"post",data:e,headers:{"Content-Type":"application/json"}})}function j(t){return a.a.request({url:t,method:"get"})}function b(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),a=new Uint8Array(r),c=0;c<e.length;c++)a[c]=e.charCodeAt(c);return new Blob([r],{type:n})}i()["x-admin-token"]?s("x-admin-token"):s("x-driver-token")},222:function(t,e,n){"use strict";e.a=n.p+"static/media/logo.8f39d4d2.png"},228:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(12),a=function(t){return{type:r.g,payload:t}},c=function(t){return{type:r.h,payload:t}}},229:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o}));var r=n(112),a=n(151);function c(t){var e="".concat(r.a,"/v2/driver/login");return Object(r.f)({url:e,method:"post",data:t,headers:{"Content-Type":"application/json"}})}function i(t){var e="".concat(r.a,"/v2/driver/getMyOrders");return Object(r.f)({url:e,method:"get",headers:{"Content-Type":"application/json"}})}function o(t){var e="".concat(r.a,"/v2/driver/submitOrderDelivery");return Object(a.post)(e,t,{headers:{"content-type":"multipart/form-data"}})}},573:function(t,e,n){"use strict";n.r(e);var r=n(105),a=n(106),c=n(107),i=n(108),o=n(4),u=n(2),s=n(0),l=n(39),d=n(3),j=n(40),b=n(524),h=n(525),f=n(527),v=n(528),p=n(544),O=n(530),m=n(285),x=n.n(m),g=n(222),y=n(529),k=n(228);var C=Object(b.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));function w(t){switch(t.pathname){case"/admin/product":return"Product Sheet";case"/admin/manageOrders":return"Manage Orders";default:return"Choose Order"}}var D=Object(d.f)(Object(l.b)((function(t){var e=t.setDriver;return Object(o.a)({},e)}),(function(t){return{onUpdateDriver:function(e){return t(Object(k.a)(e))}}}))((function(t){var e=C(),n=t.location;return Object(u.jsxs)("div",{className:e.root,children:[Object(u.jsx)(h.a,{position:"static",color:"warning",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)("img",{src:g.a,alt:"logo",className:"logo-nav"}),Object(u.jsx)(v.a,{variant:"h5",className:e.title,children:w(n)}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)(O.a,{onClick:function(){window.location.reload()},children:Object(u.jsx)(x.a,{})}),Object(u.jsx)(p.a,{className:"nav-link",color:"secondary",onClick:function(){(0,t.onUpdateDriver)(null)},children:"Logout"})]})]})}),Object(u.jsx)(y.a,{})]})}))),N=n(41),P=n(538),S=n(539),T=n(540),U=n(581),A=n(229),B=n(112);var L=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={phone:""},t.handleSubmit=function(){var e=t.props.onUpdateDriver,n=t.state.phone;Object(A.b)({phone:n}).then((function(t){Object(B.g)("x-driver-token",n,5),Object(B.d)(n),e(t.data)})).catch((function(t){return alert("Please check phone number")}))},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.state.phone;return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"grey",height:"100vh"},children:Object(u.jsxs)(P.a,{style:{minWidth:300},children:[Object(u.jsx)(S.a,{title:"Login"}),Object(u.jsx)(y.a,{}),Object(u.jsxs)(T.a,{children:[Object(u.jsx)("div",{style:{marginBottom:10},children:Object(u.jsx)(U.a,{autoFocus:!0,variant:"outlined",fullWidth:!0,autoComplete:"true",label:"Phone Number",type:"number",name:"Phone Number",value:e,onChange:function(e){return t.setState({phone:e.target.value})}})}),Object(u.jsx)("div",{children:Object(u.jsx)(p.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.handleSubmit,children:"Login"})})]}),Object(u.jsx)(y.a,{}),Object(u.jsx)(T.a,{children:Object(u.jsx)("div",{children:Object(u.jsx)(N.b,{to:"/admin",children:"Login as Admin"})})})]})})}}]),n}(s.Component),q=Object(l.b)((function(t){var e=t.setDriver;return Object(o.a)({},e)}),(function(t){return{onUpdateDriver:function(e){return t(Object(k.a)(e))}}}))(L),M=Object(s.lazy)((function(){return Promise.all([n.e(32),n.e(36)]).then(n.bind(null,580))})),W=Object(s.lazy)((function(){return Promise.all([n.e(6),n.e(29),n.e(35)]).then(n.bind(null,575))}));var z=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props.driver;return Object(u.jsx)("div",{children:t?Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(j.a,{}),children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/:orderId/deliver",component:W}),Object(u.jsx)(d.a,{path:"/",component:M})]})})]}):Object(u.jsx)(q,{})})}}]),n}(s.Component);e.default=Object(l.b)((function(t){var e=t.setDriver;return Object(o.a)({},e)}))(z)}}]);
//# sourceMappingURL=Driver.ab8282b7.chunk.js.map