{"version":3,"sources":["api/misc.js","trace/fonts/g4l.svg","trace/header.js","trace/icons/boards.svg","trace/Main.js","trace/Journey.js","trace/icons/milkbox.svg","trace/Facts.js","trace/getDate.js","trace/Trace.js"],"names":["getReport","a","type","report_date","moment","format","date","url","API_URL","request","method","headers","result","Header","className","src","logo","alt","Main","data","setLoad","load","utc","bmc_receive","plant_receive","plant_dispatch","whs_receive","whs_dispatch","board","onLoad","Journey","useState","journey","setJourney","useEffect","startTime","endTime","duration","diff","hours","parseInt","asHours","minutes","asMinutes","container","useRef","lottie","loadAnimation","current","renderer","loop","autoplay","speed","animationData","require","ref","Facts","milkbox","onClick","window","open","pdf_url","ph","fat","snf","mbrt","GetDate","startDate","selected","dateFormat","Trace","location","Date","setStartDate","isA2","setIsA2","setData","loading","setLoading","document","title","search","reportDate","URLSearchParams","get","response","console","log","getData","Loading"],"mappings":"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","file":"static/js/16.1e9dd289.chunk.js","sourcesContent":["import {API_URL , request} from '../helpers/utils';\r\nimport moment from 'moment';\r\n\r\nexport async function getReport(type = 'a2', report_date = moment().format('YYYY-MM-DD')) {\r\n\r\n  let date = moment(report_date).format('YYYY-MM-DD');\r\n    \r\n  let url = `${API_URL}/misc/getReport?report_date=${date}&type=${type}`;\r\n  let result =  await request({\r\n\r\n    url: url,\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    }\r\n\r\n  });\r\n\r\n  return result ;\r\n} ","export default __webpack_public_path__ + \"static/media/g4l.a71066e7.svg\";","import \"./header.scss\";\r\nimport logo from \"./fonts/g4l.svg\";\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <img src={logo} alt=\"logo\" className=\"logo\" />\r\n\r\n      <h1 className=\"heading\">Trace your milk's journey.</h1>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/boards.dfad5378.svg\";","import React from 'react'\r\n\r\n\r\n\r\nimport \"./main.scss\";\r\nimport board from \"./icons/boards.svg\";\r\nimport moment from \"moment\";\r\n//{moment(data.plant_receive).format('DD MM YYYY')}\r\n//{moment(data.plant_receive).format('hh:mm A')}\r\n\r\nexport default function Main({data,setLoad,load}) {\r\n  \r\n  return (\r\n    <div className=\"hero\">\r\n      <div className = \"board\">\r\n        {data && load &&\r\n        <>\r\n        <div className = \"section1\">\r\n        \r\n        <div className = \"BMC\">\r\n          <h1 >Recieved at<br></br> BMC</h1>\r\n          <p>{moment.utc(data.bmc_receive).format(\"hh:mm A\")}</p>\r\n          \r\n        </div>\r\n        </div>\r\n        <div className = \"section2\">\r\n        <div className = \"plant-receive\">\r\n          <h1> Milk Pasteurized<br></br>at 85<span>&#176;</span>C</h1>\r\n          <p>{moment.utc(data.plant_receive).format('hh:mm A')}</p>\r\n        </div>\r\n        <div className = \"plant-dispatch\">\r\n      <h1>Packed in a 3-Layer<br></br>Tamper-Proof<br></br> Packaging</h1>\r\n        <p>{moment.utc(data.plant_dispatch).format('hh:mm A')}</p>\r\n\r\n</div>\r\n        </div>\r\n        <div className = \"section3\">\r\n        <div className = \"whs-receive\">\r\n        <h1>Arrived at <br></br> Warehouse</h1>\r\n        <p>{moment.utc(data.whs_receive).format('hh:mm A')}</p>\r\n      </div>\r\n      <div className = \"whs-dispatch\">\r\n        <h1>Dispatched for <br></br>Delivery</h1>\r\n        <p>{moment.utc(data.whs_dispatch).format('hh:mm A')}</p>\r\n      </div>\r\n      </div>\r\n     </>\r\n}   {data&& \r\n      <img src= {board} onLoad = {() => setLoad(true)} className = \"timeline\" alt = \"timeline\" />\r\n}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef , useState } from \"react\";\r\nimport lottie from \"lottie-web\";\r\nimport moment from \"moment\";\r\nimport \"./journey.scss\";\r\n\r\nexport default function Journey({data}) {\r\n  const [ journey ,setJourney ] =useState(\"\");\r\nuseEffect(() => {\r\n\r\n    if(!data)\r\n    return\r\n    let startTime = moment(data.bmc_receive);\r\n  let endTime = moment(data.whs_dispatch);\r\n  let duration = moment.duration(endTime.diff(startTime));\r\n\r\n  let hours = parseInt(duration.asHours());\r\n  let minutes = parseInt(duration.asMinutes()) % 60;\r\n  setJourney(hours + \" hours \" +  minutes + \" minutes \");\r\n\r\n} ,[data])\r\n  const container = useRef(null);\r\n\r\n  useEffect(() => {\r\n    lottie.loadAnimation({\r\n      container: container.current,\r\n      renderer: \"svg\",\r\n      loop: true,\r\n      autoplay: true,\r\n      speed: \"2.5x\",\r\n      animationData: require(\"./icons/truck.json\"),\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"journey\">\r\n      <div className=\"truck\" ref={container}></div>\r\n      <p className=\"time\">Total  journey  time : {journey}</p>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/milkbox.0109d595.svg\";","import  React , { useEffect } from \"react\";\r\nimport \"./facts.scss\";\r\n\r\nimport milkbox from \"./icons/milkbox.svg\";\r\n\r\nexport default function Facts( {data} ) {\r\n\r\n   \r\n   \r\n  return (\r\n    <div className=\"facts\">\r\n      <img src={milkbox} className=\"Milk\" alt=\"milkboxs\" />\r\n    {data &&<button className=\"download-btn\" onClick = {() => window.open(data.pdf_url)}> Download Full Report</button>}\r\n    { data&& \r\n      <div className=\"cards\">\r\n        <div className=\"section1\">\r\n          <div className=\"f1\">\r\n    \r\n            <h1>pH</h1>\r\n            \r\n            <p>{data.ph}</p>\r\n          </div>\r\n          <div className=\"f2\">\r\n            <h1>Fat </h1>\r\n            <p>{data.fat} %</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"section2\">\r\n          <div className=\"f3\">\r\n            <h1>SNF</h1>\r\n            <p>{data.snf} %</p>\r\n          </div>\r\n          <div className=\"f4\">\r\n            <h1>MBRT</h1>\r\n            <p>{data.mbrt} mins</p>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport DatePicker , {subDays} from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./getdate.scss\";\r\n\r\nexport default function GetDate( {startDate}) {\r\n  \r\n  return (\r\n    <div className=\"datepicker\">\r\n      <DatePicker\r\n        className=\"box\"\r\n        selected={startDate}\r\n        dateFormat=\"MMMM d, yyyy\"\r\n      \r\n       \r\n      />\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React , {useState , useEffect} from \"react\";\r\nimport \"./trace.scss\";\r\nimport Header from \"./header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Journey from \"./Journey.js\";\r\nimport Facts from \"./Facts.js\";\r\nimport GetDate from \"./getDate.js\";\r\nimport {getReport} from \"../api/misc.js\";\r\nimport Loading from \"../components/Loading.js\";\r\n\r\nexport default function Trace({ location }) {\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [isA2, setIsA2] = useState(true);\r\n  const [data ,setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [load ,setLoad] = useState(false);\r\n\r\n  \r\n  useEffect(() => {\r\n    document.title = \"Go4Life - Trace Your Milk\"\r\n    let {search} = location;\r\n    search = new URLSearchParams(search);\r\n    const reportDate = search.get('report_date');\r\n    if(!reportDate)\r\n    return\r\n    const date = new Date(reportDate);\r\n    \r\n    const type = search.get('milk_type');  \r\n    setStartDate(date);\r\n    setIsA2(type === \"a2\" ? true : false);\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n  \r\n    async function getData() {\r\n      try {\r\n        setLoading(true);\r\n        const response = await getReport(\"a2\", startDate);\r\n        setData(response.data);\r\n        setLoading(false);\r\n      }\r\n      catch (err) {\r\n        console.log(err);\r\n        setData(null);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    getData();\r\n    \r\n  }, [startDate, isA2]);\r\n\r\n  return (\r\n    <div className=\"trace\">\r\n      <Header />\r\n      <GetDate startDate = {startDate} setStartDate ={setStartDate} isA2 = {isA2} setIsA2 = {setIsA2}/>\r\n      {loading && <Loading />}\r\n      {!data && !loading && !load && <p className = \"not-found\">Record Not Found</p>}\r\n      <Main data= {data} load = {load} setLoad = {setLoad} />\r\n      {data && load &&\r\n        <>\r\n          \r\n          <Journey data = {data} />\r\n          <Facts data= {data}  />\r\n        </>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}