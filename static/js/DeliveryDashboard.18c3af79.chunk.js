(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[14],{170:function(e,t,r){"use strict";var a=r(1),n=r(31),c=r(3),i=r(0),o=(r(7),r(9)),d=r(175),s=r(171),l=r(16),u=r(552),b=i.forwardRef((function(e,t){var r=e.autoFocus,l=e.checked,b=e.checkedIcon,j=e.classes,h=e.className,p=e.defaultChecked,v=e.disabled,x=e.icon,m=e.id,f=e.inputProps,O=e.inputRef,g=e.name,y=e.onBlur,D=e.onChange,_=e.onFocus,w=e.readOnly,k=e.required,S=e.tabIndex,C=e.type,B=e.value,Y=Object(c.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),M=Object(d.a)({controlled:l,default:Boolean(p),name:"SwitchBase",state:"checked"}),N=Object(n.a)(M,2),I=N[0],E=N[1],P=Object(s.a)(),R=v;P&&"undefined"===typeof R&&(R=P.disabled);var W="checkbox"===C||"radio"===C;return i.createElement(u.a,Object(a.a)({component:"span",className:Object(o.a)(j.root,h,I&&j.checked,R&&j.disabled),disabled:R,tabIndex:null,role:void 0,onFocus:function(e){_&&_(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){y&&y(e),P&&P.onBlur&&P.onBlur(e)},ref:t},Y),i.createElement("input",Object(a.a)({autoFocus:r,checked:l,defaultChecked:p,className:j.input,disabled:R,id:W&&m,name:g,onChange:function(e){var t=e.target.checked;E(t),D&&D(e,t)},readOnly:w,ref:O,required:k,tabIndex:S,type:C,value:B},f)),I?b:x)}));t.a=Object(l.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(b)},176:function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"h",(function(){return b})),r.d(t,"g",(function(){return j})),r.d(t,"f",(function(){return h})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return v}));var a=r(32),n=r(172),c=r.n(n),i=r(28),o=r.n(i);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getAllOrders?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.d)(r)}function s(){var e="".concat(a.a,"/v2/order/getDeliveryBoysData");return Object(a.d)(e)}function l(e){var t="".concat(a.a,"/v2/order/assignDrivers");return Object(a.f)(t,e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getOrderedProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.d)(r)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getOrderProducts?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.d)(r)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getOrderBoxData?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.d)(r)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()().format("YYYY-MM-DD"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c()().format("YYYY-MM-DD"),r="".concat(a.a,"/v2/order/getDeliveryReport?fromDate=").concat(e,"&endDate=").concat(t);return Object(a.d)(r)}function p(e){var t="".concat(a.a,"/delivery/addDeliveryPerson");return o.a.put(t,e,{headers:{"Content-Type":"application/json"}})}function v(){var e="".concat(a.a,"/farmers/getAllFarmers");return Object(a.d)(e)}},184:function(e,t,r){"use strict";var a=r(149),n=r(150);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),i=(0,a(r(151)).default)(c.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.default=i},189:function(e,t,r){"use strict";var a=r(149),n=r(150);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),i=(0,a(r(151)).default)(c.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");t.default=i},190:function(e,t,r){"use strict";var a=r(149),n=r(150);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),i=(0,a(r(151)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=i},195:function(e,t,r){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv",r=document.createElement("a"),a=[];e.forEach((function(e){e=e.join(","),a.push(e)}));var n=a.join("\n");null!=n&&(n.match(/^data:text\/csv/i)||(n="data:text/csv;charset=utf-8,".concat(n)),r.setAttribute("href",encodeURI(n)),r.setAttribute("download",t),r.click())}},229:function(e,t,r){"use strict";var a=r(1),n=r(3),c=r(0),i=(r(7),r(9)),o=r(171),d=r(16),s=r(115),l=r(17),u=c.forwardRef((function(e,t){e.checked;var r=e.classes,d=e.className,u=e.control,b=e.disabled,j=(e.inputRef,e.label),h=e.labelPlacement,p=void 0===h?"end":h,v=(e.name,e.onChange,e.value,Object(n.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),x=Object(o.a)(),m=b;"undefined"===typeof m&&"undefined"!==typeof u.props.disabled&&(m=u.props.disabled),"undefined"===typeof m&&x&&(m=x.disabled);var f={disabled:m};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof u.props[t]&&"undefined"!==typeof e[t]&&(f[t]=e[t])})),c.createElement("label",Object(a.a)({className:Object(i.a)(r.root,d,"end"!==p&&r["labelPlacement".concat(Object(l.a)(p))],m&&r.disabled),ref:t},v),c.cloneElement(u,f),c.createElement(s.a,{component:"span",className:Object(i.a)(r.label,m&&r.disabled)},j))}));t.a=Object(d.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(u)},230:function(e,t,r){"use strict";var a=r(3),n=r(1),c=r(0),i=(r(7),r(9)),o=r(16),d=[0,1,2,3,4,5,6,7,8,9,10],s=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=parseFloat(e);return"".concat(r/t).concat(String(e).replace(String(r),"")||"px")}var u=c.forwardRef((function(e,t){var r=e.alignContent,o=void 0===r?"stretch":r,d=e.alignItems,s=void 0===d?"stretch":d,l=e.classes,u=e.className,b=e.component,j=void 0===b?"div":b,h=e.container,p=void 0!==h&&h,v=e.direction,x=void 0===v?"row":v,m=e.item,f=void 0!==m&&m,O=e.justify,g=void 0===O?"flex-start":O,y=e.lg,D=void 0!==y&&y,_=e.md,w=void 0!==_&&_,k=e.sm,S=void 0!==k&&k,C=e.spacing,B=void 0===C?0:C,Y=e.wrap,M=void 0===Y?"wrap":Y,N=e.xl,I=void 0!==N&&N,E=e.xs,P=void 0!==E&&E,R=e.zeroMinWidth,W=void 0!==R&&R,A=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),T=Object(i.a)(l.root,u,p&&[l.container,0!==B&&l["spacing-xs-".concat(String(B))]],f&&l.item,W&&l.zeroMinWidth,"row"!==x&&l["direction-xs-".concat(String(x))],"wrap"!==M&&l["wrap-xs-".concat(String(M))],"stretch"!==s&&l["align-items-xs-".concat(String(s))],"stretch"!==o&&l["align-content-xs-".concat(String(o))],"flex-start"!==g&&l["justify-xs-".concat(String(g))],!1!==P&&l["grid-xs-".concat(String(P))],!1!==S&&l["grid-sm-".concat(String(S))],!1!==w&&l["grid-md-".concat(String(w))],!1!==D&&l["grid-lg-".concat(String(D))],!1!==I&&l["grid-xl-".concat(String(I))]);return c.createElement(j,Object(n.a)({className:T,ref:t},A))})),b=Object(o.a)((function(e){return Object(n.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var r={};return d.forEach((function(a){var n=e.spacing(a);0!==n&&(r["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(l(n,2)),width:"calc(100% + ".concat(l(n),")"),"& > $item":{padding:l(n,2)}})})),r}(e,"xs"),e.breakpoints.keys.reduce((function(t,r){return function(e,t,r){var a={};s.forEach((function(e){var t="grid-".concat(r,"-").concat(e);if(!0!==e)if("auto"!==e){var n="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:n,flexGrow:0,maxWidth:n}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===r?Object(n.a)(e,a):e[t.breakpoints.up(r)]=a}(t,e,r),t}),{}))}),{name:"MuiGrid"})(u);t.a=b},247:function(e,t,r){"use strict";var a=r(1),n=r(3),c=r(0),i=(r(7),r(9)),o=r(16),d=r(34),s=r(17),l=r(170),u=c.forwardRef((function(e,t){var r=e.classes,o=e.className,d=e.color,u=void 0===d?"secondary":d,b=e.edge,j=void 0!==b&&b,h=e.size,p=void 0===h?"medium":h,v=Object(n.a)(e,["classes","className","color","edge","size"]),x=c.createElement("span",{className:r.thumb});return c.createElement("span",{className:Object(i.a)(r.root,o,{start:r.edgeStart,end:r.edgeEnd}[j],"small"===p&&r["size".concat(Object(s.a)(p))])},c.createElement(l.a,Object(a.a)({type:"checkbox",icon:x,checkedIcon:x,classes:{root:Object(i.a)(r.switchBase,r["color".concat(Object(s.a)(u))]),input:r.input,checked:r.checked,disabled:r.disabled},ref:t},v)),c.createElement("span",{className:r.track}))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(d.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(d.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(u)},248:function(e,t,r){"use strict";var a=r(3),n=r(24),c=r(1),i=r(0),o=(r(7),r(9)),d=r(16),s=r(386),l=i.forwardRef((function(e,t){var r,n=e.classes,d=e.className,l=e.component,u=void 0===l?"li":l,b=e.disableGutters,j=void 0!==b&&b,h=e.ListItemClasses,p=e.role,v=void 0===p?"menuitem":p,x=e.selected,m=e.tabIndex,f=Object(a.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(r=void 0!==m?m:-1),i.createElement(s.a,Object(c.a)({button:!0,role:v,tabIndex:r,component:u,selected:x,disableGutters:j,classes:Object(c.a)({dense:n.dense},h),className:Object(o.a)(n.root,d,x&&n.selected,!j&&n.gutters),ref:t},f))}));t.a=Object(d.a)((function(e){return{root:Object(c.a)({},e.typography.body1,Object(n.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(c.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(l)},249:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a=[1,2,3,23],n=[4,811,877]},290:function(e,t,r){"use strict";var a=r(149),n=r(150);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),i=(0,a(r(151)).default)(c.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.default=i},340:function(e,t,r){"use strict";var a=r(1),n=r(3),c=r(24),i=r(0),o=(r(7),r(9)),d=r(16),s=r(17),l=r(590),u=r(316),b=r(317),j=r(20),h=r(549),p={enter:j.b.enteringScreen,exit:j.b.leavingScreen},v=i.forwardRef((function(e,t){var r=e.BackdropProps,c=e.children,d=e.classes,j=e.className,v=e.disableBackdropClick,x=void 0!==v&&v,m=e.disableEscapeKeyDown,f=void 0!==m&&m,O=e.fullScreen,g=void 0!==O&&O,y=e.fullWidth,D=void 0!==y&&y,_=e.maxWidth,w=void 0===_?"sm":_,k=e.onBackdropClick,S=e.onClose,C=e.onEnter,B=e.onEntered,Y=e.onEntering,M=e.onEscapeKeyDown,N=e.onExit,I=e.onExited,E=e.onExiting,P=e.open,R=e.PaperComponent,W=void 0===R?h.a:R,A=e.PaperProps,T=void 0===A?{}:A,$=e.scroll,z=void 0===$?"paper":$,H=e.TransitionComponent,L=void 0===H?b.a:H,F=e.transitionDuration,G=void 0===F?p:F,U=e.TransitionProps,K=e["aria-describedby"],Q=e["aria-labelledby"],q=Object(n.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),X=i.useRef();return i.createElement(l.a,Object(a.a)({className:Object(o.a)(d.root,j),BackdropComponent:u.a,BackdropProps:Object(a.a)({transitionDuration:G},r),closeAfterTransition:!0,disableBackdropClick:x,disableEscapeKeyDown:f,onEscapeKeyDown:M,onClose:S,open:P,ref:t},q),i.createElement(L,Object(a.a)({appear:!0,in:P,timeout:G,onEnter:C,onEntering:Y,onEntered:B,onExit:N,onExiting:E,onExited:I,role:"none presentation"},U),i.createElement("div",{className:Object(o.a)(d.container,d["scroll".concat(Object(s.a)(z))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===X.current&&(X.current=null,k&&k(e),!x&&S&&S(e,"backdropClick"))},onMouseDown:function(e){X.current=e.target}},i.createElement(W,Object(a.a)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":Q},T,{className:Object(o.a)(d.paper,d["paperScroll".concat(Object(s.a)(z))],d["paperWidth".concat(Object(s.a)(String(w)))],T.className,g&&d.paperFullScreen,D&&d.paperFullWidth)}),c))))}));t.a=Object(d.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(v)},475:function(e,t,r){},476:function(e,t,r){},585:function(e,t,r){"use strict";r.r(t);var a=r(57),n=r(165),c=r.n(n),i=r(166),o=r(153),d=r(154),s=r(155),l=r(156),u=r(5),b=r(2),j=r(0),h=r.n(j),p=r(53),v=r(579),x=r(605),m=r(248),f=r(562),O=r(563),g=r(602),y=r(195),D=r(583),_=r(229),w=r(247),k=r(172),S=r.n(k),C=r(189),B=r.n(C),Y=r(290),M=r.n(Y),N=r(54),I=r(194),E=r.n(I),P=r(184),R=r.n(P),W=Object(b.jsx)(R.a,{});function A(e){var t=e.data,r=e.onRowSelect,a=e.deliveryBoys,n=e.orderBoxData,c=[{name:"Order Id",selector:"orderId",sortable:!0,width:"100px"},{name:"Order Date",selector:"orderDate",sortable:!0,width:"120px",cell:function(e){var t=e.orderDate;return S()(t).format("DD-MM-YYYY")}},{name:"Crate Id",selector:"orderId",sortable:!0,width:"100px",cell:function(e){var t=e.orderId,r=n.get(parseInt(t));return null===r||void 0===r?void 0:r.crateId}},{name:"Name",selector:"name",sortable:!0,width:"180px"},{name:"Phone",selector:"phone",sortable:!0,width:"120px"},{name:"Hub",sortable:!0,selector:"region",width:"100px"},{name:"Area",sortable:!0,selector:"area",width:"140px"},{name:"Locality",sortable:!0,selector:"subarea",width:"200px"},{name:"Delivered on",selector:"delivery_date",sortable:!0,width:"180px",cell:function(e){var t=e.delivery_date;return t?"".concat(S()(t).utc().format("DD-MM-YYYY")," ").concat(S()(t).utc().format("HH:mm")):Object(b.jsx)("span",{style:{color:"red"},children:"Not delivered"})}},{name:"Driver",selector:"driverId",sortable:!0,cell:function(e,t){var r=e.driverId;if(r){var n=a.get(r);return n?n.name:""}return""}}];return Object(b.jsx)("div",{children:Object(b.jsx)(E.a,{striped:!0,noHeader:!0,dense:!0,sortIcon:W,data:t,columns:c,highlightOnHover:!0,pointerOnHover:!0,pagination:!0,paginationPerPage:35,paginationRowsPerPageOptions:[10,35,100,t.length],onRowClicked:function(e,t){r(e)}})})}var T=h.a.memo(A),$=r(552),z=r(115),H=r(190),L=r.n(H),F=r(340),G=r(139),U=r(550),K=r(548),Q=r(557),q=r(551),X=r(230);var V=h.a.forwardRef((function(e,t){return Object(b.jsx)(G.a,Object(u.a)({direction:"up",ref:t},e))})),J=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).Review=function(){var e=a.props,t=e.customer,r=e.deliveryBoys;console.log(t);var n=t.driver_id,c=t.delivery_date,i=t.delivery_type,o=t.proof_img,d=t.complete_delivery,s=t.small_boxes,l=t.large_boxes,u=t.gable_tops,j=t.milk_packets,h=r.get(n);return console.log(S()(c).tz("UTC"),S()(c).utc().format("hh:mm")),Object(b.jsx)("div",{className:"pv-10",children:t.driver_id?Object(b.jsx)(Q.a,{variant:"outlined",children:Object(b.jsxs)(X.a,{container:!0,children:[Object(b.jsxs)(X.a,{item:!0,md:12,lg:6,children:[Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Delivered By"}),Object(b.jsxs)(z.a,{variant:"h6",children:[null===h||void 0===h?void 0:h.name," on ",S()(c).utc().format("DD-MM-YYYY")," ",S()(c).utc().format("HH:mm")]})]}),Object(b.jsx)(q.a,{}),Object(b.jsx)(q.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"}),Object(b.jsx)(z.a,{variant:"h6",children:function(e){switch(e){case"yes":return"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e";case"no":return"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948";default:return Object(b.jsx)("span",{style:{color:"red"},children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"})}}(d)})]}),Object(b.jsx)(q.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"}),Object(b.jsx)(z.a,{variant:"h6",children:function(e){switch(e){case"in_hand":return"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940";case"doorstep":return"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e";case"society_guard":return"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"tower_guard":return"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"order_cancelled":return"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932";default:return Object(b.jsx)("span",{style:{color:"red"},children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"})}}(i)})]}),Object(b.jsx)(q.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Small Boxes - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(z.a,{variant:"h6",children:s})]}),Object(b.jsx)(q.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Large Boxes - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(z.a,{variant:"h6",children:l})]}),Object(b.jsx)(q.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Gable Top - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(z.a,{variant:"h6",children:u})]}),Object(b.jsx)(q.a,{}),Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Milk Packets - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u092a\u0948\u0915\u0947\u091f \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(b.jsx)(z.a,{variant:"h6",children:j})]})]}),Object(b.jsx)(X.a,{item:!0,md:12,lg:6,children:Object(b.jsxs)("div",{className:"p-10",children:[Object(b.jsx)(z.a,{variant:"body1",children:"Delivery Photo"}),o?Object(b.jsx)("div",{children:Object(b.jsx)("img",{alt:"order",src:o,height:500})}):Object(b.jsx)(z.a,{variant:"h6",children:Object(b.jsx)("span",{style:{color:"red"},children:"No Picture taken"})})]})})]})}):Object(b.jsx)(z.a,{variant:"h3",style:{color:"red"},children:"Not Delivered yet"})})},a.state=Object(u.a)({},e),a}return Object(d.a)(r,[{key:"render",value:function(){var e=this,t=this.props.customer;return Object(b.jsx)("div",{children:t&&Object(b.jsxs)(F.a,{fullScreen:!0,open:!0,TransitionComponent:V,onClose:function(){e.props.setSelectedCustomer(!1)},children:[Object(b.jsx)(K.a,{position:"fixed",color:"default",children:Object(b.jsxs)(U.a,{children:[Object(b.jsx)($.a,{edge:"start",color:"inherit",onClick:function(){e.props.setSelectedCustomer(!1)},"aria-label":"close",children:Object(b.jsx)(L.a,{})}),Object(b.jsx)(z.a,{variant:"h6",children:t.name})]})}),Object(b.jsx)("div",{style:{margin:"60px 10px 20px 10px"},children:Object(b.jsx)(this.Review,{})})]})})}}]),r}(h.a.Component),Z=Object(p.b)((function(e){var t=e.setAdmin;return Object(u.a)({},t)}))(J),ee=r(11),te=r.n(ee),re=r(27),ae=r(249),ne=(r(475),function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).groupData=function(){for(var t=e.props,r=t.deliveryBoys,a=t.orderBoxData,n=t.orderProducts,c=t.orders,i=new Map,o=0;o<c.length;o++){var d,s=c[o],l=s.driverId,b=null===(d=r.get(l))||void 0===d?void 0:d.name,j=s.orderId,h=a.get(parseInt(j)),p=n.get(parseInt(j));s.crateId=null===h||void 0===h?void 0:h.crateId,s.driverName=b;var v=0,x=0;p?p.forEach((function(e){var t=e.productId,r=e.qty;ae.b.includes(t)?v+=r:ae.a.includes(t)&&(x+=r)})):alert("Something wrong with data uploaded for order",j);var m=h||{},f=m.largeBox,O=m.mediumBox,g=m.packet;s=Object(u.a)(Object(u.a)({},s),{},{pouchMilkQty:v,gableTopQty:x,mediumBox:O,largeBox:f,packet:g}),i.get(l)?i.get(l).push(s):i.set(l,[s])}return i},e}return Object(d.a)(r,[{key:"render",value:function(){var e=this.props.deliveryBoys,t=Array.from(this.groupData().entries());return Object(b.jsx)("div",{id:"delivery-sheet",children:t.map((function(t,r){var a=Object(re.a)(t,2),n=a[0],c=a[1],i=e.get(n);c=c.sort((function(e,t){return e.location_id-t.location_id}));var o=0,d=0,s=0,l=0,u=0;return c.forEach((function(e){var t=e.pouchMilkQty,r=e.gableTopQty,a=e.mediumBox,n=e.largeBox,c=e.packet;o+=t||0,d+=r||0,s+=a||0,l+=n||0,u+=c||0})),Object(b.jsxs)("div",{style:{pageBreakBefore:"always"},children:[Object(b.jsxs)("div",{className:"flex space-bw",children:[Object(b.jsxs)("div",{style:{flex:"1"},children:[Object(b.jsx)("div",{style:{fontSize:30},children:null===i||void 0===i?void 0:i.name}),Object(b.jsxs)("div",{style:{fontSize:24},children:["Total Orders: ",c.length]}),Object(b.jsx)("div",{style:{fontSize:17},children:Object(b.jsx)("table",{style:{width:200},children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pouch Milk"}),Object(b.jsx)("td",{children:o})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Gable Top Milk"}),Object(b.jsx)("td",{children:d})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Medium Box"}),Object(b.jsx)("td",{children:s})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Large Boxes"}),Object(b.jsx)("td",{children:l})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Packets"}),Object(b.jsx)("td",{children:u})]})]})})})]}),Object(b.jsx)("table",{className:"signature-table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Inventory Sign"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Dairy Sign"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Guard Sign"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Crates Taken"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Crates Returned"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Entry Time"}),Object(b.jsx)("td",{children:"__________________"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Exit Time"}),Object(b.jsx)("td",{children:"__________________"})]})]})}),Object(b.jsx)("div",{})]}),Object(b.jsx)("div",{children:Object(b.jsx)("table",{className:"delivery-order-table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sr No."}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Phone"}),Object(b.jsx)("th",{children:"Location"}),Object(b.jsx)("th",{children:"Address"}),Object(b.jsx)("th",{children:"Product"}),Object(b.jsx)("th",{children:"Box Code"}),Object(b.jsx)("th",{children:"Check Box"})]}),c.map((function(e,t){var r=e.region,a=e.area,n=e.subarea,c=e.name,i=e.phone,o=e.address,d=e.orderId,s=e.pouchMilkQty,l=e.gableTopQty,u=e.mediumBox,j=e.largeBox,h=e.packet,p=e.crateId;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t+1}),Object(b.jsx)("td",{children:c}),Object(b.jsx)("td",{children:i}),Object(b.jsxs)("td",{className:"location",children:[n,", ",a,", ",r]}),Object(b.jsx)("td",{className:"home-address",children:o}),Object(b.jsx)("td",{children:Object(b.jsx)("table",{className:"delivery-sheet-product-type",children:Object(b.jsxs)("tbody",{children:[s>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Milk Pouch"}),Object(b.jsx)("td",{children:s})]}),l>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Gable Top"}),Object(b.jsx)("td",{children:l})]}),u>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Medium Box"}),Object(b.jsx)("td",{children:u})]}),j>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Large Boxes"}),Object(b.jsx)("td",{children:j})]}),h>0&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Packets"}),Object(b.jsx)("td",{children:h})]})]})})}),Object(b.jsx)("td",{children:p}),Object(b.jsx)("td",{})]},d)}))]})})})]},r.toString())}))})}}]),r}(j.Component)),ce=r(193),ie=r(176),oe=(r(476),r(1)),de=r(3),se=(r(7),r(9)),le=r(16),ue=j.forwardRef((function(e,t){var r=e.classes,a=e.className,n=e.dividers,c=void 0!==n&&n,i=Object(de.a)(e,["classes","className","dividers"]);return j.createElement("div",Object(oe.a)({className:Object(se.a)(r.root,a,c&&r.dividers),ref:t},i))})),be=Object(le.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(ue);var je=[{name:"Driver",sortable:!0,selector:"driverName"},{name:"Total",sortable:!0,selector:"total"},{name:"Delivered",sortable:!0,selector:"delivered"},{name:"Remaining",sortable:!0,selector:"remaining"}];var he=Object(p.b)((function(e){var t=e.setAdmin;return Object(u.a)({},t)}))((function(e){var t=e.orders,r=void 0===t?[]:t,a=e.deliveryBoys,n=void 0===a?new Map:a,c=e.open,i=void 0===c||c,o=e.toggleDriverSummary,d=e.refreshData;Object(j.useEffect)((function(){d&&setInterval((function(){}),15e3)}),[]);for(var s=new Map,l=0,u=0;u<r.length;u++){var h=r[u],p=h.driverId,v=h.delivery_date;if(v&&(l+=1),s.get(p)){var x=s.get(p);x.total+=1,v&&(x.delivered+=1),s.set(p,x)}else{var m;s.set(p,{total:1,delivered:Number(Boolean(v)),driverName:null===(m=n.get(p))||void 0===m?void 0:m.name})}}var f=(s=Array.from(s.entries())).map((function(e,t){var r=Object(re.a)(e,2),a=(r[0],r[1]),n=a.driverName,c=a.total,i=a.delivered;return{driverName:n,total:c,delivered:i,remaining:c-i}}));return Object(b.jsx)("div",{children:Object(b.jsxs)(F.a,{fullScreen:!0,open:i,onClose:o,children:[Object(b.jsxs)(U.a,{children:[Object(b.jsx)($.a,{edge:"start",color:"inherit",onClick:o,"aria-label":"close",children:Object(b.jsx)(L.a,{})}),Object(b.jsx)(z.a,{variant:"h6",children:"Delivery Summary"})]}),Object(b.jsx)(q.a,{}),Object(b.jsx)(be,{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex",style:{justifyContent:"space-around"},children:[Object(b.jsxs)("div",{className:"p-10",children:["Total Orders: ",Object(b.jsx)(z.a,{variant:"h4",children:r.length})]}),Object(b.jsxs)("div",{className:"p-10",children:["Total Delivered: ",Object(b.jsx)(z.a,{variant:"h4",children:l})]}),Object(b.jsxs)("div",{className:"p-10",children:["Remaining Orders: ",Object(b.jsx)(z.a,{variant:"h4",children:r.length-l})]})]}),Object(b.jsx)(E.a,{data:f,noHeader:!0,dense:!0,columns:je})]})})]})})}));var pe=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).fetchData=Object(i.a)(c.a.mark((function e(){var t,r,a,i,o,d,s,l,u,b,j,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,r=t.startDate,a=t.endDate,r=S()(r).format("YYYY-MM-DD"),a=S()(a).format("YYYY-MM-DD"),i=n.props,o=i.onUpdateDeliveryReport,d=i.onUpdateAdminData,e.next=7,Object(ie.e)().then((function(e){return e.data}));case 7:return s=e.sent,l=new Map,s.forEach((function(e){l.set(e.id,e)})),d({deliveryBoys:l}),e.next=13,Object(ie.h)(r,a).then((function(e){return e.data}));case 13:return u=e.sent,n.props.onAddOrderProducts(u),e.next=17,Object(ie.i)(r,a).then((function(e){return e.data}));case 17:return b=e.sent,n.props.onAddProducts(b),e.next=21,Object(ie.g)(r,a).then((function(e){return e.data}));case 21:return j=e.sent,n.props.onAddOrderBox(j),e.next=25,Object(ie.f)(r,a).then((function(e){return e.data}));case 25:h=e.sent,o(h),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0),n.setState({error:e.t0.message});case 33:case"end":return e.stop()}}),e,null,[[0,29]])}))),n.update=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,n.fetchData();case 3:n.setState({loading:!1,lastUpdated:new Date});case 4:case"end":return e.stop()}}),e)}))),n.exportData=function(){for(var e=n.props,t=e.deliveryBoys,r=e.orderProducts,a=e.orderBoxData,c=[["Order Id","Customer ID","Name","Phone","Region","Area","Locality","House","Driver","Delivered","Delivery Type","Complete Delivery","Delivery Photo","Small Box","Large Box","Packets","Gable Top","Milk Packets"]],i=n.filterData(),o=0;o<i.length;o++){var d=i[o],s=d.orderId,l=d.driverId,u=d.customerID,b=d.name,j=d.phone,h=d.region,p=d.area,v=d.subarea,x=d.address,m=d.delivery_type,f=d.proof_img,O=d.delivery_date,g=d.complete_delivery,D="";l&&(D=t.get(l).name);var _=a.get(parseInt(s)),w=r.get(parseInt(s)),k=0,S=0;w?w.forEach((function(e){var t=e.productId,r=e.qty;ae.b.includes(t)?k+=r:ae.a.includes(t)&&(S+=r)})):alert("Something wrong with data uploaded for order",s);var C=_||{},B=C.largeBox,Y=C.mediumBox,M=C.packet;c.push([s,u,b,j,'"'.concat(h,'"'),'"'.concat(p,'"'),'"'.concat(v,'"'),'"'.concat(x.replace(/[^0-9a-zA-Z:/ ]/g,""),'"'),'"'.concat(D,'"'),'"'.concat(O?"Yes":"No",'"'),'"'.concat(m||"",'"'),'"'.concat(g||"",'"'),'"'.concat(f||"",'"'),Y,B,M,S,k])}Object(y.a)(c,"Delivery Report - ".concat((new Date).toDateString(),".csv"))},n.onDateChange=function(e){var t=S()(e.target.value).format("YYYY-MM-DD");n.setState(Object(a.a)({},e.target.name,t),(function(){return n.update()}))},n.onOrderSelect=function(e){n.setState({selectedOrder:e})},n.onPrintDeliverySheets=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.print();case 1:case"end":return e.stop()}}),e)}))),n.toggleDriverSummary=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState((function(e){return{driverSummaryOpen:!e.driverSummaryOpen}}));case 1:case"end":return e.stop()}}),e)}))),n.state={loading:!0,phone:"",startDate:S()().format("YYYY-MM-DD"),endDate:S()().format("YYYY-MM-DD"),selectedArea:[],selectedSubarea:[],selectedHub:[],selectedDriver:"all",showWithoutDairy:!1,hiddenAddress:!1,selectedRow:[]},n}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,r,a,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update();case 2:t=this.props,r=t.deliveryBoys,a=t.orders,n=t.orderBoxData,i=t.orderProducts,te.a.render(Object(b.jsx)(ne,{deliveryBoys:r,orders:a,orderBoxData:n,orderProducts:i}),document.getElementById("printable"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterData",value:function(){var e=this.state,t=e.selectedSubarea,r=e.selectedArea,a=e.selectedHub,n=e.selectedDriver,c=e.phone,i=e.onlyDelivered,o=this.props.orders,d=[];return o&&(d=o.filter((function(e){if(a.length&&e.region!==a)return!1;if(r.length&&!r.includes(e.area))return!1;if(t.length&&!t.includes(e.subarea))return!1;if("all"!==n)if("none"===n){if(null!==e.driverId)return!1}else if(e.driverId!==n)return!1;return i?!!e.delivery_date:!c||(-1!==e.phone.indexOf(c)||(-1!==e.name.toLowerCase().indexOf(c.toLowerCase())||-1!==e.orderId.toString().indexOf(c.toLowerCase())))}))),d}},{key:"render",value:function(){var e=this,t=this.state,r=t.selectedArea,n=t.selectedHub,c=t.selectedDriver,i=t.phone,o=t.onlyDelivered,d=t.startDate,s=t.endDate,l=t.selectedOrder,j=t.loading,h=void 0===j||j,p=t.lastUpdated,y=t.driverSummaryOpen,k=void 0!==y&&y,S=this.props,C=S.locations,Y=S.hubs,I=S.deliveryBoys,E=S.orderBoxData,P=I?Array.from(I.values()):[];P=P.sort((function(e,t){return e.name.localeCompare(t.name)}));var R=[],W=[];C&&C.forEach((function(e,t){e.forEach((function(e,a){t!==n&&0!==n.length||R.push(a),(r.includes(a)||0===r.length)&&(W=W.concat(e))}))})),R=R.sort((function(e,t){return e.localeCompare(t)}));var A=this.filterData();return Object(b.jsxs)("div",{style:{minWidth:1e3},children:[Object(b.jsxs)("div",{className:"flex middle space-bw",style:{padding:10},children:[Object(b.jsxs)("div",{className:"flex middle",children:[Object(b.jsx)("div",{style:{marginRight:20,width:220},children:Object(b.jsx)(g.a,{type:"date",value:d,fullWidth:!0,label:"Start Date",name:"startDate",onChange:this.onDateChange})}),Object(b.jsx)("div",{style:{marginRight:20,width:220},children:Object(b.jsx)(g.a,{type:"date",value:s,fullWidth:!0,label:"End Date",name:"endDate",onChange:this.onDateChange})})]}),Object(b.jsxs)("div",{className:"flex middle",children:[Object(b.jsx)("div",{children:Object(b.jsx)($.a,{onClick:this.update,children:Object(b.jsx)(M.a,{})})}),Object(b.jsx)("div",{children:p&&Object(b.jsxs)("div",{children:["Last Updated: ",Object(b.jsx)("br",{}),p.toTimeString().substr(0,5)]})}),Object(b.jsx)("div",{className:"p-4",children:Object(b.jsx)(O.a,{startIcon:Object(b.jsx)(B.a,{}),color:"secondary",variant:"outlined",disabled:h,onClick:this.exportData,children:"Download Excel"})}),Object(b.jsx)("div",{className:"p-4",children:Object(b.jsx)(O.a,{startIcon:Object(b.jsx)(B.a,{}),color:"secondary",variant:"outlined",disabled:h,onClick:this.onPrintDeliverySheets,children:"Print Delivery Sheets"})}),Object(b.jsx)("div",{children:Object(b.jsx)(O.a,{color:"primary",variant:"outlined",disabled:h,onClick:this.toggleDriverSummary,children:"Summary"})})]})]}),Object(b.jsx)(he,{loading:h,open:k,data:A,refreshData:this.fetchData,deliveryBoys:I,toggleDriverSummary:this.toggleDriverSummary}),h?Object(b.jsx)(N.a,{}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(b.jsx)("div",{style:{marginRight:20,width:220},children:Object(b.jsx)(g.a,{value:i,fullWidth:!0,label:"Phone, Name, Crate, Order Id",onChange:function(t){return e.setState({phone:t.target.value})}})}),Object(b.jsx)("div",{style:{marginRight:20,width:120},children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(x.a,{id:"hub-filter",children:"Hub"}),Object(b.jsx)(v.a,{labelId:"hub-filter",style:{width:100},value:n,onChange:function(t){var r=t.target.value;e.setState({selectedHub:r,selectedArea:[],selectedSubarea:[]})},children:Y.map((function(e){return Object(b.jsx)(m.a,{value:e,children:e},e)}))})]})}),Object(b.jsx)("div",{style:{marginRight:20,width:200},children:Object(b.jsx)(f.a,{style:{width:"100%"},children:Object(b.jsx)(D.a,{options:R,multiple:!0,renderInput:function(e){return Object(b.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{label:"Area"}))},onChange:function(t,r){e.setState({selectedArea:r,selectedSubarea:[]})}})})}),Object(b.jsx)("div",{style:{marginRight:20,width:300},children:Object(b.jsx)(f.a,{style:{width:"100%"},children:Object(b.jsx)(D.a,{options:W,multiple:!0,renderInput:function(e){return Object(b.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{label:"Locality"}))},onChange:function(t,r){e.setState({selectedSubarea:r})}})})}),Object(b.jsx)("div",{style:{marginRight:20},children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(x.a,{id:"driver-filter",children:"Assigned Driver"}),Object(b.jsxs)(v.a,{labelId:"driver-filter",style:{width:200},value:c||"all",onChange:function(t,r){var a=t.target.value;e.setState({selectedDriver:a})},children:[Object(b.jsx)(m.a,{value:"all",children:"All"}),Object(b.jsx)(m.a,{value:"none",children:"None"}),P.map((function(e){return Object(b.jsx)(m.a,{value:e.id,children:e.name},"driver-".concat(e.id))}))]})]})}),Object(b.jsx)("div",{children:Object(b.jsx)(_.a,{control:Object(b.jsx)(w.a,{checked:o,onChange:function(t){return e.setState(Object(a.a)({},t.target.name,t.target.checked))},name:"onlyDelivered",color:"primary"}),label:"Delivered"})}),Object(b.jsx)("div",{style:{marginRight:20},children:Object(b.jsx)(O.a,{color:"default",variant:"outlined",onClick:function(){window.location.reload()},children:"Remove Filters"})})]}),Object(b.jsx)(Z,{customer:l,setSelectedCustomer:this.onOrderSelect}),Object(b.jsx)(T,{data:A,onRowSelect:this.onOrderSelect,orderBoxData:E,deliveryBoys:I})]})]})}}]),r}(j.Component);t.default=Object(p.b)((function(e){var t=e.setAdmin;return Object(u.a)({},t)}),(function(e){return{onUpdateDeliveryReport:function(t){return e(Object(ce.f)(t))},onUpdateAdminData:function(t){return e(Object(ce.e)(t))},onAddProducts:function(t){return e(Object(ce.c)(t))},onAddOrderProducts:function(t){return e(Object(ce.b)(t))},onAddOrderBox:function(t){return e(Object(ce.a)(t))}}}))(pe)}}]);