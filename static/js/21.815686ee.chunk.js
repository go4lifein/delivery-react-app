(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[21],{141:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"h",(function(){return s})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return j})),n.d(e,"e",(function(){return l}));var a=n(27),r=n(37);function c(){var t="".concat(a.a,"/order/getAllOrders");return Object(a.e)({url:t,method:"get",headers:{"Content-Type":"application/json"}})}function o(){var t="".concat(a.a,"/order/getDeliveryBoysData");return Object(a.e)({url:t,method:"get",headers:{"Content-Type":"application/json"}})}function i(t){var e="".concat(a.a,"/order/assignDrivers");return Object(a.e)({url:e,method:"post",data:t,headers:{"Content-Type":"application/json"}})}function s(t){var e="".concat(a.a,"/order/updateCrateId");return Object(a.e)({url:e,method:"post",data:t,headers:{"Content-Type":"application/json"}})}function d(t){var e="".concat(a.a,"/order/prepareOrder");return Object(a.e)({url:e,method:"post",data:t,headers:{"Content-Type":"application/json"}})}function u(t){var e="".concat(a.a,"/admin/login");return Object(a.e)({url:e,method:"post",data:t,headers:{"Content-Type":"application/json"}})}function j(t){var e="".concat(a.a,"/admin/addReport");return Object(r.post)(e,t,{headers:{"content-type":"multipart/form-data"}})}function l(){var t="".concat(a.a,"/admin/getLocationCustomerDensity");return Object(a.e)({url:t,method:"get",headers:{"Content-Type":"application/json"}})}},142:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return i}));var a=n(14),r=function(t){return{type:a.a,payload:t}},c=function(t){return{type:a.b,payload:t}},o=function(t){return{type:a.e,payload:t}},i=function(t){return{type:a.f,payload:t}}},174:function(t,e,n){"use strict";e.a=n.p+"static/media/logo.8f39d4d2.png"},423:function(t,e,n){"use strict";n.r(e);var a=n(127),r=n(128),c=n(130),o=n(129),i=n(7),s=n(3),d=n(0),u=n(43),j=n(2),l=n(45),b=n(141),O=n(142),p=n(46),h=n(390),m=n(391),f=n(393),x=n(394),y=n(48),v=n(395),g=n(396),C=n(217),k=n.n(C),w=n(401),A=n(254),P=n(402),D=n(403),S=n(257),R=n.n(S),U=n(256),z=n.n(U),T=n(252),L=n.n(T),M=n(162),B=n.n(M),N=n(259),W=n.n(N),G=n(420),I=n(255),J=n.n(I),E=n(258),F=n.n(E),q=n(174),H=n(414),K=n(27);var Q=Object(h.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));function V(t){switch(t.pathname){case"/admin/product":return"Product Sheet";case"/admin/manageOrders":return"Manage Orders";case"/admin/pack":return"Pack Orders";case"/admin/addReport":return"Add Milk Report";case"/admin/customer-density":return"Customer Density";default:return"Go4Life"}}function X(t){var e=t.logOut,n=Object(d.useState)(!1),a=Object(p.a)(n,2),r=a[0],c=a[1];return Object(s.jsxs)("div",{className:"flex middle",children:[Object(s.jsx)(g.a,{onClick:function(){c(!r)},children:Object(s.jsx)(L.a,{style:{color:"#000"}})}),Object(s.jsx)("div",{style:{position:"fixed",zIndex:10},children:Object(s.jsx)(G.a,{anchor:"right",open:r,onClose:function(){return c(!1)},onOpen:function(){return c(!0)},children:Object(s.jsxs)(w.a,{children:[Object(s.jsxs)(A.a,{button:!0,onClick:function(){return window.location.reload()},children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(k.a,{})}),Object(s.jsx)(D.a,{primary:"Reload"})]},"Reload"),Object(s.jsx)(y.b,{to:"/admin/customer-density",children:Object(s.jsxs)(A.a,{button:!0,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(J.a,{})}),Object(s.jsx)(D.a,{primary:"Customer Density"})]},"customer-density")}),Object(s.jsx)(y.b,{to:"/admin/customer",children:Object(s.jsxs)(A.a,{button:!0,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(z.a,{})}),Object(s.jsx)(D.a,{primary:"Customer Sheet"})]},"Customer Sheet")}),Object(s.jsx)(y.b,{to:"/admin/product",children:Object(s.jsxs)(A.a,{button:!0,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(B.a,{})}),Object(s.jsx)(D.a,{primary:"Product Sheet"})]},"Product Sheet")}),Object(s.jsx)(y.b,{to:"/admin/manageOrders",children:Object(s.jsxs)(A.a,{button:!0,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(R.a,{})}),Object(s.jsx)(D.a,{primary:"Manage Orders"})]},"Manage Orders")}),Object(s.jsx)(y.b,{to:"/admin/pack",children:Object(s.jsxs)(A.a,{button:!0,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(F.a,{})}),Object(s.jsx)(D.a,{primary:"Pack Orders"})]},"Pack Orders")}),Object(s.jsx)(y.b,{to:"/admin/addReport",children:Object(s.jsxs)(A.a,{button:!0,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(J.a,{})}),Object(s.jsx)(D.a,{primary:"Add Report"})]},"Add Report")}),Object(s.jsxs)(A.a,{button:!0,onClick:e,children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(W.a,{})}),Object(s.jsx)(D.a,{primary:"Sign out"})]},"Logout")]})})})]})}var Y=Object(j.f)(Object(u.b)((function(t){var e=t.setAdmin;return Object(i.a)({},e)}),(function(t){return{onUpdateAdmin:function(e){return t(Object(O.a)(e))}}}))((function(t){var e=Q(),n=t.location;return Object(s.jsxs)("div",{className:e.root,children:[Object(s.jsx)(m.a,{position:"static",style:{backgroundColor:"#fff"},color:"default",children:Object(s.jsxs)(f.a,{style:{padding:10},children:[Object(s.jsx)("img",{src:q.a,alt:"logo",className:"logo-nav"}),Object(s.jsx)(x.a,{variant:"h5",className:e.title,children:V(n)}),Object(s.jsx)(H.a,{children:Object(s.jsx)(X,{logOut:function(){var e=t.onUpdateAdmin;Object(K.f)("x-admin-token","",0),e(null)}})})]})}),Object(s.jsx)(v.a,{})]})}))),Z=n(404),$=n(405),_=n(406),tt=n(430),et=n(410);var nt=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={username:"",password:""},t.handleSubmit=function(){var e=t.state,n=e.username,a=e.password,r=t.props.onUpdateAdmin;Object(b.f)({username:n,password:a}).then((function(t){var e=t.data.token;Object(K.d)(e),Object(K.f)("x-admin-token",e,5),r(t.data.username),document.location.reload()})).catch((function(t){return alert("Please check username and password")}))},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.username,a=e.password;return Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"grey",height:"100vh"},children:Object(s.jsxs)(Z.a,{style:{minWidth:300},children:[Object(s.jsx)($.a,{title:"Admin Login"}),Object(s.jsx)(v.a,{}),Object(s.jsxs)(_.a,{children:[Object(s.jsx)("div",{style:{marginBottom:10},children:Object(s.jsx)(tt.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Username",value:n,onChange:function(e){return t.setState({username:e.target.value})}})}),Object(s.jsx)("div",{style:{marginBottom:10},children:Object(s.jsx)(tt.a,{fullWidth:!0,variant:"outlined",type:"password",label:"Password",value:a,onChange:function(e){return t.setState({password:e.target.value})}})}),Object(s.jsx)("div",{children:Object(s.jsx)(et.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.handleSubmit,children:"Login"})})]}),Object(s.jsx)(v.a,{}),Object(s.jsx)(_.a,{children:Object(s.jsx)("div",{children:Object(s.jsx)(y.b,{to:"/",children:"Login as Driver"})})})]})})}}]),n}(d.Component),at=Object(u.b)((function(t){var e=t.setAdmin;return Object(i.a)({},e)}),(function(t){return{onUpdateAdmin:function(e){return t(Object(O.a)(e))}}}))(nt),rt=Object(d.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,411))})),ct=Object(d.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,412))})),ot=Object(d.lazy)((function(){return Promise.all([n.e(0),n.e(17),n.e(7)]).then(n.bind(null,425))})),it=Object(d.lazy)((function(){return n.e(8).then(n.bind(null,426))})),st=Object(d.lazy)((function(){return Promise.all([n.e(2),n.e(20),n.e(4)]).then(n.bind(null,427))})),dt=Object(d.lazy)((function(){return Promise.all([n.e(18),n.e(6)]).then(n.bind(null,413))}));var ut=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.onUpdateOrdersData,n=t.onUpdateAdminData;Object(b.d)().then((function(t){var e=t.data,a=new Map;e.forEach((function(t){a.set(t.id,t)})),n({deliveryBoys:a})})),Object(b.c)().then((function(t){var n=t.data;e(n)}))}},{key:"render",value:function(){console.log("Render admin");var t=this.props.admin;return Object(s.jsx)("div",{children:t?Object(s.jsxs)("div",{children:[Object(s.jsx)(Y,{}),Object(s.jsx)(d.Suspense,{fallback:Object(s.jsx)(l.a,{}),children:Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/admin/product",component:ct}),Object(s.jsx)(j.a,{path:"/admin/manageOrders",exact:!0,component:ot}),Object(s.jsx)(j.a,{path:"/admin/customer",exact:!0,component:rt}),Object(s.jsx)(j.a,{path:"/admin/pack",exact:!0,component:it}),Object(s.jsx)(j.a,{path:"/admin/addReport",component:st}),Object(s.jsx)(j.a,{path:"/admin/customer-density",component:dt}),Object(s.jsx)(j.a,{path:"/admin",component:rt})]})})]}):Object(s.jsx)(at,{})})}}]),n}(d.Component);e.default=Object(u.b)((function(t){var e=t.setAdmin;return Object(i.a)({},e)}),(function(t){return{onUpdateOrdersData:function(e){return t(Object(O.d)(e))},onUpdateAdminData:function(e){return t(Object(O.b)(e))}}}))(ut)}}]);
//# sourceMappingURL=21.815686ee.chunk.js.map