(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[11],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return j}));n(111);var r=n(137),c=n.n(r),i="https://api.deliver.go4life.in/api";function a(){var e=document.cookie.split(";"),t={};return e.forEach((function(e){var n=e.split("=");t[n[0]]=n[1]})),t}function o(e,t,n){var r="";if(n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3),r="; expires="+c.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-admin-token",t=arguments.length>1?arguments[1]:void 0;c.a.defaults.headers.common[e]=t}a()["x-admin-token"];function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-admin-token",t=a()[e];t&&u(e,t)}function l(e){return c.a.request(e)}function d(e){return c.a.request({url:e,method:"get"})}function j(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),c=new Uint8Array(r),i=0;i<t.length;i++)c[i]=t.charCodeAt(i);return new Blob([r],{type:n})}a()["x-admin-token"]?s("x-admin-token"):s("x-driver-token")},214:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.8f39d4d2.png"},220:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(12),c=function(e){return{type:r.f,payload:e}},i=function(e){return{type:r.g,payload:e}}},221:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(110),c=n(137);function i(e){var t="".concat(r.a,"/v2/driver/login");return Object(r.e)({url:t,method:"post",data:e,headers:{"Content-Type":"application/json"}})}function a(e){var t="".concat(r.a,"/v2/driver/getMyOrders");return Object(r.e)({url:t,method:"get",headers:{"Content-Type":"application/json"}})}function o(e){var t="".concat(r.a,"/v2/driver/submitOrderDelivery");return Object(c.post)(t,e,{headers:{"content-type":"multipart/form-data"}})}},571:function(e,t,n){"use strict";n.r(t);var r=n(105),c=n(106),i=n(107),a=n(108),o=n(5),u=n(2),s=n(0),l=n(38),d=n(3),j=n(39),b=n(527),f=n(528),h=n(530),v=n(531),p=n(542),O=n(533),m=n(279),x=n.n(m),g=n(214),y=n(532),k=n(220);var w=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function C(e){switch(e.pathname){case"/admin/product":return"Product Sheet";case"/admin/manageOrders":return"Manage Orders";default:return"Choose Order"}}var D=Object(d.f)(Object(l.b)((function(e){var t=e.setDriver;return Object(o.a)({},t)}),(function(e){return{onUpdateDriver:function(t){return e(Object(k.a)(t))}}}))((function(e){var t=w(),n=e.location;return Object(u.jsxs)("div",{className:t.root,children:[Object(u.jsx)(f.a,{position:"static",color:"warning",children:Object(u.jsxs)(h.a,{children:[Object(u.jsx)("img",{src:g.a,alt:"logo",className:"logo-nav"}),Object(u.jsx)(v.a,{variant:"h5",className:t.title,children:C(n)}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)(O.a,{onClick:function(){window.location.reload()},children:Object(u.jsx)(x.a,{})}),Object(u.jsx)(p.a,{className:"nav-link",color:"secondary",onClick:function(){(0,e.onUpdateDriver)(null)},children:"Logout"})]})]})}),Object(u.jsx)(y.a,{})]})}))),N=n(41),P=n(536),S=n(537),U=n(538),A=n(578),T=n(221),B=n(110);var L=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={phone:""},e.handleSubmit=function(){var t=e.props.onUpdateDriver,n=e.state.phone;Object(T.b)({phone:n}).then((function(e){Object(B.f)("x-driver-token",n,5),Object(B.d)(n),t(e.data)})).catch((function(e){return alert("Please check phone number")}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state.phone;return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"grey",height:"100vh"},children:Object(u.jsxs)(P.a,{style:{minWidth:300},children:[Object(u.jsx)(S.a,{title:"Login"}),Object(u.jsx)(y.a,{}),Object(u.jsxs)(U.a,{children:[Object(u.jsx)("div",{style:{marginBottom:10},children:Object(u.jsx)(A.a,{autoFocus:!0,variant:"outlined",fullWidth:!0,autoComplete:"true",label:"Phone Number",type:"number",name:"Phone Number",value:t,onChange:function(t){return e.setState({phone:t.target.value})}})}),Object(u.jsx)("div",{children:Object(u.jsx)(p.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.handleSubmit,children:"Login"})})]}),Object(u.jsx)(y.a,{}),Object(u.jsx)(U.a,{children:Object(u.jsx)("div",{children:Object(u.jsx)(N.b,{to:"/admin",children:"Login as Admin"})})})]})})}}]),n}(s.Component),M=Object(l.b)((function(e){var t=e.setDriver;return Object(o.a)({},t)}),(function(e){return{onUpdateDriver:function(t){return e(Object(k.a)(t))}}}))(L),W=Object(s.lazy)((function(){return Promise.all([n.e(29),n.e(33)]).then(n.bind(null,577))})),q=Object(s.lazy)((function(){return Promise.all([n.e(26),n.e(32)]).then(n.bind(null,572))}));var z=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.driver;return Object(u.jsx)("div",{children:e?Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(j.a,{}),children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/:orderId/deliver",component:q}),Object(u.jsx)(d.a,{path:"/",component:W})]})})]}):Object(u.jsx)(M,{})})}}]),n}(s.Component);t.default=Object(l.b)((function(e){var t=e.setDriver;return Object(o.a)({},t)}))(z)}}]);
//# sourceMappingURL=Driver.0a50772b.chunk.js.map