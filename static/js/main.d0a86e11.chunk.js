(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[19],{14:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return d})),r.d(t,"f",(function(){return o}));var a="UPDATE_DRIVER",n="UPDATE_ORDERS",c="UPDATE_ADMIN",i="UPDATE_ORDERS_DATA",d="UPDATE_ADMIN_DATA",o="UPDATE_ORDER_CRATE_DATA"},40:function(e,t,r){"use strict";var a=r(2),n=r(69);r(0);t.a=function(){return Object(a.jsx)("div",{className:"flex center middle p-10",children:Object(a.jsx)(n.a,{})})}},61:function(e,t,r){},62:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(0),c=r.n(n),i=r(21),d=r.n(i),o=(r(61),r(41)),s=r(3),l=r(53),u=r(85),p=r(86),b=(r(62),r(40)),v=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(2),r.e(5),r.e(25),r.e(7)]).then(r.bind(null,564))})),f=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(2),r.e(10)]).then(r.bind(null,565))})),h=Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(4),r.e(21),r.e(16)]).then(r.bind(null,553))})),j=Object(n.lazy)((function(){return r.e(17).then(r.bind(null,536))})),_=Object(n.lazy)((function(){return r.e(18).then(r.bind(null,537))}));var O=function(){var e=Object(l.a)({palette:{secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},background:{default:"#fff",paper:"#fff"}}});return Object(a.jsx)("div",{id:"app",children:Object(a.jsxs)(u.a,{theme:e,children:[Object(a.jsx)(p.a,{}),Object(a.jsx)(o.a,{base:"delivery-react-app",children:Object(a.jsx)("main",{children:Object(a.jsx)(n.Suspense,{fallback:Object(a.jsx)(b.a,{}),children:Object(a.jsxs)(s.c,{children:[Object(a.jsx)(s.a,{path:"/trace/produce",exact:!0,component:j}),Object(a.jsx)(s.a,{path:"/trace",exact:!0,component:h}),Object(a.jsx)(s.a,{path:"/visual",component:_}),Object(a.jsx)(s.a,{path:"/admin",component:v}),Object(a.jsx)(s.a,{path:"/",component:f})]})})})})]})})},y=r(39),m=r(18),g=r(10),x=r(14),D=window.localStorage.getItem("admin"),w={admin:D=D?JSON.parse(D):void 0,loadingOrderData:!0},A=r(44),E=r(25),k=window.localStorage.getItem("driver"),S={driver:k=k?JSON.parse(k):void 0};function T(e){return"Dairy"in e&&1===Object.entries(e).length}function M(e){return!("Dairy"in e)}var P=Object(m.c)(Object(m.b)({setDriver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case x.c:var r=t.payload;return window.localStorage.setItem("driver",JSON.stringify(r)),Object(g.a)(Object(g.a)({},e),{},{driver:r});case x.d:var a=t.payload,n=new Map,c=new Map;a.forEach((function(e){var t=e.subarea,r=e.area,a=e.hub;if(c.has(a)){var n=c.get(a);if(n.has(r)){var i=n.get(r);i.includes(t)||i.push(t),n.set(r,i),c.set(a,n)}else{var d=[t];n.set(r,d),c.set(a,n)}}else{var o=new Map;o.set(r,[t]),c.set(a,o)}}));var i=[],d=[],o=[],s=[],l={};a.forEach((function(e){var t=e.order_id,r=e.crate_id,a=e.customer_id,c=e.customer_name,u=e.phone_number,p=e.address_id,b=e.house_number,v=e.subarea,f=e.area,h=e.hub,j=e.category,_=e.product,O=e.quantity,y=e.package_size,m=e.package_type,g=e.product_package_id,x=e.product_id,D=e.region_id,w=e.location_id,A=e.delivery_person_id,k={product:_,product_id:x,product_package_id:g,package_size:y,quantity:O,total:y*O,unit:m},S={driver_id:e.driver_id,deliver_date:e.deliver_date,delivery_type:e.delivery_type,proof_img:e.proof_img,complete_delivery:e.complete_delivery,order_cancel_reason:e.order_cancel_reason,boxes:e.boxes,milk_packets:e.milk_packets};if(!1===i.includes(j)&&i.push(j),x in l||(l[x]=_),n.has(a)){var T=n.get(a),M=T.products;j in M?M[j].push(k):M[j]=[k],T.products=M,T.delivery=S,T.delivered=S.deliver_date}else{!1===o.includes(f)&&o.push(f),!1===s.includes(v)&&s.push(v),!1===d.includes(h)&&d.push(h);var P={name:c,phone:u,order_id:t,crate_id:r,address:{address_id:p,house_number:b,subarea:v,area:f,hub:h,region_id:D,location_id:w},products:Object(E.a)({},j,[k]),delivery_person_id:A,delivery:S,delivered:S.deliver_date};n.set(a,P)}}));var u,p=Object(A.a)(n);try{for(p.s();!(u=p.n()).done;){var b=u.value,v=b[1].products;T(v)?b[1].onlyDairy=!0:b[1].onlyDairy=!1,M(v)?b[1].hasNoDairy=!0:b[1].onlyDairy=!1}}catch(f){p.e(f)}finally{p.f()}return Object(g.a)(Object(g.a)({},e),{},{customers:n,locations:c,areas:o,subareas:s,hubs:d,orders:a});default:return e}},setAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case x.a:var r=t.payload;return window.localStorage.setItem("admin",JSON.stringify(r)),Object(g.a)(Object(g.a)({},e),{},{admin:r});case x.b:return Object(g.a)(Object(g.a)({},e),t.payload);case x.e:var a=t.payload,n=(new Map,new Map);a.forEach((function(e){var t=e.subarea,r=e.area,a=e.region;if(n.has(a)){var c=n.get(a);if(c.has(r)){var i=c.get(r);i.includes(t)||i.push(t),c.set(r,i),n.set(a,c)}else{var d=[t];c.set(r,d),n.set(a,c)}}else{var o=new Map;o.set(r,[t]),n.set(a,o)}}));var c=[];return console.log("Total Orders",a.length),a.forEach((function(e){})),console.log(n),Object(g.a)(Object(g.a)({},e),{},{orders:a,locations:n,hubs:c});default:return e}}}));d.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(y.a,{store:P,children:Object(a.jsx)(O,{})})}),document.getElementById("root"))}},[[68,20,23]]]);
//# sourceMappingURL=main.d0a86e11.chunk.js.map