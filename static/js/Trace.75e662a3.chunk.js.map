{"version":3,"sources":["trace/Main.js","trace/getDate.js","trace/Trace.js","api/misc.js","trace/icons/boards.svg","trace/Journey.js","trace/fonts/g4l.svg","trace/header.js","trace/icons/milkbox.svg","trace/Facts.js"],"names":["Main","data","setLoad","load","bmcLocation","className","moment","utc","bmc_receive","format","plant_receive","plant_dispatch","whs_receive","whs_dispatch","src","board","onLoad","alt","GetDate","startDate","selected","dateFormat","Trace","location","useState","Date","setStartDate","isA2","setIsA2","setData","loading","setLoading","useEffect","document","title","search","reportDate","URLSearchParams","get","date","type","a","getReport","response","console","log","getData","Loading","Journey","Facts","report_date","url","API_URL","request","method","headers","result","getBatchMilkReport","batchNo","getRequest","getOrderDetails","orderId","parseInt","btoa","getMyOrderItemDetails","journey","setJourney","startTime","endTime","duration","diff","hours","asHours","minutes","asMinutes","container","useRef","lottie","loadAnimation","current","renderer","loop","autoplay","speed","animationData","require","ref","Header","logo","milkbox","onClick","window","open","pdf_url","ph","fat","snf","mbrt"],"mappings":"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","file":"static/js/Trace.75e662a3.chunk.js","sourcesContent":["import React from \"react\";\n\nimport \"./main.scss\";\nimport board from \"./icons/boards.svg\";\nimport moment from \"moment\";\n//{moment(data.plant_receive).format('DD MM YYYY')}\n//{moment(data.plant_receive).format('hh:mm A')}\n\nexport default function Main({ data, setLoad, load, bmcLocation = 'Tijara' }) {\n  return (\n    <div className=\"hero\">\n      <div className=\"board\">\n        {data && load && (\n          <>\n            <div className=\"section1\">\n              <div className=\"BMC\">\n                <h1>\n                  Received at<br></br> BMC ({bmcLocation})\n                </h1>\n                <p>{moment.utc(data.bmc_receive).format(\"hh:mm A\")}</p>\n              </div>\n            </div>\n            <div className=\"section2\">\n              <div className=\"plant-receive\">\n                <h1>\n                  {\" \"}\n                  Milk Pasteurized<br></br>at 85<span>&#176;</span>C (Sonipat)\n                </h1>\n                <p>{moment.utc(data.plant_receive).format(\"hh:mm A\")}</p>\n              </div>\n              <div className=\"plant-dispatch\">\n                <h1>\n                  Packed in a Triple-Layered<br></br>Tamper-Proof<br></br> Packaging\n                </h1>\n                <p>{moment.utc(data.plant_dispatch).format(\"hh:mm A\")}</p>\n              </div>\n            </div>\n            <div className=\"section3\">\n              <div className=\"whs-receive\">\n                <h1>\n                  Arrived at <br></br> Warehouse\n                </h1>\n                <p>{moment.utc(data.whs_receive).format(\"hh:mm A\")}</p>\n              </div>\n              <div className=\"whs-dispatch\">\n                <h1>\n                  Dispatched for <br></br>Delivery\n                </h1>\n                <p>{moment.utc(data.whs_dispatch).format(\"hh:mm A\")}</p>\n              </div>\n            </div>\n          </>\n        )}{\" \"}\n        {data && (\n          <img\n            src={board}\n            onLoad={() => setLoad(true)}\n            className=\"timeline\"\n            alt=\"timeline\"\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport DatePicker , {subDays} from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./getdate.scss\";\n\nexport default function GetDate( {startDate}) {\n  \n  return (\n    <div className=\"datepicker\">\n      <DatePicker\n        className=\"box\"\n        selected={startDate}\n        dateFormat=\"MMMM d, yyyy\"\n      \n       \n      />\n\n    </div>\n  );\n}\n","\nimport React , {useState , useEffect} from \"react\";\nimport \"./trace.scss\";\nimport Header from \"./header.js\";\nimport Main from \"./Main.js\";\nimport Journey from \"./Journey.js\";\nimport Facts from \"./Facts.js\";\nimport GetDate from \"./getDate.js\";\nimport {getReport} from \"../api/misc.js\";\nimport Loading from \"../components/Loading.js\";\n\nexport default function Trace({ location }) {\n  const [startDate, setStartDate] = useState(new Date());\n  const [isA2, setIsA2] = useState(true);\n  const [data ,setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [load ,setLoad] = useState(false);\n\n  \n  useEffect(() => {\n    document.title = \"Go4Life - Trace Your Milk\"\n    let {search} = location;\n    search = new URLSearchParams(search);\n    const reportDate = search.get('report_date');\n    if(!reportDate)\n    return\n    const date = new Date(reportDate);\n    \n    const type = search.get('milk_type');  \n    setStartDate(date);\n    setIsA2(type === \"a2\" ? true : false);\n  }, [location]);\n\n  useEffect(() => {\n  \n    async function getData() {\n      try {\n        setLoading(true);\n        const response = await getReport(\"a2\", startDate);\n        setData(response.data);\n        setLoading(false);\n      }\n      catch (err) {\n        console.log(err);\n        setData(null);\n        setLoading(false);\n      }\n    }\n    getData();\n    \n  }, [startDate, isA2]);\n\n  return (\n    <div className=\"trace\">\n      <Header />\n      <GetDate startDate = {startDate} setStartDate ={setStartDate} isA2 = {isA2} setIsA2 = {setIsA2}/>\n      {loading && <Loading />}\n      {!data && !loading && !load && <p className = \"not-found\">Record Not Found</p>}\n      <Main data= {data} load = {load} setLoad = {setLoad} />\n      {data && load &&\n        <>\n          \n          <Journey data = {data} />\n          <Facts data= {data}  />\n        </>\n      }\n    </div>\n  );\n}\n","import {API_URL , request, getRequest} from '../helpers/utils';\nimport moment from 'moment';\n\nexport async function getReport(type = 'a2', report_date = moment().format('YYYY-MM-DD')) {\n\n  let date = moment(report_date).format('YYYY-MM-DD');\n    \n  let url = `${API_URL}/misc/getReport?report_date=${date}&milk_type=${type}`;\n  let result =  await request({\n\n    url: url,\n    method: 'get',\n    headers: {\n      'Content-Type': 'application/json',\n    }\n\n  });\n\n  return result ;\n}\n\nexport async function getBatchMilkReport(batchNo) {\n  let url = `${API_URL}/misc/getBatchMilkReport?batchNo=${batchNo}`;\n  return getRequest(url);\n}\n\nexport function getOrderDetails(orderId = '') {\n  orderId = parseInt(orderId)\n  orderId = btoa(orderId);\n  let url = `${API_URL}/order/getMyOrderDetails?orderId=${orderId}`;\n  return getRequest(url);\n}\n\nexport function getMyOrderItemDetails(orderId = '') {\n  orderId = parseInt(orderId)\n  orderId = btoa(orderId);\n  let url = `${API_URL}/order/getMyOrderItemDetails?orderId=${orderId}`;\n  return getRequest(url);\n}","export default __webpack_public_path__ + \"static/media/boards.e347cb1d.svg\";","import React, { useEffect, useRef , useState } from \"react\";\nimport lottie from \"lottie-web\";\nimport moment from \"moment\";\nimport \"./journey.scss\";\n\nexport default function Journey({data}) {\n  const [ journey ,setJourney ] =useState(\"\");\nuseEffect(() => {\n\n    if(!data)\n    return\n    let startTime = moment(data.bmc_receive);\n  let endTime = moment(data.whs_dispatch);\n  let duration = moment.duration(endTime.diff(startTime));\n\n  let hours = parseInt(duration.asHours());\n  let minutes = parseInt(duration.asMinutes()) % 60;\n  setJourney(hours + \" hours \" +  minutes + \" minutes \");\n\n} ,[data])\n  const container = useRef(null);\n\n  useEffect(() => {\n    lottie.loadAnimation({\n      container: container.current,\n      renderer: \"svg\",\n      loop: true,\n      autoplay: true,\n      speed: \"2.5x\",\n      animationData: require(\"./icons/truck.json\"),\n    });\n  }, []);\n  return (\n    <div className=\"journey\">\n      <div className=\"truck\" ref={container}></div>\n      <p className=\"time\">Total  journey  time : {journey}</p>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/g4l.5ca1a4fc.svg\";","import \"./header.scss\";\nimport logo from \"./fonts/g4l.svg\";\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <img src={logo} alt=\"logo\" className=\"logo\" />\n\n      <h1 className=\"heading\">Trace your milk's journey.</h1>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/milkbox.dbf4b746.svg\";","import  React , { useEffect } from \"react\";\nimport \"./facts.scss\";\n\nimport milkbox from \"./icons/milkbox.svg\";\n\nexport default function Facts( {data} ) {\n\n   \n   \n  return (\n    <div className=\"facts\">\n      <img src={milkbox} className=\"Milk\" alt=\"milkboxs\" />\n    {data &&<button className=\"download-btn\" onClick = {() => window.open(data.pdf_url)}> Download Test Report</button>}\n    { data&& \n      <div className=\"cards\">\n        <div className=\"section1\">\n          <div className=\"f1\">\n    \n            <h1>pH</h1>\n            \n            <p>{data.ph}</p>\n          </div>\n          <div className=\"f2\">\n            <h1>Fat </h1>\n            <p>{data.fat} %</p>\n          </div>\n        </div>\n        <div className=\"section2\">\n          <div className=\"f3\">\n            <h1>SNF</h1>\n            <p>{data.snf} %</p>\n          </div>\n          <div className=\"f4\">\n            <h1>MBRT</h1>\n            <p>{data.mbrt} mins</p>\n          </div>\n        </div>\n        \n      </div>\n}\n    </div>\n  );\n}\n"],"sourceRoot":""}