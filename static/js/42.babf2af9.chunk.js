(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[42],{572:function(t,e,a){"use strict";a.r(e);for(var n=a(27),i=a(2),r=a(0),s=a(171),c=a.n(s),o=a(483),u=a.n(o),d=a(208),v=[],l=c()().subtract(365,"days"),f=0;f<365;f++){var m=l.clone().add(f,"days").format("YYYY-MM-DD");v.push({date:m,inactiveCustomers:0})}e.default=function(){var t=Object(r.useState)([]),e=Object(n.a)(t,2),a=e[0],s=e[1];Object(r.useEffect)((function(){Object(d.c)().then((function(t){var e=t.data;e=e.sort((function(t,e){return new Date(t.lastOrderDate)-new Date(e.lastOrderDate)})),s(e)}))}),[]);for(var o=0,l=0;o<365&&l<a.length;){for(var f=0;l<a.length&&c()(a[l].lastOrderDate).add(15,"d")<c()(v[o].date);)l++,f++;v[o].inactiveCustomers=Number(l),v[o].newInactive=f,o++}v[0].newInactive=0;var m={xAxis:{categories:v.map((function(t){return t.date})),title:{text:"Date"},crosshair:!0},title:{text:"Customer Inactivity Trend"},boost:{useGPUTranslations:!0},chart:{zoomType:"x",panning:!0,panKey:"shift"},yAxis:[{title:{text:"Cumulative Inactive Count"}},{gridLineWidth:0,opposite:!0,title:{text:"New Inactive Count"}}],series:[{name:"Cumulative Inactive Count",data:v.map((function(t){return t.inactiveCustomers})),yAxis:0},{name:"New Inactive Count",data:v.map((function(t){return t.newInactive})),yAxis:1}],tooltip:{shared:!0}};return Object(i.jsx)("div",{children:Object(i.jsx)(u.a,{config:m})})}}}]);