(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[8],{195:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return m}));var n=a(160),i=a.n(n),c=a(161),r=a(32),s=a(177),l=a.n(s);function o(){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(i.a.mark((function e(){var t,a,n,c,s,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"a2",a=o.length>1&&void 0!==o[1]?o[1]:l()().format("YYYY-MM-DD"),n=l()(a).format("YYYY-MM-DD"),c="".concat(r.a,"/misc/getReport?report_date=").concat(n,"&milk_type=").concat(t),e.next=6,Object(r.g)({url:c,method:"get",headers:{"Content-Type":"application/json"}});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(r.a,"/misc/getBatchMilkReport?batchNo=").concat(t),e.abrupt("return",Object(r.d)(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=parseInt(e),e=btoa(e);var t="".concat(r.a,"/order/getMyOrderDetails?orderId=").concat(e);return Object(r.d)(t)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=parseInt(e),e=btoa(e);var t="".concat(r.a,"/order/getMyOrderItemDetails?orderId=").concat(e);return Object(r.d)(t)}},606:function(e,t,a){"use strict";a.r(t);var n=a(153),i=a(154),c=a(155),r=a(156),s=a(2),l=a(515),o=a(0),d=a(53),h=a(195),u=a(213),j=a(58),m=a(239),b=a(569),p=a(609),f=a(585),x=a(238),O=a(257),g=a(404),v=a(117),y=a(258),C=a(612),M=a(485),D=a.n(M),Y=a(177),_=a.n(Y),S=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).onSubmit=function(e){e.preventDefault();var t=new FormData(e.target);(0,i.props.onSubmit)(t)},i.onChange=function(e){i.setState(Object(j.a)({},e.target.name,e.target.value))},i.onDateTimeChange=function(e){i.setState(Object(j.a)({},e.target.name,e.target.value))},i.onFileChange=function(e){i.setState({pdf:e.target.value})},i.state={report_date:_()().format("YYYY-MM-DD"),milk_type:"a2",ph:7,snf:9,fat:4,sodium_content:496,mbrt:40,antibiotics1:!1,antibiotics2:!1,antibiotics3:!1,aflatoxin:!1,pdf:null,bmc_receive:_()().subtract(7,"hour").format("YYYY-MM-DDTHH:MM"),bmc_dispatch:_()().subtract(5,"hour").format("YYYY-MM-DDTHH:MM"),plant_receive:_()().subtract(4,"hour").format("YYYY-MM-DDTHH:MM"),plant_dispatch:_()().subtract(3,"hour").format("YYYY-MM-DDTHH:MM"),whs_receive:_()().subtract(1,"hour").format("YYYY-MM-DDTHH:MM"),whs_dispatch:_()().format("YYYY-MM-DDTHH:MM")},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.report_date,n=t.milk_type,i=t.ph,c=t.snf,r=t.fat,l=t.sodium_content,o=t.mbrt,d=t.antibiotics1,h=t.antibiotics2,u=t.antibiotics3,j=t.aflatoxin,M=t.bmc_receive,Y=t.bmc_dispatch,_=t.plant_receive,S=t.plant_dispatch,k=t.whs_receive,T=t.whs_dispatch,W=t.pdf,w=this.props.loading,H=null;if(W){var N=W.split("\\");H=N[N.length-1]}return console.log(this.state),Object(s.jsx)("div",{id:"report-form",className:"flex column middle",children:Object(s.jsxs)("form",{id:"milk-report-form",onSubmit:this.onSubmit,children:[Object(s.jsxs)(m.a,{container:!0,justify:"center",spacing:2,children:[Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsx)(b.a,{fullWidth:!0,children:Object(s.jsx)(p.a,{fullWidth:!0,label:"Report Date *",type:"date",value:a,name:"report_date",onChange:this.onDateTimeChange})})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsxs)(b.a,{fullWidth:!0,children:[Object(s.jsx)(C.a,{id:"milk_type",children:"Milk Type *"}),Object(s.jsxs)(f.a,{labelId:"milk_type",fullWidth:!0,name:"milk_type",value:n,onChange:function(t){e.setState({milk_type:t.target.value})},children:[Object(s.jsx)(y.a,{value:"a2",children:"A2 Gable Top"}),Object(s.jsx)(y.a,{value:"a2-cow-toned",children:"A2 Cow Toned"}),Object(s.jsx)(y.a,{value:"buffalo-full",children:"Buffalo Full"}),Object(s.jsx)(y.a,{value:"toned",children:"Toned"}),Object(s.jsx)(y.a,{value:"double-toned",children:"Double Toned"})]})]})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsx)(p.a,{fullWidth:!0,label:"pH *",name:"ph",onChange:this.onChange,type:"number",value:i})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsx)(p.a,{fullWidth:!0,label:"FAT *",name:"fat",value:r,type:"number",onChange:this.onChange})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsx)(p.a,{fullWidth:!0,label:"SNF *",name:"snf",value:c,type:"number",onChange:this.onChange})})]}),Object(s.jsxs)(m.a,{container:!0,justify:"center",spacing:2,children:[Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsx)(p.a,{fullWidth:!0,label:"Sodium Content *",name:"sodium_content",value:l,type:"number",onChange:this.onChange})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(s.jsx)(p.a,{fullWidth:!0,label:"MBRT *",name:"mbrt",type:"number",value:o,onChange:this.onChange})}),Object(s.jsxs)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:[Object(s.jsx)(C.a,{className:"required",children:"BMC Received"}),Object(s.jsx)(p.a,{fullWidth:!0,type:"datetime-local",required:!0,onChange:this.onDateTimeChange,value:M,name:"bmc_receive"})]}),Object(s.jsxs)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:[Object(s.jsx)(C.a,{className:"required",children:"BMC Dispatched"}),Object(s.jsx)(p.a,{fullWidth:!0,type:"datetime-local",required:!0,onChange:this.onDateTimeChange,value:Y,name:"bmc_dispatch"})]})]}),Object(s.jsxs)(m.a,{container:!0,justify:"center",spacing:2,children:[Object(s.jsxs)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:[Object(s.jsx)(C.a,{className:"required",children:"Plant Received"}),Object(s.jsx)(p.a,{fullWidth:!0,type:"datetime-local",required:!0,onChange:this.onDateTimeChange,value:_,name:"plant_receive"})]}),Object(s.jsxs)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:[Object(s.jsx)(C.a,{className:"required",children:"Plant Dispatched"}),Object(s.jsx)(p.a,{fullWidth:!0,type:"datetime-local",required:!0,onChange:this.onDateTimeChange,value:S,name:"plant_dispatch"})]}),Object(s.jsxs)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:[Object(s.jsx)(C.a,{className:"required",children:"WHS Received"}),Object(s.jsx)(p.a,{fullWidth:!0,type:"datetime-local",required:!0,onChange:this.onDateTimeChange,value:k,name:"whs_receive"})]}),Object(s.jsxs)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:[Object(s.jsx)(C.a,{className:"required",children:"WHS Dispatched"}),Object(s.jsx)(p.a,{fullWidth:!0,type:"datetime-local",required:!0,onChange:this.onDateTimeChange,value:T,name:"whs_dispatch"})]})]}),Object(s.jsxs)(m.a,{container:!0,justify:"center",spacing:2,children:[Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:Object(s.jsx)(x.a,{control:Object(s.jsx)(O.a,{disabled:!0,checked:d,onChange:function(t,a){return e.setState({antibiotics1:a})},color:"primary"}),label:"Antibiotics (B & T) *"})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:Object(s.jsx)(x.a,{control:Object(s.jsx)(O.a,{disabled:!0,checked:h,onChange:function(t,a){return e.setState({antibiotics2:a})},color:"primary"}),label:"Antibiotics (Chloramphenicol) *"})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:Object(s.jsx)(x.a,{control:Object(s.jsx)(O.a,{disabled:!0,checked:u,onChange:function(t,a){return e.setState({antibiotics3:a})},color:"primary"}),label:"Antibiotics (Sulphonamide) *"})}),Object(s.jsx)(m.a,{item:!0,xs:12,sm:6,md:3,lg:3,children:Object(s.jsx)(x.a,{control:Object(s.jsx)(O.a,{disabled:!0,checked:j,onChange:function(t,a){return e.setState({aflatoxin:a})},color:"primary"}),label:"Aflatoxin M1 *"})})]}),Object(s.jsxs)(m.a,{container:!0,justify:"center",spacing:2,children:[Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"file",id:"milk-report-file-input",className:"file-input",name:"pdf",onChange:this.onChange}),Object(s.jsx)("label",{className:"file",htmlFor:"milk-report-file-input",children:Object(s.jsxs)("div",{className:"flex middle",children:[Object(s.jsx)("div",{className:"icon",children:Object(s.jsx)(D.a,{})}),"Upload Report"]})})]}),H]}),Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(g.a,{type:"submit",color:"primary",variant:"contained",disabled:w,startIcon:w?Object(s.jsx)(v.a,{size:12}):null,children:"Submit"})}),Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(g.a,{color:"primary",children:"Cancel"})})]})]})})}}]),a}(o.Component);var k=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).onSubmit=function(e){i.setState({loading:!0}),Object(u.a)(e).then((function(e){console.log(e),i.setState({loading:!1}),alert("Done")})).catch((function(e){e.response&&400===e.response.status&&alert(e.response.data),console.log(e),i.setState({loading:!1})}))},i.state={report:null,loading:!1},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(h.d)().then((function(t){console.log(t.data),e.setState({report:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.loading;e.report;return Object(s.jsx)("div",{children:Object(s.jsx)(l.a,{m:1,children:Object(s.jsx)(S,{onSubmit:this.onSubmit,loading:t})})})}}]),a}(o.Component);t.default=Object(d.b)((function(e){return{}}))(k)}}]);