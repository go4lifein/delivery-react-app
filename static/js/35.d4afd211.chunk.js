(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[35],{200:function(e,t,a){"use strict";function c(e,t){return e<t?t:e}a.d(t,"a",(function(){return c}))},201:function(e,t,a){"use strict";var c=a(4),r=a(2),s=(a(0),a(530)),i=a(250),n=a.n(i),l=a(249),o=a.n(l);t.a=function(e){var t=e.left,a=e.onLeft,i=e.right,l=e.onRight,d=e.center,j=e.leftIcon,b=e.rightIcon,x=e.disabledLeft,h=void 0!==x&&x,O=e.disabledRight,v=void 0!==O&&O,p=e.style,u=void 0===p?{}:p,m=e.className,y=void 0===m?"":m,f=e.size,g=void 0===f?"large":f;return Object(r.jsxs)("div",{className:"flex p-10 middle ".concat(y),style:Object(c.a)({justifyContent:"space-around"},u),children:[Object(r.jsx)("div",{children:t||Object(r.jsx)(s.a,{size:g,onClick:a,disabled:h,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:j||Object(r.jsx)(o.a,{})})}),Object(r.jsx)("div",{className:"flex center middle",style:{flexGrow:.5,paddingRight:10,paddingLeft:10},children:d}),Object(r.jsx)("div",{children:i||Object(r.jsx)(s.a,{size:g,onClick:l,disabled:v,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:b||Object(r.jsx)(n.a,{})})})]})}},575:function(e,t,a){"use strict";a.r(t);var c=a(105),r=a(106),s=a(107),i=a(108),n=a(4),l=a(2),o=a(0),d=a.n(o),j=a(586),b=a(530),x=a(528),h=a(247),O=a.n(h),v=a(544),p=a(464),u=a.n(p),m=a(463),y=a.n(m),f=a(452),g=a(531),_=a(567),k=a(585),S=a(177),w=a(543),N=a(527),C=a(525),I=a(560),D=a(529),R=a(201),B=a(252),T=a.n(B),z=a(251),L=a.n(z),P=a(3),G=a(39),H=a(32),M=a(461),F=a.n(M),J=a(462),W=a.n(J),Y=a(248),q=a.n(Y),A={facingMode:"environment"},E=function(e){var t=e.onCapture,a=e.image,c=d.a.useState(!a),r=Object(H.a)(c,2),s=r[0],i=r[1],n=d.a.useRef(null),o=d.a.useCallback((function(){var e=n.current.getScreenshot();t(e),i(!1)}),[n,t]);return Object(l.jsx)("div",{style:{background:"#000"},children:s?Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(F.a,{audio:!1,width:224,height:400,ref:n,screenshotFormat:"image/jpeg",videoConstraints:A}),Object(l.jsx)("div",{style:{position:"absolute",bottom:0,display:"flex",justifyContent:"center",width:"100%"},children:Object(l.jsx)(v.a,{onClick:o,variant:"contained",style:{borderRadius:0},fullWidth:!0,color:"primary",startIcon:Object(l.jsx)(W.a,{style:{color:"white"}}),children:"Capture"})})]}):Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)("img",{src:a,alt:"order_photo",width:282}),Object(l.jsx)("div",{style:{position:"absolute",bottom:0,display:"flex",justifyContent:"center",width:"100%"},children:Object(l.jsx)(v.a,{color:"primary",style:{borderRadius:0},variant:"contained",onClick:function(){return i(!0)},fullWidth:!0,startIcon:Object(l.jsx)(q.a,{style:{color:"white"}}),children:"Retake"})})]})})},K=a(198),Q=a(200),U=a(70),V=a(538),X=a(229),Z=a(112);var $=function(e){var t=e.state,a=e.props,c=t.delivery_type,r=t.delivery_img,s=t.complete_delivery,i=t.milk_packets,n=t.small_boxes,d=t.large_boxes,j=t.gable_tops,b=(t.boxes,a.history),h=a.match,O=a.driver,p=h.params,u=parseInt(p.orderId),m=Object(o.useState)(!1),y=Object(H.a)(m,2),f=y[0],g=y[1],_=!0;return c&&r&&s&&(i||n||d||j)&&(_=!1),Object(l.jsxs)("div",{className:"pv-10",children:[Object(l.jsxs)(V.a,{variant:"outlined",children:[Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"}),Object(l.jsx)(x.a,{variant:"h6",children:function(e){switch(e){case"in_hand":return"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940";case"doorstep":return"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e";case"society_guard":return"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"tower_guard":return"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"order_cancelled":return"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932";default:return Object(l.jsx)("span",{style:{color:"red"},children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"})}}(c)})]}),Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Take Photo - \u0906\u0930\u094d\u0921\u0930 \u0915\u0940 \u092b\u094b\u091f\u094b \u0932\u0940\u091c\u093f\u092f\u0947"}),r?Object(l.jsx)("div",{children:Object(l.jsx)("img",{alt:"order",src:r,width:300})}):Object(l.jsx)(x.a,{variant:"h6",children:Object(l.jsx)("span",{style:{color:"red"},children:"Please take picture"})})]}),Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"}),Object(l.jsx)(x.a,{variant:"h6",children:function(e){switch(e){case"yes":return"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e";case"no":return"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948";default:return Object(l.jsx)("span",{style:{color:"red"},children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"})}}(s)})]}),Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Small Boxes - \u0915\u093f\u0924\u0928\u0947 \u091b\u094b\u091f\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(l.jsx)(x.a,{variant:"h6",children:n})]}),Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Large Boxes - \u0915\u093f\u0924\u0928\u0947 \u092c\u0921\u093c\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(l.jsx)(x.a,{variant:"h6",children:d})]}),Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Gable Top - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(l.jsx)(x.a,{variant:"h6",children:j})]}),Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(x.a,{variant:"body",children:"Milk Packets - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u092a\u0948\u0915\u0947\u091f \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(l.jsx)(x.a,{variant:"h6",children:i})]})]}),Object(l.jsx)("div",{className:"pv-10",children:Object(l.jsx)(v.a,{color:"primary",variant:"contained",onClick:function(){g(!0);var e=Object(Z.b)(r),t=new FormData;t.append("delivery_img",e),t.append("order_id",u),t.append("driver_id",O.id),t.append("delivery_type",c),t.append("complete_delivery",s),t.append("small_boxes",n),t.append("large_boxes",d),t.append("gable_tops",j),t.append("milk_packets",i),Object(X.c)(t).then((function(e){b.push("/"),g(!1)})).catch((function(e){g(!1),alert(e.message)}))},disabled:f||_,startIcon:f?Object(l.jsx)(U.a,{size:12}):null,children:"Submit"})})]})};var ee=[{label:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"},{label:"Take Photo - \u0906\u0930\u094d\u0921\u0930 \u0915\u0940 \u092b\u094b\u091f\u094b \u0932\u0940\u091c\u093f\u092f\u0947"},{label:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"},{label:"Boxes, Milk - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"},{label:"Review - \u0915\u0943\u092a\u092f\u093e \u091c\u093e\u0902\u091a\u0947\u0902"}],te=d.a.forwardRef((function(e,t){return Object(l.jsx)(g.a,Object(n.a)({direction:"up",ref:t},e))})),ae=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleNext=function(){r.setState((function(e){return{activeStep:e.activeStep+1}}))},r.handleBack=function(){r.setState((function(e){return{activeStep:e.activeStep-1}}))},r.DeliveryType=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{variant:"h4"}),Object(l.jsx)(w.a,{component:"fieldset",children:Object(l.jsxs)(k.a,{"aria-label":"delivery type",name:"delivery_type",value:r.state.delivery_type,onChange:function(e){r.setState({delivery_type:e.target.value})},children:[Object(l.jsx)(S.a,{value:"in_hand",control:Object(l.jsx)(_.a,{}),label:"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940"}),Object(l.jsx)(S.a,{value:"doorstep",control:Object(l.jsx)(_.a,{}),label:"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e"}),Object(l.jsx)(S.a,{value:"society_guard",control:Object(l.jsx)(_.a,{}),label:"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e"}),Object(l.jsx)(S.a,{value:"tower_guard",control:Object(l.jsx)(_.a,{}),label:"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e"}),Object(l.jsx)(S.a,{value:"order_cancelled",control:Object(l.jsx)(_.a,{}),label:"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932"})]})})]})},r.DeliveryPhoto=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{variant:"h4"}),Object(l.jsx)("div",{className:"flex center",children:Object(l.jsx)(E,{onCapture:function(e){r.setState({delivery_img:e})},image:r.state.delivery_img})})]})},r.CompleteDelivery=function(){return Object(l.jsx)("div",{className:"pv-10",children:Object(l.jsx)(w.a,{component:"fieldset",children:Object(l.jsxs)(k.a,{"aria-label":"complete delivery",name:"complete_delivery",value:r.state.complete_delivery,onChange:function(e){r.setState({complete_delivery:e.target.value})},children:[Object(l.jsx)(S.a,{value:"yes",control:Object(l.jsx)(_.a,{}),label:"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e"}),Object(l.jsx)(S.a,{value:"no",control:Object(l.jsx)(_.a,{}),label:"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948"})]})})})},r.BoxNumbers=function(){var e=r.state,t=e.small_boxes,a=e.large_boxes,c=e.gable_tops,s=e.milk_packets;return Object(l.jsx)("div",{className:"pv-10",children:Object(l.jsxs)(K.a,{container:!0,children:[Object(l.jsx)(K.a,{item:!0,xs:12,children:Object(l.jsxs)(I.a,{className:"flex middle space-bw",children:[Object(l.jsx)(x.a,{variant:"h6",children:"Small Boxes"}),Object(l.jsx)(R.a,{size:"small",style:{flexGrow:.2},center:Object(l.jsx)(x.a,{variant:"h6",children:t}),leftIcon:Object(l.jsx)(L.a,{}),rightIcon:Object(l.jsx)(T.a,{}),onRight:function(){r.setState({small_boxes:t+1})},onLeft:function(){r.setState({small_boxes:Object(Q.a)(0,t-1)})}})]})}),Object(l.jsx)(K.a,{item:!0,xs:12,children:Object(l.jsxs)(I.a,{className:"flex middle space-bw",children:[Object(l.jsx)(x.a,{variant:"h6",children:"Large Boxes"}),Object(l.jsx)(R.a,{size:"small",style:{flexGrow:.2},center:Object(l.jsx)(x.a,{variant:"h6",children:a}),leftIcon:Object(l.jsx)(L.a,{}),rightIcon:Object(l.jsx)(T.a,{}),onRight:function(){r.setState({large_boxes:a+1})},onLeft:function(){r.setState({large_boxes:Object(Q.a)(0,a-1)})}})]})}),Object(l.jsx)(K.a,{item:!0,xs:12,children:Object(l.jsxs)(I.a,{className:"flex middle space-bw",children:[Object(l.jsx)(x.a,{variant:"h6",children:"Gable Top"}),Object(l.jsx)(R.a,{size:"small",style:{flexGrow:.2},center:Object(l.jsx)(x.a,{variant:"h6",children:c}),leftIcon:Object(l.jsx)(L.a,{}),rightIcon:Object(l.jsx)(T.a,{}),onRight:function(){r.setState({gable_tops:c+1})},onLeft:function(){r.setState({gable_tops:Object(Q.a)(0,c-1)})}})]})}),Object(l.jsx)(K.a,{item:!0,xs:12,children:Object(l.jsxs)(I.a,{className:"flex middle space-bw",children:[Object(l.jsx)(x.a,{variant:"h6",children:"Milk Packets"}),Object(l.jsx)(R.a,{size:"small",style:{flexGrow:.2},center:Object(l.jsx)(x.a,{variant:"h6",children:s}),leftIcon:Object(l.jsx)(L.a,{}),rightIcon:Object(l.jsx)(T.a,{}),onRight:function(){r.setState({milk_packets:s+1})},onLeft:function(){r.setState({milk_packets:Object(Q.a)(0,s-1)})}})]})})]})})},r.state={activeStep:0,delivery_type:null,delivery_img:null,complete_delivery:null,milk_packets:0,small_boxes:0,large_boxes:0,gable_tops:0,crates:0},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.match,c=e.orders,r=(e.customers,a.params),s=parseInt(r.orderId);c||(window.location="/"),console.log(c);var i=c.find((function(e){return Number(e.orderId)===s}));if(console.log(i),!i)return Object(l.jsx)(x.a,{variant:"h4",children:"No such order"});i.address,i.area,i.phone,i.orderId,i.region;var n=i.name,o=(i.subarea,i.region_id,i.customerID,i.driverId,i.location_id,i.orderDate,this.state.activeStep),d=ee.length;return Object(l.jsx)("div",{children:Object(l.jsxs)(f.a,{fullScreen:!0,open:!0,TransitionComponent:te,children:[Object(l.jsx)(C.a,{position:"fixed",color:"default",children:Object(l.jsxs)(N.a,{children:[Object(l.jsx)(b.a,{edge:"start",color:"inherit",onClick:function(){t.goBack()},"aria-label":"close",children:Object(l.jsx)(O.a,{})}),Object(l.jsx)(x.a,{variant:"h6",children:n})]})}),Object(l.jsxs)("div",{style:{margin:"60px 10px 20px 10px",padding:"10px 10px"},children:[Object(l.jsx)(x.a,{variant:"h4",children:ee[o].label}),Object(l.jsx)(D.a,{}),0===o&&Object(l.jsx)(this.DeliveryType,{}),1===o&&Object(l.jsx)(this.DeliveryPhoto,{}),2===o&&Object(l.jsx)(this.CompleteDelivery,{}),3===o&&Object(l.jsx)(this.BoxNumbers,{}),4===o&&Object(l.jsx)($,{state:this.state,props:this.props})]}),Object(l.jsx)(j.a,{style:{borderTop:"1px solid grey"},steps:d,position:"bottom",variant:"progress",activeStep:o,color:"default",nextButton:Object(l.jsxs)(v.a,{size:"small",color:"primary",variant:"outlined",onClick:this.handleNext,disabled:o===d-1,children:["Next",Object(l.jsx)(y.a,{})]}),backButton:Object(l.jsxs)(v.a,{size:"small",color:"primary",variant:"outlined",onClick:this.handleBack,disabled:0===o,children:[Object(l.jsx)(u.a,{}),"Previous"]})})]})})}}]),a}(d.a.Component);t.default=Object(P.f)(Object(G.b)((function(e){var t=e.setDriver;return Object(n.a)({},t)}))(ae))}}]);
//# sourceMappingURL=35.d4afd211.chunk.js.map