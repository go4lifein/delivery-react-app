(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[23],{166:function(e,t,a){"use strict";function c(e,t){return e<t?t:e}a.d(t,"a",(function(){return c}))},167:function(e,t,a){"use strict";var c=a(7),s=a(3),r=(a(0),a(424)),i=a(203),n=a.n(i),l=a(202),o=a.n(l);t.a=function(e){var t=e.left,a=e.onLeft,i=e.right,l=e.onRight,j=e.center,d=e.leftIcon,b=e.rightIcon,x=e.disabledLeft,h=void 0!==x&&x,O=e.disabledRight,v=void 0!==O&&O,p=e.style,u=void 0===p?{}:p,m=e.className,y=void 0===m?"":m,f=e.size,g=void 0===f?"large":f;return Object(s.jsxs)("div",{className:"flex p-10 middle ".concat(y),style:Object(c.a)({justifyContent:"space-around"},u),children:[Object(s.jsx)("div",{children:t||Object(s.jsx)(r.a,{size:g,onClick:a,disabled:h,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:d||Object(s.jsx)(o.a,{})})}),Object(s.jsx)("div",{className:"flex center middle",style:{flexGrow:.5,paddingRight:10,paddingLeft:10},children:j}),Object(s.jsx)("div",{children:i||Object(s.jsx)(r.a,{size:g,onClick:l,disabled:v,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:b||Object(s.jsx)(n.a,{})})})]})}},457:function(e,t,a){"use strict";a.r(t);var c=a(127),s=a(128),r=a(130),i=a(129),n=a(46),l=a(7),o=a(3),j=a(0),d=a.n(j),b=a(464),x=a(424),h=a(422),O=a(199),v=a.n(O),p=a(438),u=a(382),m=a.n(u),y=a(381),f=a.n(y),g=a(353),_=a(425),k=a(447),w=a(463),S=a(198),C=a(437),N=a(421),D=a(419),I=a(432),B=a(442),T=a(423),z=a(167),R=a(206),L=a.n(R),P=a(205),G=a.n(P),H=a(2),M=a(43),A=a(378),F=a.n(A),J=a(379),Y=a.n(J),U=a(380),q=a.n(U),E={facingMode:"environment"},K=function(e){var t=e.onCapture,a=e.image,c=d.a.useState(!a),s=Object(n.a)(c,2),r=s[0],i=s[1],l=d.a.useRef(null),j=d.a.useCallback((function(){var e=l.current.getScreenshot();t(e),i(!1)}),[l,t]);return Object(o.jsx)("div",{style:{background:"#000"},children:r?Object(o.jsxs)("div",{style:{position:"relative"},children:[Object(o.jsx)(F.a,{audio:!1,width:282,height:500,ref:l,screenshotFormat:"image/jpeg",videoConstraints:E}),Object(o.jsx)("div",{style:{position:"absolute",bottom:0,display:"flex",justifyContent:"center",width:"100%"},children:Object(o.jsx)(x.a,{onClick:j,children:Object(o.jsx)(Y.a,{style:{color:"white"}})})})]}):Object(o.jsxs)("div",{style:{position:"relative"},children:[Object(o.jsx)("img",{src:a,alt:"order_photo",width:282}),Object(o.jsx)("div",{style:{position:"absolute",bottom:0,display:"flex",justifyContent:"center",width:"100%"},children:Object(o.jsx)(x.a,{onClick:function(){return i(!0)},children:Object(o.jsx)(q.a,{style:{color:"white"}})})})]})})},Q=a(183),V=a(99),W=a(204),X=a(166);var Z=[{label:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"},{label:"Take Photo - \u0906\u0930\u094d\u0921\u0930 \u0915\u0940 \u092b\u094b\u091f\u094b \u0932\u0940\u091c\u093f\u092f\u0947"},{label:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"},{label:"Boxes, Milk - \u0915\u093f\u0924\u0928\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"},{label:"Review - \u0915\u0943\u092a\u092f\u093e \u091c\u093e\u0902\u091a\u0947\u0902"}],$=d.a.forwardRef((function(e,t){return Object(o.jsx)(_.a,Object(l.a)({direction:"up",ref:t},e))}));function ee(e){var t=e.state,a=e.props,c=t.delivery_type,s=t.delivery_img,r=t.complete_delivery,i=t.milk_packets,l=t.small_boxes,d=t.large_boxes,b=t.gable_tops,x=(t.boxes,a.history),O=a.match,v=a.driver,u=O.params,m=parseInt(u.orderId),y=Object(j.useState)(!1),f=Object(n.a)(y,2),g=f[0],_=f[1],k=!0;c&&s&&r&&(i||l||d||b)&&(k=!1);return Object(o.jsxs)("div",{className:"pv-10",children:[Object(o.jsxs)(I.a,{variant:"outlined",children:[Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"}),Object(o.jsx)(h.a,{variant:"h6",children:function(e){switch(e){case"in_hand":return"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940";case"doorstep":return"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e";case"society_guard":return"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"tower_guard":return"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e";case"order_cancelled":return"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932";default:return Object(o.jsx)("span",{style:{color:"red"},children:"Select Delivery Type - \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0939\u093e\u0901 \u0915\u0930\u0940"})}}(c)})]}),Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Take Photo - \u0906\u0930\u094d\u0921\u0930 \u0915\u0940 \u092b\u094b\u091f\u094b \u0932\u0940\u091c\u093f\u092f\u0947"}),s?Object(o.jsx)("div",{children:Object(o.jsx)("img",{alt:"order",src:s,width:300})}):Object(o.jsx)(h.a,{variant:"h6",children:Object(o.jsx)("span",{style:{color:"red"},children:"Please take picture"})})]}),Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"}),Object(o.jsx)(h.a,{variant:"h6",children:function(e){switch(e){case"yes":return"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e";case"no":return"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948";default:return Object(o.jsx)("span",{style:{color:"red"},children:"Complete Order Delivered? - \u0915\u094d\u092f\u093e \u0906\u092a\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e?"})}}(r)})]}),Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Small Boxes - \u0915\u093f\u0924\u0928\u0947 \u091b\u094b\u091f\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(o.jsx)(h.a,{variant:"h6",children:l})]}),Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Large Boxes - \u0915\u093f\u0924\u0928\u0947 \u092c\u0921\u093c\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(o.jsx)(h.a,{variant:"h6",children:d})]}),Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Gable Top - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u0921\u092c\u094d\u092c\u0947 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(o.jsx)(h.a,{variant:"h6",children:b})]}),Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:"p-10",children:[Object(o.jsx)(h.a,{variant:"body",children:"Milk Packets - \u0915\u093f\u0924\u0928\u0947 \u0926\u0942\u0927 \u0915\u0947 \u092a\u0948\u0915\u0947\u091f \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u0930\u0947"}),Object(o.jsx)(h.a,{variant:"h6",children:i})]})]}),Object(o.jsx)("div",{className:"pv-10",children:Object(o.jsx)(p.a,{color:"primary",variant:"contained",onClick:function(){_(!0);var e=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],c=new ArrayBuffer(t.length),s=new Uint8Array(c),r=0;r<t.length;r++)s[r]=t.charCodeAt(r);return new Blob([c],{type:a})}(s),t=new FormData;t.append("delivery_img",e),t.append("order_id",m),t.append("driver_id",v.id),t.append("delivery_type",c),t.append("complete_delivery",r),t.append("small_boxes",l),t.append("large_boxes",d),t.append("gable_tops",b),t.append("milk_packets",i),Object(Q.c)(t).then((function(e){x.push("/"),_(!1)})).catch((function(e){_(!1),alert(e.message)}))},disabled:g||k,startIcon:g?Object(o.jsx)(V.a,{size:12}):null,children:"Submit"})})]})}var te=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).handleNext=function(){s.setState((function(e){return{activeStep:e.activeStep+1}}))},s.handleBack=function(){s.setState((function(e){return{activeStep:e.activeStep-1}}))},s.DeliveryType=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(h.a,{variant:"h4"}),Object(o.jsx)(C.a,{component:"fieldset",children:Object(o.jsxs)(w.a,{"aria-label":"delivery type",name:"delivery_type",value:s.state.delivery_type,onChange:function(e){s.setState({delivery_type:e.target.value})},children:[Object(o.jsx)(S.a,{value:"in_hand",control:Object(o.jsx)(k.a,{}),label:"In Hand Delivery - \u0915\u0938\u094d\u091f\u092e\u0930 \u0915\u0947 \u0939\u093e\u0925 \u092e\u0947\u0902 \u0921\u093f\u0932\u0940\u0935\u0930\u0940 \u0915\u0940"}),Object(o.jsx)(S.a,{value:"doorstep",control:Object(o.jsx)(k.a,{}),label:"Doorstep Delivery - \u0918\u0930 \u0915\u0947 \u0917\u0947\u091f \u0915\u0947 \u092c\u0939\u093e\u0930 \u0906\u0930\u094d\u0921\u0930 \u0930\u0916\u093e"}),Object(o.jsx)(S.a,{value:"society_guard",control:Object(o.jsx)(k.a,{}),label:"Handed over to society guard - \u0938\u094b\u0938\u093e\u0907\u091f\u0940 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e"}),Object(o.jsx)(S.a,{value:"tower_guard",control:Object(o.jsx)(k.a,{}),label:"Handed over to tower guard - \u091f\u093e\u0935\u0930 \u0917\u093e\u0930\u094d\u0921 \u0915\u0947 \u092a\u093e\u0938 \u0906\u0930\u094d\u0921\u0930 \u091b\u094b\u095c\u093e"}),Object(o.jsx)(S.a,{value:"order_cancelled",control:Object(o.jsx)(k.a,{}),label:"Order Cancelled - \u0906\u0930\u094d\u0921\u0930 \u0915\u0948\u0902\u0938\u093f\u0932"})]})})]})},s.DeliveryPhoto=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(h.a,{variant:"h4"}),Object(o.jsx)("div",{className:"flex center",children:Object(o.jsx)(K,{onCapture:function(e){s.setState({delivery_img:e})},image:s.state.delivery_img})})]})},s.CompleteDelivery=function(){return Object(o.jsx)("div",{className:"pv-10",children:Object(o.jsx)(C.a,{component:"fieldset",children:Object(o.jsxs)(w.a,{"aria-label":"complete delivery",name:"complete_delivery",value:s.state.complete_delivery,onChange:function(e){s.setState({complete_delivery:e.target.value})},children:[Object(o.jsx)(S.a,{value:"yes",control:Object(o.jsx)(k.a,{}),label:"Yes - \u0939\u093e\u0901, \u092e\u0948\u0902\u0928\u0947 \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e"}),Object(o.jsx)(S.a,{value:"no",control:Object(o.jsx)(k.a,{}),label:"No - \u0928\u0939\u0940\u0902,  \u092a\u0942\u0930\u093e \u0906\u0930\u094d\u0921\u0930 \u0921\u093f\u0932\u0940\u0935\u0930 \u0928\u0939\u0940\u0902 \u0939\u0941\u0906 \u0939\u0948"})]})})})},s.BoxNumbers=function(){var e=s.state,t=e.small_boxes,a=e.large_boxes,c=e.gable_tops,r=e.milk_packets;return Object(o.jsx)("div",{className:"pv-10",children:Object(o.jsxs)(W.a,{container:!0,children:[Object(o.jsx)(W.a,{item:!0,xs:12,children:Object(o.jsxs)(B.a,{className:"flex middle space-bw",children:[Object(o.jsx)(h.a,{variant:"h6",children:"Small Boxes"}),Object(o.jsx)(z.a,{size:"small",style:{flexGrow:.2},center:Object(o.jsx)(h.a,{variant:"h6",children:t}),leftIcon:Object(o.jsx)(G.a,{}),rightIcon:Object(o.jsx)(L.a,{}),onRight:function(){s.setState({small_boxes:t+1})},onLeft:function(){s.setState({small_boxes:Object(X.a)(0,t-1)})}})]})}),Object(o.jsx)(W.a,{item:!0,xs:12,children:Object(o.jsxs)(B.a,{className:"flex middle space-bw",children:[Object(o.jsx)(h.a,{variant:"h6",children:"Large Boxes"}),Object(o.jsx)(z.a,{size:"small",style:{flexGrow:.2},center:Object(o.jsx)(h.a,{variant:"h6",children:a}),leftIcon:Object(o.jsx)(G.a,{}),rightIcon:Object(o.jsx)(L.a,{}),onRight:function(){s.setState({large_boxes:a+1})},onLeft:function(){s.setState({large_boxes:Object(X.a)(0,a-1)})}})]})}),Object(o.jsx)(W.a,{item:!0,xs:12,children:Object(o.jsxs)(B.a,{className:"flex middle space-bw",children:[Object(o.jsx)(h.a,{variant:"h6",children:"Gable Top"}),Object(o.jsx)(z.a,{size:"small",style:{flexGrow:.2},center:Object(o.jsx)(h.a,{variant:"h6",children:c}),leftIcon:Object(o.jsx)(G.a,{}),rightIcon:Object(o.jsx)(L.a,{}),onRight:function(){s.setState({gable_tops:c+1})},onLeft:function(){s.setState({gable_tops:Object(X.a)(0,c-1)})}})]})}),Object(o.jsx)(W.a,{item:!0,xs:12,children:Object(o.jsxs)(B.a,{className:"flex middle space-bw",children:[Object(o.jsx)(h.a,{variant:"h6",children:"Milk Packets"}),Object(o.jsx)(z.a,{size:"small",style:{flexGrow:.2},center:Object(o.jsx)(h.a,{variant:"h6",children:r}),leftIcon:Object(o.jsx)(G.a,{}),rightIcon:Object(o.jsx)(L.a,{}),onRight:function(){s.setState({milk_packets:r+1})},onLeft:function(){s.setState({milk_packets:Object(X.a)(0,r-1)})}})]})})]})})},s.state={activeStep:0,delivery_type:null,delivery_img:null,complete_delivery:null,milk_packets:0,small_boxes:0,large_boxes:0,gable_tops:0,crates:0},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.match,c=e.orders,s=e.customers,r=a.params,i=parseInt(r.orderId);c||(window.location="/");var n=c.find((function(e){return e.order_id===i})),l=s.get(n.customer_id);l||(console.log(n),window.location="/");var j=this.state.activeStep,d=Z.length;return Object(o.jsx)("div",{children:Object(o.jsxs)(g.a,{fullScreen:!0,open:!0,TransitionComponent:$,children:[Object(o.jsx)(D.a,{position:"fixed",color:"default",children:Object(o.jsxs)(N.a,{children:[Object(o.jsx)(x.a,{edge:"start",color:"inherit",onClick:function(){t.goBack()},"aria-label":"close",children:Object(o.jsx)(v.a,{})}),Object(o.jsx)(h.a,{variant:"h6",children:l.name})]})}),Object(o.jsxs)("div",{style:{margin:"60px 10px 20px 10px",padding:"10px 10px"},children:[Object(o.jsx)(h.a,{variant:"h4",children:Z[j].label}),Object(o.jsx)(T.a,{}),0===j&&Object(o.jsx)(this.DeliveryType,{}),1===j&&Object(o.jsx)(this.DeliveryPhoto,{}),2===j&&Object(o.jsx)(this.CompleteDelivery,{}),3===j&&Object(o.jsx)(this.BoxNumbers,{}),4===j&&Object(o.jsx)(ee,{state:this.state,props:this.props})]}),Object(o.jsx)(b.a,{style:{borderTop:"1px solid grey"},steps:d,position:"bottom",variant:"progress",activeStep:j,color:"default",nextButton:Object(o.jsxs)(p.a,{size:"small",color:"primary",variant:"outlined",onClick:this.handleNext,disabled:j===d-1,children:["Next",Object(o.jsx)(f.a,{})]}),backButton:Object(o.jsxs)(p.a,{size:"small",color:"primary",variant:"outlined",onClick:this.handleBack,disabled:0===j,children:[Object(o.jsx)(m.a,{}),"Previous"]})})]})})}}]),a}(d.a.Component);t.default=Object(H.f)(Object(M.b)((function(e){var t=e.setDriver;return Object(l.a)({},t)}))(te))}}]);
//# sourceMappingURL=23.2d4062a4.chunk.js.map