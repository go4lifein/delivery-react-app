[{"D:\\Coding\\go4Life\\delivery-crm\\src\\index.js":"1","D:\\Coding\\go4Life\\delivery-crm\\src\\reportWebVitals.js":"2","D:\\Coding\\go4Life\\delivery-crm\\src\\App.js":"3","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\TrackMap.js":"4","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\mapStyles.js":"5","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DemoMap.js":"6","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DriverLogin.js":"7","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\AdminLogin.js":"8","D:\\Coding\\go4Life\\delivery-crm\\src\\reducers\\admin.reducers.js":"9","D:\\Coding\\go4Life\\delivery-crm\\src\\reducers\\driver.reducers.js":"10","D:\\Coding\\go4Life\\delivery-crm\\src\\constants\\index.js":"11","D:\\Coding\\go4Life\\delivery-crm\\src\\actions\\admin.actions.js":"12","D:\\Coding\\go4Life\\delivery-crm\\src\\containers\\Admin.jsx":"13","D:\\Coding\\go4Life\\delivery-crm\\src\\containers\\Driver.jsx":"14","D:\\Coding\\go4Life\\delivery-crm\\src\\actions\\driver.actions.js":"15","D:\\Coding\\go4Life\\delivery-crm\\src\\api\\admin.js":"16","D:\\Coding\\go4Life\\delivery-crm\\src\\helpers\\utils.js":"17","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\AdminNavbar.js":"18","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\CustomerSheet.jsx":"19","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\ProductSheet.jsx":"20","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\OrderManagement.jsx":"21","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\Loading.js":"22","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\OrderDataTable.js":"23","D:\\Coding\\go4Life\\delivery-crm\\src\\api\\driver.js":"24","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DriverNavbar.js":"25","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\ChooseOrder.js":"26","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DriverOrderTable.js":"27","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\OrderDeliveryForm.js":"28","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\WebCam.js":"29","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DeliveryInfo.js":"30","D:\\Coding\\go4Life\\delivery-crm\\src\\helpers\\exportCSV.js":"31"},{"size":819,"mtime":1607200778357,"results":"32","hashOfConfig":"33"},{"size":362,"mtime":1607155955208,"results":"34","hashOfConfig":"33"},{"size":1511,"mtime":1609932400842,"results":"35","hashOfConfig":"33"},{"size":1581,"mtime":1607196385141,"results":"36","hashOfConfig":"33"},{"size":1923,"mtime":1607196198551,"results":"37","hashOfConfig":"33"},{"size":3552,"mtime":1607322968314,"results":"38","hashOfConfig":"33"},{"size":2260,"mtime":1608969172404,"results":"39","hashOfConfig":"33"},{"size":2662,"mtime":1608886667920,"results":"40","hashOfConfig":"33"},{"size":7560,"mtime":1610861022814,"results":"41","hashOfConfig":"33"},{"size":5178,"mtime":1610188495824,"results":"42","hashOfConfig":"33"},{"size":298,"mtime":1607597000248,"results":"43","hashOfConfig":"33"},{"size":373,"mtime":1607513621368,"results":"44","hashOfConfig":"33"},{"size":2635,"mtime":1607829141105,"results":"45","hashOfConfig":"33"},{"size":1263,"mtime":1607632370329,"results":"46","hashOfConfig":"33"},{"size":252,"mtime":1607597027408,"results":"47","hashOfConfig":"33"},{"size":1168,"mtime":1609933314751,"results":"48","hashOfConfig":"33"},{"size":1061,"mtime":1610987867833,"results":"49","hashOfConfig":"33"},{"size":3301,"mtime":1610989419340,"results":"50","hashOfConfig":"33"},{"size":9216,"mtime":1610862096241,"results":"51","hashOfConfig":"33"},{"size":5843,"mtime":1610861740751,"results":"52","hashOfConfig":"33"},{"size":17594,"mtime":1610988029390,"results":"53","hashOfConfig":"33"},{"size":244,"mtime":1607494551003,"results":"54","hashOfConfig":"33"},{"size":5320,"mtime":1610259809307,"results":"55","hashOfConfig":"33"},{"size":1005,"mtime":1608969247598,"results":"56","hashOfConfig":"33"},{"size":2330,"mtime":1608886924481,"results":"57","hashOfConfig":"33"},{"size":7980,"mtime":1608904861411,"results":"58","hashOfConfig":"33"},{"size":2141,"mtime":1610189432562,"results":"59","hashOfConfig":"33"},{"size":14152,"mtime":1609932235232,"results":"60","hashOfConfig":"33"},{"size":2069,"mtime":1608886959876,"results":"61","hashOfConfig":"33"},{"size":6350,"mtime":1608891558319,"results":"62","hashOfConfig":"33"},{"size":493,"mtime":1609398971229,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"ham0x1",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"74"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"74"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"66"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"66"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"66"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"D:\\Coding\\go4Life\\delivery-crm\\src\\index.js",[],["133","134"],"D:\\Coding\\go4Life\\delivery-crm\\src\\reportWebVitals.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\App.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\TrackMap.js",["135","136","137"],"import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { GoogleMap, withGoogleMap, withScriptjs, Marker} from 'react-google-maps';\r\n\r\nfunction Map(props) {\r\n  console.log(props);\r\n  return (\r\n    <GoogleMap \r\n      defaultZoom={10}\r\n      defaultCenter={{lat: 28.39, lng: 77.03}}\r\n    />\r\n  );\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map()));\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n\r\n  };\r\n}\r\n\r\nclass Driver extends Component {\r\n  state = {\r\n    latitude: 0,\r\n    longitude: 0\r\n  }\r\n  componentDidMount() {\r\n    const geo = navigator.geolocation;\r\n    geo.watchPosition((position) => {\r\n      console.log(position);\r\n    });\r\n    \r\n    geo.getCurrentPosition((position) => {\r\n      let {coords} = position;\r\n      let {latitude, longitude} = coords;\r\n      this.setState({\r\n        latitude, longitude\r\n      });\r\n    });\r\n  }\r\n  render() {\r\n    let {latitude, longitude} = this.state;\r\n    return (\r\n      <div className=\"map-container\">\r\n        <WrappedMap\r\n          googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${\r\n            process.env.REACT_APP_GOOGLE_KEY\r\n          }`}\r\n          loadingElement={<div style={{ height: `100%` }} />}\r\n          containerElement={<div style={{ height: `100%` }} />}\r\n          mapElement={<div style={{ height: `100%` }} />}\r\n        />\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Driver);",["138","139"],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\mapStyles.js",["140"],"export default [\r\n  {\r\n    featureType: \"water\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#004358\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#1f8a70\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#1f8a70\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#fd7400\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.arterial\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#1f8a70\"\r\n      },\r\n      {\r\n        lightness: -20\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.local\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#1f8a70\"\r\n      },\r\n      {\r\n        lightness: -17\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    elementType: \"labels.text.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#ffffff\"\r\n      },\r\n      {\r\n        visibility: \"on\"\r\n      },\r\n      {\r\n        weight: 0.9\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    elementType: \"labels.text.fill\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      },\r\n      {\r\n        color: \"#ffffff\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi\",\r\n    elementType: \"labels\",\r\n    stylers: [\r\n      {\r\n        visibility: \"simplified\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    elementType: \"labels.icon\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"transit\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#1f8a70\"\r\n      },\r\n      {\r\n        lightness: -10\r\n      }\r\n    ]\r\n  },\r\n  {},\r\n  {\r\n    featureType: \"administrative\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        color: \"#1f8a70\"\r\n      },\r\n      {\r\n        weight: 0.7\r\n      }\r\n    ]\r\n  }\r\n];","D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DemoMap.js",["141","142"],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DriverLogin.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\AdminLogin.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\reducers\\admin.reducers.js",["143"],"import {UPDATE_ADMIN, UPDATE_ORDERS_DATA, UPDATE_ADMIN_DATA} from '../constants/index';\r\n\r\nlet admin = window.localStorage.getItem('admin');\r\nif(admin) {\r\n  admin = JSON.parse(admin);\r\n} else {\r\n  admin = undefined;\r\n}\r\nconsole.log(admin);\r\nconst initialState = {\r\n  admin\r\n}\r\n\r\nfunction hasOnlyDairyProducts(products) {\r\n  if('Dairy' in products && Object.entries(products).length === 1) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction hasNoDairy(products) {\r\n  if(!('Dairy' in products)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction onlyMilkAndPaneer(products) {\r\n  const categories = Object.entries(products);\r\n  categories.forEach(([category, value]) => {\r\n    value.forEach(product => {\r\n      const name = product.product;\r\n      if(name.toLowerCase().includes(\"milk\") === false) return false;\r\n      if(name.toLowerCase().includes(\"paneer\") ===false) return false;\r\n    });\r\n  });\r\n  return true;\r\n}\r\n\r\nexport const setAdmin = (state = initialState, action = {}) => {\r\n  switch(action.type) {\r\n    case UPDATE_ADMIN:\r\n      let admin = action.payload;\r\n      window.localStorage.setItem('admin', JSON.stringify(admin));\r\n      return { ...state, admin}\r\n    case UPDATE_ADMIN_DATA:\r\n      // let {customers, areas, subareas, categories, hubs, orders} = action.payload;\r\n      return { \r\n        ...state,\r\n        ...action.payload\r\n      }\r\n\r\n    case UPDATE_ORDERS_DATA:\r\n\r\n      let orders = action.payload;\r\n      let customers = new Map();\r\n      let productsCollection = new Map();\r\n      let locations = new Map();\r\n      /* \r\n      locations = {\r\n        \"Gurgaon\": {\r\n          \"Sector 69\": [\r\n            \"Tulip White\"\r\n          ]\r\n        },\r\n        \"South Delhi\": {\r\n\r\n        }\r\n      }\r\n      */\r\n      // prepare location data\r\n      orders.forEach(order => {\r\n        let { subarea, area, hub } = order;\r\n        if(locations.has(hub)) {\r\n          let hubAreas = locations.get(hub);\r\n          if(hubAreas.has(area)) {\r\n            let subareas = hubAreas.get(area);\r\n            if(!subareas.includes(subarea)) {\r\n              subareas.push(subarea);\r\n            }\r\n            hubAreas.set(area, subareas);\r\n            locations.set(hub, hubAreas);\r\n          } else {\r\n            let areaData = [subarea];\r\n            hubAreas.set(area, areaData);\r\n            locations.set(hub, hubAreas);\r\n          }\r\n        } else {\r\n          let hubAreas = new Map();\r\n          hubAreas.set(area, [subarea]);\r\n          locations.set(hub, hubAreas)\r\n        }\r\n      });\r\n\r\n      // console.log(locations);\r\n\r\n      let categories = [];\r\n      let hubs = [];\r\n      let areas = [];\r\n      let subareas = [];\r\n      let products = {};\r\n\r\n      // accumulate customer data\r\n      orders.forEach(order => {\r\n        let { \r\n          order_id, crate_id,\r\n          order_staus, order_type, TIMESTAMP,\r\n          customer_id, customer_name, phone_number, \r\n          address_id, house_number, subarea, area, hub,\r\n          category, product, quantity,\r\n          package_size, package_type, product_package_id, product_id, \r\n          region_id, location_id, delivery_person_id,\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        } = order;\r\n\r\n        // if(order_id === 129779) {\r\n        //   console.log(order);\r\n        // }\r\n\r\n        let productData = {\r\n          product,\r\n          product_id,\r\n          product_package_id,\r\n          package_size,\r\n          quantity,\r\n          category,\r\n          total: package_size * quantity,\r\n          unit: package_type\r\n        }\r\n        \r\n        let deliveryData = {\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        }\r\n        \r\n        if(categories.includes(category) === false) {\r\n          categories.push(category);\r\n        }\r\n        if(!(product_id in products)) {\r\n          products[product_id] = product;\r\n        }\r\n\r\n        if(customers.has(customer_id)) {\r\n          \r\n          let customer = customers.get(customer_id);\r\n          let {products} = customer;\r\n          \r\n          if(category in products) {\r\n            products[category].push(productData);\r\n          } else {\r\n            products[category] = [\r\n              productData\r\n            ]\r\n          }\r\n          \r\n          customer.products = products;\r\n          customer.delivery = deliveryData;\r\n          customer.delivered = deliveryData.deliver_date;\r\n        } else {\r\n          \r\n          // if(order_id === 129779) {\r\n          //   console.log(order);\r\n          // }\r\n          \r\n          if(areas.includes(area) === false) {\r\n            areas.push(area);\r\n          }\r\n          if(subareas.includes(subarea) === false) {\r\n            subareas.push(subarea);\r\n          }\r\n          if(hubs.includes(hub) === false) {\r\n            hubs.push(hub);\r\n          }\r\n\r\n          let customer = {\r\n            name: customer_name,\r\n            phone: phone_number,\r\n            order_id,\r\n            crate_id,\r\n            order_staus, order_type, TIMESTAMP,\r\n            address: {\r\n              address_id,\r\n              house_number, subarea,\r\n              area, hub,\r\n              region_id, location_id\r\n            },\r\n            products: {\r\n              [category]: [productData]\r\n            },\r\n            fnvProducts: [],\r\n            delivery_person_id,\r\n            delivery: deliveryData,\r\n            delivered: deliveryData.deliver_date\r\n          }\r\n          customers.set(customer_id, customer);\r\n        }\r\n      });\r\n\r\n      let crateId = 1;\r\n      for(const customer of customers) {\r\n        const {products} = customer[1];\r\n        if(hasOnlyDairyProducts(products)) {\r\n          customer[1].onlyDairy = true;\r\n        } else {\r\n          customer[1].onlyDairy = false;\r\n          customer[1].crateId = crateId;\r\n          crateId++;\r\n        }\r\n        \r\n        if(hasNoDairy(products)) {\r\n          customer[1].hasNoDairy = true;\r\n        } else {\r\n          customer[1].hasNoDairy = false;\r\n        }\r\n\r\n        \r\n      }\r\n      \r\n      for(const customer of customers) {\r\n        const {products} = customer[1];\r\n        if(hasOnlyDairyProducts(products)) {\r\n          customer[1].crateId = crateId;\r\n          crateId++;\r\n        }\r\n      }\r\n\r\n      orders.forEach(order => {\r\n        let { \r\n          customer_id, \r\n          category, product, quantity,\r\n          package_size, package_type, product_id\r\n        } = order;\r\n\r\n        // if(category !== 'Dairy') {\r\n          \r\n          let crateData = {\r\n            quantity,\r\n            total: package_size * quantity,\r\n            crateId: customers.get(customer_id).crateId,\r\n            crate_id: customers.get(customer_id).crate_id\r\n          }\r\n          if(productsCollection.has(product_id)) {\r\n            let productValue = productsCollection.get(product_id);\r\n            let {crates} = productValue;\r\n            crates.push(crateData);\r\n\r\n            productValue.crates = crates;\r\n          } else {\r\n            let productData = {\r\n              package_size,\r\n              product_id,\r\n              product,\r\n              category,\r\n              unit: package_type,\r\n              crates: [crateData]\r\n            }\r\n            productsCollection.set(product_id, productData);\r\n          }\r\n        // }\r\n      })\r\n      \r\n      return {...state, customers, locations, productsCollection, products, areas, subareas, categories, hubs, orders};\r\n    default:\r\n      return state;\r\n  }\r\n}","D:\\Coding\\go4Life\\delivery-crm\\src\\reducers\\driver.reducers.js",["144"],"import {UPDATE_DRIVER, UPDATE_ORDERS} from '../constants/index';\r\n\r\nlet driver = window.localStorage.getItem('driver');\r\nif(driver) {\r\n  driver = JSON.parse(driver);\r\n} else {\r\n  driver = undefined;\r\n}\r\nconst initialState = {\r\n  driver\r\n}\r\n\r\nfunction hasOnlyDairyProducts(products) {\r\n  if('Dairy' in products && Object.entries(products).length === 1) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction hasNoDairy(products) {\r\n  if(!('Dairy' in products)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const setDriver = (state = initialState, action = {}) => {\r\n  switch(action.type) {\r\n    case UPDATE_DRIVER:\r\n      let driver = action.payload;\r\n      window.localStorage.setItem('driver', JSON.stringify(driver));\r\n      return { ...state, driver}\r\n\r\n    case UPDATE_ORDERS:\r\n\r\n      let orders = action.payload;\r\n      let customers = new Map();\r\n      let productsCollection = new Map();\r\n      let locations = new Map();\r\n      /* \r\n      locations = {\r\n        \"Gurgaon\": {\r\n          \"Sector 69\": [\r\n            \"Tulip White\"\r\n          ]\r\n        },\r\n        \"South Delhi\": {\r\n\r\n        }\r\n      }\r\n      */\r\n      orders.forEach(order => {\r\n        let { subarea, area, hub } = order;\r\n        if(locations.has(hub)) {\r\n          let hubAreas = locations.get(hub);\r\n          if(hubAreas.has(area)) {\r\n            let subareas = hubAreas.get(area);\r\n            if(!subareas.includes(subarea)) {\r\n              subareas.push(subarea);\r\n            }\r\n            hubAreas.set(area, subareas);\r\n            locations.set(hub, hubAreas);\r\n          } else {\r\n            let areaData = [subarea];\r\n            hubAreas.set(area, areaData);\r\n            locations.set(hub, hubAreas);\r\n          }\r\n        } else {\r\n          let hubAreas = new Map();\r\n          hubAreas.set(area, [subarea]);\r\n          locations.set(hub, hubAreas)\r\n        }\r\n      });\r\n\r\n      // console.log(locations);\r\n\r\n      let categories = [];\r\n      let hubs = [];\r\n      let areas = [];\r\n      let subareas = [];\r\n      let products = {};\r\n\r\n      orders.forEach(order => {\r\n        let { \r\n          order_id, crate_id,\r\n          customer_id, customer_name, phone_number, \r\n          address_id, house_number, subarea, area, hub,\r\n          category, product, quantity,\r\n          package_size, package_type, product_package_id, product_id, \r\n          region_id, location_id, delivery_person_id,\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        } = order;\r\n\r\n        if(delivery_person_id) {\r\n          // console.log(order);\r\n        }\r\n        let productData = {\r\n          product,\r\n          product_id,\r\n          product_package_id,\r\n          package_size,\r\n          quantity,\r\n          total: package_size * quantity,\r\n          unit: package_type\r\n        }\r\n        let deliveryData = {\r\n          driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets\r\n        }\r\n        \r\n        if(categories.includes(category) === false) {\r\n          categories.push(category);\r\n        }\r\n        if(!(product_id in products)) {\r\n          products[product_id] = product;\r\n        }\r\n\r\n        if(customers.has(customer_id)) {\r\n          let customer = customers.get(customer_id);\r\n          let {products} = customer;\r\n          \r\n          if(category in products) {\r\n            products[category].push(productData);\r\n          } else {\r\n            products[category] = [\r\n              productData\r\n            ]\r\n          }\r\n\r\n          customer.products = products;\r\n          customer.delivery = deliveryData;\r\n          customer.delivered = deliveryData.deliver_date;\r\n        } else {\r\n          \r\n          if(areas.includes(area) === false) {\r\n            areas.push(area);\r\n          }\r\n          if(subareas.includes(subarea) === false) {\r\n            subareas.push(subarea);\r\n          }\r\n          if(hubs.includes(hub) === false) {\r\n            hubs.push(hub);\r\n          }\r\n\r\n          let customer = {\r\n            name: customer_name,\r\n            phone: phone_number,\r\n            order_id,\r\n            crate_id,\r\n            address: {\r\n              address_id,\r\n              house_number, subarea,\r\n              area, hub,\r\n              region_id, location_id\r\n            },\r\n            products: {\r\n              [category]: [productData]\r\n            },\r\n            delivery_person_id,\r\n            delivery: deliveryData,\r\n            delivered: deliveryData.deliver_date\r\n          }\r\n          customers.set(customer_id, customer);\r\n        }\r\n      });\r\n\r\n      for(const customer of customers) {\r\n        const {products} = customer[1];\r\n        if(hasOnlyDairyProducts(products)) {\r\n          customer[1].onlyDairy = true;\r\n        } else {\r\n          customer[1].onlyDairy = false;\r\n        }\r\n        \r\n        if(hasNoDairy(products)) {\r\n          customer[1].hasNoDairy = true;\r\n        } else {\r\n          customer[1].onlyDairy = false;\r\n        }\r\n      }\r\n      \r\n      return {...state, customers, locations,  areas, subareas, hubs, orders};\r\n    default:\r\n      return state;\r\n  }\r\n}","D:\\Coding\\go4Life\\delivery-crm\\src\\constants\\index.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\actions\\admin.actions.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\containers\\Admin.jsx",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\containers\\Driver.jsx",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\actions\\driver.actions.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\api\\admin.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\helpers\\utils.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\AdminNavbar.js",["145","146"],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\CustomerSheet.jsx",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\ProductSheet.jsx",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\OrderManagement.jsx",["147","148"],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\Loading.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\OrderDataTable.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\api\\driver.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DriverNavbar.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\ChooseOrder.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DriverOrderTable.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\OrderDeliveryForm.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\WebCam.js",[],"D:\\Coding\\go4Life\\delivery-crm\\src\\components\\DeliveryInfo.js",["149"],"import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Card from '@material-ui/core/Card';\r\nimport Divider from '@material-ui/core/Divider';\r\n// import moment from 'moment';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction mapStateToProps(state) {\r\n  let {setAdmin} = state;\r\n  return {\r\n    ...setAdmin\r\n  };\r\n}\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nclass OrderDeliveryForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...props\r\n    }\r\n  }\r\n  Review = () => {\r\n    \r\n    let {customer, deliveryBoys} = this.props;\r\n    console.log(customer);\r\n    const {driver_id, deliver_date, delivery_type, proof_img, complete_delivery, order_cancel_reason, boxes, milk_packets} = customer.delivery;\r\n\r\n    let driver = deliveryBoys.get(driver_id);\r\n\r\n    function mapDeliveryType(delivery_type) {\r\n      switch (delivery_type) {\r\n        \r\n        case \"in_hand\":\r\n          return \"In Hand Delivery - कस्टमर के हाथ में डिलीवरी की\"\r\n        case \"doorstep\":\r\n          return \"Doorstep Delivery - घर के गेट के बहार आर्डर रखा\"\r\n        case \"society_guard\":\r\n          return \"Handed over to society guard - सोसाइटी गार्ड के पास आर्डर छोड़ा\"\r\n        case \"tower_guard\":\r\n          return \"Handed over to tower guard - टावर गार्ड के पास आर्डर छोड़ा\"\r\n        case \"order_cancelled\":\r\n          return \"Order Cancelled - आर्डर कैंसिल\"\r\n        default:\r\n          return <span style={{color: 'red'}}>Select Delivery Type - डिलीवरी कहाँ करी</span>;\r\n      }\r\n    }\r\n    function mapCompleteDelivery(complete_delivery) {\r\n      switch (complete_delivery) {\r\n        \r\n        case \"yes\":\r\n          return \"Yes - हाँ, मैंने पूरा आर्डर डिलीवर किया\"\r\n        case \"no\":\r\n          return \"No - नहीं,  पूरा आर्डर डिलीवर नहीं हुआ है\"\r\n        default:\r\n          return <span style={{color: 'red'}}>Complete Order Delivered? - क्या आपने पूरा आर्डर डिलीवर किया?</span>;\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"pv-10\">\r\n        \r\n        {\r\n        customer.delivery.deliver_date ?\r\n        <Card variant=\"outlined\">\r\n          <div className=\"p-10\">\r\n            <Typography variant=\"body\">Delivered By</Typography>\r\n            <Typography variant=\"h6\">\r\n              {driver.name}\r\n            </Typography>\r\n          </div>\r\n          <Divider />\r\n          <div className=\"p-10\">\r\n            <Typography variant=\"body\">Delivered On</Typography>\r\n            <Typography variant=\"h6\">\r\n              {new Date(deliver_date).toDateString()}\r\n            </Typography>\r\n          </div>\r\n          <Divider />\r\n          <div className=\"p-10\">\r\n              <Typography variant=\"body\">Delivery Type - डिलीवरी कहाँ करी</Typography>\r\n              <Typography variant=\"h6\">\r\n                {mapDeliveryType(delivery_type)}\r\n              </Typography>\r\n          </div>\r\n          <Divider />\r\n          <div className=\"p-10\">\r\n            <Typography variant=\"body\">Delivery Photo</Typography>\r\n            {\r\n              proof_img ?\r\n              <div>\r\n                <img alt=\"order\" src={proof_img} width={300} /> \r\n              </div> :\r\n              <Typography variant=\"h6\"><span style={{color: 'red'}}>No Picture taken</span></Typography>\r\n            }\r\n          </div>\r\n          <Divider />\r\n          <div className=\"p-10\">\r\n          <Typography variant=\"body\">Complete Order Delivered? - क्या पूरा आर्डर डिलीवर किया?</Typography>\r\n            <Typography variant=\"h6\">\r\n              {mapCompleteDelivery(complete_delivery)}\r\n            </Typography>\r\n          </div>\r\n          <Divider />\r\n          <div className=\"p-10\">\r\n          <Typography variant=\"body\">Boxes - कितने डब्बे डिलीवर करे</Typography>\r\n            <Typography variant=\"h6\">{boxes}</Typography>\r\n          </div>\r\n          <Divider />\r\n          <div className=\"p-10\">\r\n          <Typography variant=\"body\">Milk Packets - कितने दूध के पैकेट डिलीवर करे</Typography>\r\n            <Typography variant=\"h6\">{milk_packets}</Typography>\r\n          </div>\r\n        </Card> :\r\n        \r\n          <Typography variant=\"h3\" style={{color: 'red'}} >\r\n            Not Delivered yet\r\n          </Typography>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n  render() {\r\n    \r\n    let {customer} = this.props;\r\n    \r\n    return (\r\n      <div >\r\n        {customer && <Dialog \r\n          fullScreen \r\n          open={true}\r\n          TransitionComponent={Transition}\r\n        >\r\n          <AppBar\r\n            position=\"fixed\"\r\n            color=\"default\"\r\n          >\r\n            <Toolbar>\r\n              <IconButton \r\n                edge=\"start\" \r\n                color=\"inherit\" \r\n                onClick={() => {\r\n                  this.props.setSelectedCustomer(false);\r\n                }} \r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography variant=\"h6\" >\r\n                {customer.name}\r\n              </Typography>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <div style={{margin: '60px 10px 20px 10px', padding: '30px 10px'}}>\r\n            <Typography variant=\"h4\" >\r\n              Delivery Information\r\n            </Typography>\r\n            <Divider />\r\n            <this.Review />\r\n          </div>\r\n        </Dialog>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(OrderDeliveryForm);\r\n","D:\\Coding\\go4Life\\delivery-crm\\src\\helpers\\exportCSV.js",[],{"ruleId":"150","replacedBy":"151"},{"ruleId":"152","replacedBy":"153"},{"ruleId":"154","severity":1,"message":"155","line":3,"column":50,"nodeType":"156","messageId":"157","endLine":3,"endColumn":56},{"ruleId":"154","severity":1,"message":"158","line":49,"column":10,"nodeType":"156","messageId":"157","endLine":49,"endColumn":18},{"ruleId":"154","severity":1,"message":"159","line":49,"column":20,"nodeType":"156","messageId":"157","endLine":49,"endColumn":29},{"ruleId":"150","replacedBy":"160"},{"ruleId":"152","replacedBy":"161"},{"ruleId":"162","severity":1,"message":"163","line":1,"column":1,"nodeType":"164","endLine":129,"endColumn":3},{"ruleId":"154","severity":1,"message":"165","line":7,"column":3,"nodeType":"156","messageId":"157","endLine":7,"endColumn":11},{"ruleId":"154","severity":1,"message":"166","line":18,"column":9,"nodeType":"156","messageId":"157","endLine":18,"endColumn":24},{"ruleId":"154","severity":1,"message":"167","line":28,"column":10,"nodeType":"156","messageId":"157","endLine":28,"endColumn":27},{"ruleId":"154","severity":1,"message":"168","line":38,"column":11,"nodeType":"156","messageId":"157","endLine":38,"endColumn":29},{"ruleId":"154","severity":1,"message":"169","line":12,"column":8,"nodeType":"156","messageId":"157","endLine":12,"endColumn":15},{"ruleId":"154","severity":1,"message":"170","line":13,"column":8,"nodeType":"156","messageId":"157","endLine":13,"endColumn":25},{"ruleId":"154","severity":1,"message":"171","line":114,"column":37,"nodeType":"156","messageId":"157","endLine":114,"endColumn":52},{"ruleId":"172","severity":1,"message":"173","line":239,"column":28,"nodeType":"174","messageId":"175","endLine":239,"endColumn":30},{"ruleId":"154","severity":1,"message":"176","line":37,"column":82,"nodeType":"156","messageId":"157","endLine":37,"endColumn":101},"no-native-reassign",["177"],"no-negated-in-lhs",["178"],"no-unused-vars","'Marker' is defined but never used.","Identifier","unusedVar","'latitude' is assigned a value but never used.","'longitude' is assigned a value but never used.",["177"],["178"],"import/no-anonymous-default-export","Assign array to a variable before exporting as module default","ExportDefaultDeclaration","'Polyline' is defined but never used.","'pathCoordinates' is assigned a value but never used.","'onlyMilkAndPaneer' is defined but never used.","'productsCollection' is assigned a value but never used.","'Tooltip' is defined but never used.","'PeopleOutlineIcon' is defined but never used.","'selectedSubarea' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'order_cancel_reason' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]